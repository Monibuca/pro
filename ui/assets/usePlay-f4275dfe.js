import{d as v,u as e,U as f,V as w,f as t,E as r,a3 as _,k as y,w as C,$ as o,a8 as D,a4 as d,_ as N}from"./vue-0f3866c3.js";import"./dayjs-4778c158.js";import{by as I,T as k,am as p}from"./index-0f1216c0.js";import{a as V}from"./index-2339cc6f.js";import{D as g,p as P}from"./index-4409a03f.js";import{i as $,V as z,a as b}from"./jb4-df322d33.js";import{a as B,D as u}from"./index-a3a00587.js";import{C as W}from"./Card-b011a411.js";const T={key:0},K=v({__name:"scroll-tip",props:{windowWidth:{type:Number,default:1/0}},setup(a){const l=a,{width:i}=I();return(h,s)=>e(i)<l.windowWidth?(f(),w("p",T,[t(k,{icon:"ic:baseline-tips-and-updates",class:"v-text-bottom"}),r(" 当列表出现横向滚动条时，windows可通过【按住shift键+鼠标滚轮】mac通过【在鼠标上左右滑动】来快速查看 ")])):_("",!0)}}),E={class:"h-full w-full flex flex-items-center"},F={class:"text-center"},M=v({__name:"play",props:{path:null,id:null,deviceName:null,deviceID:null,channelName:null},setup(a){const l=a,i={fontWeight:"bold"},h=y("http-flv"),s=y("");C([()=>l.id,()=>l.path],([n,c])=>{c?s.value=c:n&&$({id:l.id,channel:l.deviceID}).finally(()=>{s.value=`${l.id}/${l.deviceID}`})},{immediate:!0});const m=()=>{const n=s.value.split("/");return{id:n[0],channel:n[1]}},x=async n=>{p.destroy(),await b({id:m().id,channel:m().channel,ptzcmd:n}).then(async c=>{p.success("指令发送成功"),S()}).catch(c=>{p.success("指令发送失败")})},S=()=>{setTimeout(async()=>{await b({id:m().id,channel:m().channel,ptzcmd:P()})})};return(n,c)=>(f(),w("div",E,[t(z,{videoShadow:!0,streamPath:s.value,format:h.value,class:"flex-1 m-r-10px"},{default:o(()=>[D("div",F,d(s.value),1)]),_:1},8,["streamPath","format"]),t(e(W),{bordered:!1,bodyStyle:{height:"100%",width:"250px"}},{default:o(()=>[t(g,{hanldeClick:x,allowed:!!s.value},null,8,["allowed"]),a.id?(f(),N(e(B),{key:0,column:1,class:"mt-20px",layout:"vertical"},{default:o(()=>[t(e(u),{class:"!pb-8px",labelStyle:e(i),label:"设备名称"},{default:o(()=>[r(d(a.deviceName||"--"),1)]),_:1},8,["labelStyle"]),t(e(u),{class:"!pb-8px",labelStyle:e(i),label:"设备编号"},{default:o(()=>[r(d(a.id||"--"),1)]),_:1},8,["labelStyle"]),t(e(u),{class:"!pb-8px",labelStyle:e(i),label:"通道名称"},{default:o(()=>[r(d(a.channelName||"--"),1)]),_:1},8,["labelStyle"]),t(e(u),{class:"!pb-8px",labelStyle:e(i),label:"通道编号"},{default:o(()=>[r(d(a.deviceID||"--"),1)]),_:1},8,["labelStyle"])]),_:1})):_("",!0)]),_:1})]))}}),L=a=>{V({content:()=>t(M,a,null),modalConfig:{width:"100%",wrapClassName:"full-antdv-modal",destroyOnClose:!0,footer:null}})};export{K as _,L as u};
