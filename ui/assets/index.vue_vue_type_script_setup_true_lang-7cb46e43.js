import{d as b,k as g,w as Y,U as _,V as v,a4 as M}from"./vue-c6b19427.js";import{d as E}from"./dayjs-4778c158.js";import{bW as N,bX as O,aj as S,bY as h,bZ as y}from"./index-aad18627.js";var j="[object Number]";function w(s){return typeof s=="number"||N(s)&&O(s)==j}const A="YYYY-MM-DD HH:mm:ss",H="YYYY-MM-DD",i=E,k=(s,r=A)=>i(s).format(r),B=(s,r=H)=>i(s).format(r),x=b({__name:"index",props:{value:{type:[Number,String]},step:{type:Number,default:60},mode:{type:String,default:"relative",validator:s=>["date","datetime","relative"].includes(s)}},setup(s){const r=s,l=1e3,f=l*60,m=f*60,d=m*24,c=g("");S(T,r.step*l),Y(()=>r.value,()=>{T()},{immediate:!0});function p(){const{value:e}=r;let a=0;if(w(e)){const o=e.toString().length>10?e:e*1e3;a=new Date(o).getTime()}else h(e)?a=new Date(e).getTime():y(e)&&(a=e.getTime());return a}function T(){const{mode:e,value:a}=r,o=p();e==="relative"?c.value=D(o):e==="datetime"?c.value=k(a):e==="date"&&(c.value=B(a))}function D(e){const a=new Date().getTime(),o=i(e).isBefore(a);let t=a-e;o||(t=-t);let n="",u=o?"前":"后";return t<l?n="刚刚":t<f?n=parseInt(`${t/l}`)+"秒"+u:t>=f&&t<m?n=Math.floor(t/f)+"分钟"+u:t>=m&&t<d?n=Math.floor(t/m)+"小时"+u:t>=d&&t<262386e4?n=Math.floor(t/d)+"天"+u:t>=262386e4&&t<=3156786e4&&o?n=i(e).format("MM-DD-HH-mm"):n=i(e).format("YYYY"),n}return(e,a)=>(_(),v("span",null,M(c.value),1))}});export{x as _};
