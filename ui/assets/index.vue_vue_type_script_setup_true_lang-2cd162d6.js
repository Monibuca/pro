import{I as le,s as ke,d as we,p as dt,e as A,c as ct,f as I,k as X,g as jt,r as ut,o as st,a as vt,ao as Rt,w as Ke,q as Ln,x as Ht,t as Vt,A as zt,h as Gt,F as ft,J as hn,b as qt,y as Wt,U as $e,V as gn,a8 as pn,$ as bn,u as Pe,W as Kn,E as zn,a4 as Je,_ as Gn}from"./vue-c6b19427.js";import"./dayjs-4778c158.js";import{h as W,P as xe,bc as yt,_ as O,f as Oe,a as je,bd as ht,c as be,k as _e,q as Ce,be as Ze,aD as Be,o as In,bf as Ut,bg as gt,bh as Yt,i as An,K as Ae,az as Fe,bi as Xt,l as Jt,u as pt,d as Qt,bj as Zt,T as mn,G as ea}from"./index-11d05838.js";import{u as na}from"./device-19839eb7.js";import{I as ta}from"./index-48a80b2a.js";import{D as aa}from"./index-77704640.js";function pe(n){var e=le();return ke(function(){e.value=n()},{flush:"sync"}),e}var bt=Symbol("TreeContextKey"),ra=we({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,t){var r=t.slots;return dt(bt,A(function(){return e.value})),function(){var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)}}}),Fn=function(){return ct(bt,A(function(){return{}}))},Kt=Symbol("KeysStateKey"),oa=function(e){dt(Kt,e)},mt=function(){return ct(Kt,{expandedKeys:le([]),selectedKeys:le([]),loadedKeys:le([]),loadingKeys:le([]),checkedKeys:le([]),halfCheckedKeys:le([]),expandedKeysSet:A(function(){return new Set}),selectedKeysSet:A(function(){return new Set}),loadedKeysSet:A(function(){return new Set}),loadingKeysSet:A(function(){return new Set}),checkedKeysSet:A(function(){return new Set}),halfCheckedKeysSet:A(function(){return new Set}),flattenNodes:le([])})},la=function(e){for(var t=e.prefixCls,r=e.level,o=e.isStart,v=e.isEnd,u="".concat(t,"-indent-unit"),l=[],d=0;d<r;d+=1){var y;l.push(I("span",{key:d,class:(y={},W(y,u,!0),W(y,"".concat(u,"-start"),o[d]),W(y,"".concat(u,"-end"),v[d]),y)},null))}return I("span",{"aria-hidden":"true",class:"".concat(t,"-indent")},[l])};const ia=la;var kt={eventKey:[String,Number],prefixCls:String,title:xe.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:xe.any,switcherIcon:xe.any,domRef:{type:Function}},da={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},xt=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:xe.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:xe.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:xe.any,switcherIcon:xe.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},ca=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],qn="open",Wn="close",ua="---";const Dn=we({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:kt,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,t){var r=t.attrs,o=t.slots,v=t.expose;yt(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(N){return"`v-slot:"+N+"` "}),"instead"));var u=X(!1),l=Fn(),d=mt(),y=d.expandedKeysSet,K=d.selectedKeysSet,g=d.loadedKeysSet,p=d.loadingKeysSet,C=d.checkedKeysSet,k=d.halfCheckedKeysSet,D=l.value,a=D.dragOverNodeKey,s=D.dropPosition,i=D.keyEntities,S=A(function(){return wn(e.eventKey,{expandedKeysSet:y.value,selectedKeysSet:K.value,loadedKeysSet:g.value,loadingKeysSet:p.value,checkedKeysSet:C.value,halfCheckedKeysSet:k.value,dragOverNodeKey:a,dropPosition:s,keyEntities:i})}),w=pe(function(){return S.value.expanded}),_=pe(function(){return S.value.selected}),q=pe(function(){return S.value.checked}),ae=pe(function(){return S.value.loaded}),G=pe(function(){return S.value.loading}),F=pe(function(){return S.value.halfChecked}),ee=pe(function(){return S.value.dragOver}),P=pe(function(){return S.value.dragOverGapTop}),T=pe(function(){return S.value.dragOverGapBottom}),M=pe(function(){return S.value.pos}),R=X(),re=A(function(){var N=e.eventKey,c=l.value.keyEntities,m=c[N]||{},H=m.children;return!!(H||[]).length}),U=A(function(){var N=e.isLeaf,c=l.value.loadData,m=re.value;return N===!1?!1:N||!c&&!m||c&&ae.value&&!m}),ie=A(function(){return U.value?null:w.value?qn:Wn}),z=A(function(){var N=e.disabled,c=l.value.disabled;return!!(c||N)}),J=A(function(){var N=e.checkable,c=l.value.checkable;return!c||N===!1?!1:c}),ue=A(function(){var N=e.selectable,c=l.value.selectable;return typeof N=="boolean"?N:c}),Q=A(function(){var N=e.data,c=e.active,m=e.checkable,H=e.disableCheckbox,x=e.disabled,f=e.selectable;return O(O({active:c,checkable:m,disableCheckbox:H,disabled:x,selectable:f},N),{},{dataRef:N,data:N,isLeaf:U.value,checked:q.value,expanded:w.value,loading:G.value,selected:_.value,halfChecked:F.value})}),fe=jt(),de=A(function(){var N=e.eventKey,c=l.value.keyEntities,m=c[N]||{},H=m.parent;return O(O({},Pn(Oe({},e,S.value))),{},{parent:H})}),ye=ut({eventData:de,eventKey:A(function(){return e.eventKey}),selectHandle:R,pos:M,key:fe.vnode.key});v(ye);var Se=function(c){var m=l.value.onNodeDoubleClick;m(c,de.value)},He=function(c){if(!z.value){var m=l.value.onNodeSelect;c.preventDefault(),m(c,de.value)}},Me=function(c){if(!z.value){var m=e.disableCheckbox,H=l.value.onNodeCheck;if(!(!J.value||m)){c.preventDefault();var x=!q.value;H(c,de.value,x)}}},Ve=function(c){var m=l.value.onNodeClick;m(c,de.value),ue.value?He(c):Me(c)},nn=function(c){var m=l.value.onNodeMouseEnter;m(c,de.value)},tn=function(c){var m=l.value.onNodeMouseLeave;m(c,de.value)},an=function(c){var m=l.value.onNodeContextMenu;m(c,de.value)},rn=function(c){var m=l.value.onNodeDragStart;c.stopPropagation(),u.value=!0,m(c,ye);try{c.dataTransfer.setData("text/plain","")}catch{}},on=function(c){var m=l.value.onNodeDragEnter;c.preventDefault(),c.stopPropagation(),m(c,ye)},ln=function(c){var m=l.value.onNodeDragOver;c.preventDefault(),c.stopPropagation(),m(c,ye)},dn=function(c){var m=l.value.onNodeDragLeave;c.stopPropagation(),m(c,ye)},ze=function(c){var m=l.value.onNodeDragEnd;c.stopPropagation(),u.value=!1,m(c,ye)},Ge=function(c){var m=l.value.onNodeDrop;c.preventDefault(),c.stopPropagation(),u.value=!1,m(c,ye)},qe=function(c){var m=l.value.onNodeExpand;G.value||m(c,de.value)},cn=function(){var c=e.data,m=l.value.draggable;return!!(m&&(!m.nodeDraggable||m.nodeDraggable(c)))},un=function(){var c=l.value,m=c.draggable,H=c.prefixCls;return m&&m!==null&&m!==void 0&&m.icon?I("span",{class:"".concat(H,"-draggable-icon")},[m.icon]):null},sn=function(){var c,m,H,x=e.switcherIcon,f=x===void 0?o.switcherIcon||((c=l.value.slots)===null||c===void 0?void 0:c[(m=e.data)===null||m===void 0||(H=m.slots)===null||H===void 0?void 0:H.switcherIcon]):x,h=l.value.switcherIcon,b=f||h;return typeof b=="function"?b(Q.value):b},We=function(){var c=l.value,m=c.loadData,H=c.onNodeLoad;G.value||m&&w.value&&!U.value&&!re.value&&!ae.value&&H(de.value)};st(function(){We()}),vt(function(){We()});var vn=function(){var c=l.value.prefixCls,m=sn();if(U.value)return m!==!1?I("span",{class:be("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},[m]):null;var H=be("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(w.value?qn:Wn));return m!==!1?I("span",{onClick:qe,class:H},[m]):null},Ie=function(){var c,m,H=e.disableCheckbox,x=l.value.prefixCls,f=z.value,h=J.value;return h?I("span",{class:be("".concat(x,"-checkbox"),q.value&&"".concat(x,"-checkbox-checked"),!q.value&&F.value&&"".concat(x,"-checkbox-indeterminate"),(f||H)&&"".concat(x,"-checkbox-disabled")),onClick:Me},[(c=(m=l.value).customCheckable)===null||c===void 0?void 0:c.call(m)]):null},Ue=function(){var c=l.value.prefixCls;return I("span",{class:be("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(ie.value||"docu"),G.value&&"".concat(c,"-icon_loading"))},null)},fn=function(){var c=e.disabled,m=e.eventKey,H=l.value,x=H.draggable,f=H.dropLevelOffset,h=H.dropPosition,b=H.prefixCls,j=H.indent,$=H.dropIndicatorRender,L=H.dragOverNodeKey,E=H.direction,B=x!==!1,V=!c&&B&&L===m;return V?$({dropPosition:h,dropLevelOffset:f,indent:j,prefixCls:b,direction:E}):null},Ne=function(){var c,m,H,x,f=e.icon,h=f===void 0?o.icon:f,b=e.data,j=o.title||((c=l.value.slots)===null||c===void 0?void 0:c[(m=e.data)===null||m===void 0||(H=m.slots)===null||H===void 0?void 0:H.title])||((x=l.value.slots)===null||x===void 0?void 0:x.title)||e.title,$=l.value,L=$.prefixCls,E=$.showIcon,B=$.icon,V=$.loadData,Y=z.value,Z="".concat(L,"-node-content-wrapper"),ne;if(E){var oe,ce,ve=h||((oe=l.value.slots)===null||oe===void 0?void 0:oe[b==null||(ce=b.slots)===null||ce===void 0?void 0:ce.icon])||B;ne=ve?I("span",{class:be("".concat(L,"-iconEle"),"".concat(L,"-icon__customize"))},[typeof ve=="function"?ve(Q.value):ve]):Ue()}else V&&G.value&&(ne=Ue());var se;typeof j=="function"?se=j(Q.value):se=j,se=se===void 0?ua:se;var te=I("span",{class:"".concat(L,"-title")},[se]);return I("span",{ref:R,title:typeof j=="string"?j:"",class:be("".concat(Z),"".concat(Z,"-").concat(ie.value||"normal"),!Y&&(_.value||u.value)&&"".concat(L,"-node-selected")),onMouseenter:nn,onMouseleave:tn,onContextmenu:an,onClick:Ve,onDblclick:Se},[ne,te,fn()])};return function(){var N,c=O(O({},e),r),m=c.eventKey,H=c.isLeaf,x=c.isStart,f=c.isEnd,h=c.domRef,b=c.active;c.data;var j=c.onMousemove,$=c.selectable,L=je(c,ca),E=l.value,B=E.prefixCls,V=E.filterTreeNode,Y=E.keyEntities,Z=E.dropContainerKey,ne=E.dropTargetKey,oe=E.draggingNodeKey,ce=z.value,ve=ht(L,{aria:!0,data:!0}),se=Y[m]||{},te=se.level,he=f[f.length-1],ge=cn(),De=!ce&&ge,Ye=oe===m,yn=$!==void 0?{"aria-selected":!!$}:void 0;return I("div",O(O({ref:h,class:be(r.class,"".concat(B,"-treenode"),(N={},W(N,"".concat(B,"-treenode-disabled"),ce),W(N,"".concat(B,"-treenode-switcher-").concat(w.value?"open":"close"),!H),W(N,"".concat(B,"-treenode-checkbox-checked"),q.value),W(N,"".concat(B,"-treenode-checkbox-indeterminate"),F.value),W(N,"".concat(B,"-treenode-selected"),_.value),W(N,"".concat(B,"-treenode-loading"),G.value),W(N,"".concat(B,"-treenode-active"),b),W(N,"".concat(B,"-treenode-leaf-last"),he),W(N,"".concat(B,"-treenode-draggable"),De),W(N,"dragging",Ye),W(N,"drop-target",ne===m),W(N,"drop-container",Z===m),W(N,"drag-over",!ce&&ee.value),W(N,"drag-over-gap-top",!ce&&P.value),W(N,"drag-over-gap-bottom",!ce&&T.value),W(N,"filter-node",V&&V(de.value)),N)),style:r.style,draggable:De,"aria-grabbed":Ye,onDragstart:De?rn:void 0,onDragenter:ge?on:void 0,onDragover:ge?ln:void 0,onDragleave:ge?dn:void 0,onDrop:ge?Ge:void 0,onDragend:ge?ze:void 0,onMousemove:j},yn),ve),[I(ia,{prefixCls:B,level:te,isStart:x,isEnd:f},null),un(),vn(),Ie(),Ne()])}}});function Ee(n,e){if(!n)return[];var t=n.slice(),r=t.indexOf(e);return r>=0&&t.splice(r,1),t}function Te(n,e){var t=(n||[]).slice();return t.indexOf(e)===-1&&t.push(e),t}function Mn(n){return n.split("-")}function Ct(n,e){return"".concat(n,"-").concat(e)}function sa(n){return n&&n.type&&n.type.isTreeNode}function va(n,e){var t=[],r=e[n];function o(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];v.forEach(function(u){var l=u.key,d=u.children;t.push(l),o(d)})}return o(r.children),t}function fa(n){if(n.parent){var e=Mn(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function ya(n){var e=Mn(n.pos);return Number(e[e.length-1])===0}function Un(n,e,t,r,o,v,u,l,d,y){var K,g=n.clientX,p=n.clientY,C=n.target.getBoundingClientRect(),k=C.top,D=C.height,a=(y==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-g),s=(a-12)/r,i=l[t.eventKey];if(p<k+D/2){var S=u.findIndex(function(re){return re.key===i.key}),w=S<=0?0:S-1,_=u[w].key;i=l[_]}var q=i.key,ae=i,G=i.key,F=0,ee=0;if(!d.has(q))for(var P=0;P<s&&fa(i);P+=1)i=i.parent,ee+=1;var T=e.eventData,M=i.node,R=!0;return ya(i)&&i.level===0&&p<k+D/2&&v({dragNode:T,dropNode:M,dropPosition:-1})&&i.key===t.eventKey?F=-1:(ae.children||[]).length&&d.has(G)?v({dragNode:T,dropNode:M,dropPosition:0})?F=0:R=!1:ee===0?s>-1.5?v({dragNode:T,dropNode:M,dropPosition:1})?F=1:R=!1:v({dragNode:T,dropNode:M,dropPosition:0})?F=0:v({dragNode:T,dropNode:M,dropPosition:1})?F=1:R=!1:v({dragNode:T,dropNode:M,dropPosition:1})?F=1:R=!1,{dropPosition:F,dropLevelOffset:ee,dropTargetKey:i.key,dropTargetPos:i.pos,dragOverNodeKey:G,dropContainerKey:F===0?null:((K=i.parent)===null||K===void 0?void 0:K.key)||null,dropAllowed:R}}function Yn(n,e){if(n){var t=e.multiple;return t?n.slice():n.length?[n[0]]:n}}function kn(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(_e(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function En(n,e){var t=new Set;function r(o){if(!t.has(o)){var v=e[o];if(v){t.add(o);var u=v.parent,l=v.node;l.disabled||u&&r(u.key)}}}return(n||[]).forEach(function(o){r(o)}),Ce(t)}var ha=["title","icon","switcherIcon"];function Re(n,e){return n??e}function en(n){var e=n||{},t=e.title,r=e._title,o=e.key,v=e.children,u=t||"title";return{title:u,_title:r||[u],key:o||"key",children:v||"children"}}function On(n){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=Ze(t);return r.map(function(o){var v,u,l,d;if(!sa(o))return null;for(var y=o.children||{},K=o.key,g={},p=0,C=Object.entries(o.props);p<C.length;p++){var k=Be(C[p],2),D=k[0],a=k[1];g[Rt(D)]=a}var s=g.isLeaf,i=g.checkable,S=g.selectable,w=g.disabled,_=g.disableCheckbox,q={isLeaf:s||s===""||void 0,checkable:i||i===""||void 0,selectable:S||S===""||void 0,disabled:w||w===""||void 0,disableCheckbox:_||_===""||void 0},ae=O(O({},g),q),G=g.title,F=G===void 0?(v=y.title)===null||v===void 0?void 0:v.call(y,ae):G,ee=g.icon,P=ee===void 0?(u=y.icon)===null||u===void 0?void 0:u.call(y,ae):ee,T=g.switcherIcon,M=T===void 0?(l=y.switcherIcon)===null||l===void 0?void 0:l.call(y,ae):T,R=je(g,ha),re=(d=y.default)===null||d===void 0?void 0:d.call(y),U=O(O({},R),{},{title:F,icon:P,switcherIcon:M,key:K,isLeaf:s},q),ie=e(re);return ie.length&&(U.children=ie),U})}return e(n)}function ga(n,e,t){var r=en(t),o=r._title,v=r.key,u=r.children,l=new Set(e===!0?[]:e),d=[];function y(K){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return K.map(function(p,C){for(var k=Ct(g?g.pos:"0",C),D=Re(p[v],k),a,s=0;s<o.length;s+=1){var i=o[s];if(p[i]!==void 0){a=p[i];break}}var S=O(O({},In(p,[].concat(Ce(o),[v,u]))),{},{title:a,key:D,parent:g,pos:k,children:null,data:p,isStart:[].concat(Ce(g?g.isStart:[]),[C===0]),isEnd:[].concat(Ce(g?g.isEnd:[]),[C===K.length-1])});return d.push(S),e===!0||l.has(D)?S.children=y(p[u]||[],S):S.children=[],S})}return y(n),d}function pa(n,e,t){var r={};_e(t)==="object"?r=t:r={externalGetKey:t},r=r||{};var o=r,v=o.childrenPropName,u=o.externalGetKey,l=o.fieldNames,d=en(l),y=d.key,K=d.children,g=v||K,p;u?typeof u=="string"?p=function(D){return D[u]}:typeof u=="function"&&(p=function(D){return u(D)}):p=function(D,a){return Re(D[y],a)};function C(k,D,a,s){var i=k?k[g]:n,S=k?Ct(a.pos,D):"0",w=k?[].concat(Ce(s),[k]):[];if(k){var _=p(k,S),q={node:k,index:D,pos:S,key:_,parentPos:a.node?a.pos:null,level:a.level+1,nodes:w};e(q)}i&&i.forEach(function(ae,G){C(ae,G,{node:k,pos:S,level:a?a.level+1:-1},w)})}C(null)}function St(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.initWrapper,r=e.processEntity,o=e.onProcessFinished,v=e.externalGetKey,u=e.childrenPropName,l=e.fieldNames,d=arguments.length>2?arguments[2]:void 0,y=v||d,K={},g={},p={posEntities:K,keyEntities:g};return t&&(p=t(p)||p),pa(n,function(C){var k=C.node,D=C.index,a=C.pos,s=C.key,i=C.parentPos,S=C.level,w=C.nodes,_={node:k,nodes:w,index:D,key:s,pos:a,level:S},q=Re(s,a);K[a]=_,g[q]=_,_.parent=K[i],_.parent&&(_.parent.children=_.parent.children||[],_.parent.children.push(_)),r&&r(_,p)},{externalGetKey:y,childrenPropName:u,fieldNames:l}),o&&o(p),p}function wn(n,e){var t=e.expandedKeysSet,r=e.selectedKeysSet,o=e.loadedKeysSet,v=e.loadingKeysSet,u=e.checkedKeysSet,l=e.halfCheckedKeysSet,d=e.dragOverNodeKey,y=e.dropPosition,K=e.keyEntities,g=K[n],p={eventKey:n,expanded:t.has(n),selected:r.has(n),loaded:o.has(n),loading:v.has(n),checked:u.has(n),halfChecked:l.has(n),pos:String(g?g.pos:""),parent:g.parent,dragOver:d===n&&y===0,dragOverGapTop:d===n&&y===-1,dragOverGapBottom:d===n&&y===1};return p}function Pn(n){var e=n.data,t=n.expanded,r=n.selected,o=n.checked,v=n.loaded,u=n.loading,l=n.halfChecked,d=n.dragOver,y=n.dragOverGapTop,K=n.dragOverGapBottom,g=n.pos,p=n.active,C=n.eventKey,k=O(O({dataRef:e},e),{},{expanded:t,selected:r,checked:o,loaded:v,loading:u,halfChecked:l,dragOver:d,dragOverGapTop:y,dragOverGapBottom:K,pos:g,active:p,eventKey:C,key:C});return"props"in k||Object.defineProperty(k,"props",{get:function(){return n}}),k}function Nt(n,e){var t=new Set;return n.forEach(function(r){e.has(r)||t.add(r)}),t}function ba(n){var e=n||{},t=e.disabled,r=e.disableCheckbox,o=e.checkable;return!!(t||r)||o===!1}function Ka(n,e,t,r){for(var o=new Set(n),v=new Set,u=0;u<=t;u+=1){var l=e.get(u)||new Set;l.forEach(function(g){var p=g.key,C=g.node,k=g.children,D=k===void 0?[]:k;o.has(p)&&!r(C)&&D.filter(function(a){return!r(a.node)}).forEach(function(a){o.add(a.key)})})}for(var d=new Set,y=t;y>=0;y-=1){var K=e.get(y)||new Set;K.forEach(function(g){var p=g.parent,C=g.node;if(!(r(C)||!g.parent||d.has(g.parent.key))){if(r(g.parent.node)){d.add(p.key);return}var k=!0,D=!1;(p.children||[]).filter(function(a){return!r(a.node)}).forEach(function(a){var s=a.key,i=o.has(s);k&&!i&&(k=!1),!D&&(i||v.has(s))&&(D=!0)}),k&&o.add(p.key),D&&v.add(p.key),d.add(p.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Nt(v,o))}}function ma(n,e,t,r,o){for(var v=new Set(n),u=new Set(e),l=0;l<=r;l+=1){var d=t.get(l)||new Set;d.forEach(function(p){var C=p.key,k=p.node,D=p.children,a=D===void 0?[]:D;!v.has(C)&&!u.has(C)&&!o(k)&&a.filter(function(s){return!o(s.node)}).forEach(function(s){v.delete(s.key)})})}u=new Set;for(var y=new Set,K=r;K>=0;K-=1){var g=t.get(K)||new Set;g.forEach(function(p){var C=p.parent,k=p.node;if(!(o(k)||!p.parent||y.has(p.parent.key))){if(o(p.parent.node)){y.add(C.key);return}var D=!0,a=!1;(C.children||[]).filter(function(s){return!o(s.node)}).forEach(function(s){var i=s.key,S=v.has(i);D&&!S&&(D=!1),!a&&(S||u.has(i))&&(a=!0)}),D||v.delete(C.key),a&&u.add(C.key),y.add(C.key)}})}return{checkedKeys:Array.from(v),halfCheckedKeys:Array.from(Nt(u,v))}}function xn(n,e,t,r,o,v){var u;v?u=v:u=ba;var l=new Set(n.filter(function(y){var K=!!t[y];return K})),d;return e===!0?d=Ka(l,o,r,u):d=ma(l,e.halfCheckedKeys,o,r,u),d}function ka(n){var e=X(0),t=le();return ke(function(){var r=new Map,o=0,v=n.value||{};for(var u in v)if(Object.prototype.hasOwnProperty.call(v,u)){var l=v[u],d=l.level,y=r.get(d);y||(y=new Set,r.set(d,y)),y.add(l),o=Math.max(o,d)}e.value=o,t.value=r}),{maxLevel:e,levelEntities:t}}var xa=["motion","motionNodes","motionType","active","eventKey"];const Ca=we({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},kt),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,t){var r=t.attrs,o=t.slots,v=X(!0),u=Fn(),l=X(!1),d=A(function(){return e.motion?e.motion:Ut()}),y=function(g,p){if(p==="appear"){var C,k;(C=d.value)===null||C===void 0||(k=C.onAfterEnter)===null||k===void 0||k.call(C,g)}else if(p==="leave"){var D,a;(D=d.value)===null||D===void 0||(a=D.onAfterLeave)===null||a===void 0||a.call(D,g)}l.value||e.onMotionEnd(),l.value=!0};return Ke(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&v.value&&Ln(function(){v.value=!1})},{immediate:!0,flush:"post"}),st(function(){e.motionNodes&&e.onMotionStart()}),Ht(function(){e.motionNodes&&y()}),function(){e.motion;var K=e.motionNodes,g=e.motionType,p=e.active,C=e.eventKey,k=je(e,xa);return K?I(Gt,O(O({},d.value),{},{appear:g==="show",onAfterAppear:function(a){return y(a,"appear")},onAfterLeave:function(a){return y(a,"leave")}}),{default:function(){return[Vt(I("div",{class:"".concat(u.value.prefixCls,"-treenode-motion")},[K.map(function(a){var s=Oe({},(gt(a.data),a.data)),i=a.title,S=a.key,w=a.isStart,_=a.isEnd;return delete s.children,I(Dn,O(O({},s),{},{title:i,active:p,data:a.data,key:S,eventKey:S,isStart:w,isEnd:_}),o)})]),[[zt,v.value]])]}}):I(Dn,O(O({domRef:X,class:r.class,style:r.style},k),{},{active:p,eventKey:C}),o)}}});function Sa(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=n.length,r=e.length;if(Math.abs(t-r)!==1)return{add:!1,key:null};function o(v,u){var l=new Map;v.forEach(function(y){l.set(y,!0)});var d=u.filter(function(y){return!l.has(y)});return d.length===1?d[0]:null}return t<r?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function Xn(n,e,t){var r=n.findIndex(function(l){return l.key===t}),o=n[r+1],v=e.findIndex(function(l){return l.key===t});if(o){var u=e.findIndex(function(l){return l.key===o.key});return e.slice(v+1,u)}return e.slice(v+1)}var Na=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],Jn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Da=function(){},Le="RC_TREE_MOTION_".concat(Math.random()),Tn={key:Le},Dt={key:Le,level:0,index:0,pos:"0",node:Tn,nodes:[Tn]},Qn={parent:null,children:[],pos:Dt.pos,data:Tn,title:null,key:Le,isStart:[],isEnd:[]};function Zn(n,e,t,r){return e===!1||!t?n:n.slice(0,Math.ceil(t/r)+1)}function et(n){var e=n.key,t=n.pos;return Re(e,t)}function Ea(n){for(var e=String(n.key),t=n;t.parent;)t=t.parent,e="".concat(t.key," > ").concat(e);return e}const Oa=we({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:da,setup:function(e,t){var r=t.expose,o=t.attrs,v=X(),u=X(),l=mt(),d=l.expandedKeys,y=l.flattenNodes;r({scrollTo:function(i){v.value.scrollTo(i)},getIndentWidth:function(){return u.value.offsetWidth}});var K=le(y.value),g=le([]),p=X(null);function C(){K.value=y.value,g.value=[],p.value=null,e.onListChangeEnd()}var k=Fn();Ke([function(){return d.value.slice()},y],function(s,i){var S=Be(s,2),w=S[0],_=S[1],q=Be(i,2),ae=q[0],G=q[1],F=Sa(ae,w);if(F.key!==null){var ee=e.virtual,P=e.height,T=e.itemHeight;if(F.add){var M=G.findIndex(function(J){var ue=J.key;return ue===F.key}),R=Zn(Xn(G,_,F.key),ee,P,T),re=G.slice();re.splice(M+1,0,Qn),K.value=re,g.value=R,p.value="show"}else{var U=_.findIndex(function(J){var ue=J.key;return ue===F.key}),ie=Zn(Xn(_,G,F.key),ee,P,T),z=_.slice();z.splice(U+1,0,Qn),K.value=z,g.value=ie,p.value="hide"}}else G!==_&&(K.value=_)}),Ke(function(){return k.value.dragging},function(s){s||C()});var D=A(function(){return e.motion===void 0?K.value:y.value}),a=function(){e.onActiveChange(null)};return function(){var s=O(O({},e),o),i=s.prefixCls;s.selectable,s.checkable;var S=s.disabled,w=s.motion,_=s.height,q=s.itemHeight,ae=s.virtual,G=s.focusable,F=s.activeItem,ee=s.focused,P=s.tabindex,T=s.onKeydown,M=s.onFocus,R=s.onBlur,re=s.onListChangeStart;s.onListChangeEnd;var U=je(s,Na);return I(ft,null,[ee&&F&&I("span",{style:Jn,"aria-live":"assertive"},[Ea(F)]),I("div",null,[I("input",{style:Jn,disabled:G===!1||S,tabindex:G!==!1?P:null,onKeydown:T,onFocus:M,onBlur:R,value:"",onChange:Da,"aria-label":"for screen reader"},null)]),I("div",{class:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[I("div",{class:"".concat(i,"-indent")},[I("div",{ref:u,class:"".concat(i,"-indent-unit")},null)])]),I(Yt,O(O({},In(U,["onActiveChange"])),{},{data:D.value,itemKey:et,height:_,fullHeight:!1,virtual:ae,itemHeight:q,prefixCls:"".concat(i,"-list"),ref:v,onVisibleChange:function(z,J){var ue=new Set(z),Q=J.filter(function(fe){return!ue.has(fe)});Q.some(function(fe){return et(fe)===Le})&&C()}}),{default:function(z){var J=z.pos,ue=Oe({},(gt(z.data),z.data)),Q=z.title,fe=z.key,de=z.isStart,ye=z.isEnd,Se=Re(fe,J);return delete ue.key,delete ue.children,I(Ca,O(O({},ue),{},{eventKey:Se,title:Q,active:!!F&&fe===F.key,data:z.data,isStart:de,isEnd:ye,motion:w,motionNodes:fe===Le?g.value:null,motionType:p.value,onMotionStart:re,onMotionEnd:C,onMousemove:a}),null)}})])}}});function wa(n){var e=n.dropPosition,t=n.dropLevelOffset,r=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:o.top=0,o.left="".concat(-t*r,"px");break;case 1:o.bottom=0,o.left="".concat(-t*r,"px");break;case 0:o.bottom=0,o.left="".concat(r);break}return I("div",{style:o},null)}var Pa=10;const Ta=we({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:An(xt(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:wa,allowDrop:function(){return!0}}),setup:function(e,t){var r=t.attrs,o=t.slots,v=t.expose,u=X(!1),l={},d=X(),y=le([]),K=le([]),g=le([]),p=le([]),C=le([]),k=le([]),D={},a=ut({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),s=le([]);Ke([function(){return e.treeData},function(){return e.children}],function(){s.value=e.treeData!==void 0?hn(e.treeData).slice():On(hn(e.children))},{immediate:!0,deep:!0});var i=le({}),S=X(!1),w=X(null),_=X(!1),q=A(function(){return en(e.fieldNames)}),ae=X(),G=null,F=null,ee=null,P=A(function(){return{expandedKeysSet:T.value,selectedKeysSet:M.value,loadedKeysSet:R.value,loadingKeysSet:re.value,checkedKeysSet:U.value,halfCheckedKeysSet:ie.value,dragOverNodeKey:a.dragOverNodeKey,dropPosition:a.dropPosition,keyEntities:i.value}}),T=A(function(){return new Set(k.value)}),M=A(function(){return new Set(y.value)}),R=A(function(){return new Set(p.value)}),re=A(function(){return new Set(C.value)}),U=A(function(){return new Set(K.value)}),ie=A(function(){return new Set(g.value)});ke(function(){if(s.value){var x=St(s.value,{fieldNames:q.value});i.value=O(W({},Le,Dt),x.keyEntities)}});var z=!1;Ke([function(){return e.expandedKeys},function(){return e.autoExpandParent},i],function(x,f){var h=Be(x,2);h[0];var b=h[1],j=Be(f,2);j[0];var $=j[1],L=k.value;if(e.expandedKeys!==void 0||z&&b!==$)L=e.autoExpandParent||!z&&e.defaultExpandParent?En(e.expandedKeys,i.value):e.expandedKeys;else if(!z&&e.defaultExpandAll){var E=O({},i.value);delete E[Le],L=Object.keys(E).map(function(B){return E[B].key})}else!z&&e.defaultExpandedKeys&&(L=e.autoExpandParent||e.defaultExpandParent?En(e.defaultExpandedKeys,i.value):e.defaultExpandedKeys);L&&(k.value=L),z=!0},{immediate:!0});var J=le([]);ke(function(){J.value=ga(s.value,k.value,q.value)}),ke(function(){e.selectable&&(e.selectedKeys!==void 0?y.value=Yn(e.selectedKeys,e):!z&&e.defaultSelectedKeys&&(y.value=Yn(e.defaultSelectedKeys,e)))});var ue=ka(i),Q=ue.maxLevel,fe=ue.levelEntities;ke(function(){if(e.checkable){var x;if(e.checkedKeys!==void 0?x=kn(e.checkedKeys)||{}:!z&&e.defaultCheckedKeys?x=kn(e.defaultCheckedKeys)||{}:s.value&&(x=kn(e.checkedKeys)||{checkedKeys:K.value,halfCheckedKeys:g.value}),x){var f=x,h=f.checkedKeys,b=h===void 0?[]:h,j=f.halfCheckedKeys,$=j===void 0?[]:j;if(!e.checkStrictly){var L=xn(b,!0,i.value,Q.value,fe.value);b=L.checkedKeys,$=L.halfCheckedKeys}K.value=b,g.value=$}}}),ke(function(){e.loadedKeys&&(p.value=e.loadedKeys)});var de=function(){Oe(a,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ye=function(f){ae.value.scrollTo(f)};Ke(function(){return e.activeKey},function(){e.activeKey!==void 0&&(w.value=e.activeKey)},{immediate:!0}),Ke(w,function(x){Ln(function(){x!==null&&ye({key:x})})},{immediate:!0,flush:"post"});var Se=function(f){e.expandedKeys===void 0&&(k.value=f)},He=function(){a.draggingNodeKey!==null&&Oe(a,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),G=null,ee=null},Me=function(f,h){var b=e.onDragend;a.dragOverNodeKey=null,He(),b==null||b({event:f,node:h.eventData}),F=null},Ve=function x(f){Me(f,null),window.removeEventListener("dragend",x)},nn=function(f,h){var b=e.onDragstart,j=h.eventKey,$=h.eventData;F=h,G={x:f.clientX,y:f.clientY};var L=Ee(k.value,j);a.draggingNodeKey=j,a.dragChildrenKeys=va(j,i.value),d.value=ae.value.getIndentWidth(),Se(L),window.addEventListener("dragend",Ve),b&&b({event:f,node:$})},tn=function(f,h){var b=e.onDragenter,j=e.onExpand,$=e.allowDrop,L=e.direction,E=h.pos,B=h.eventKey;if(ee!==B&&(ee=B),!F){de();return}var V=Un(f,F,h,d.value,G,$,J.value,i.value,T.value,L),Y=V.dropPosition,Z=V.dropLevelOffset,ne=V.dropTargetKey,oe=V.dropContainerKey,ce=V.dropTargetPos,ve=V.dropAllowed,se=V.dragOverNodeKey;if(a.dragChildrenKeys.indexOf(ne)!==-1||!ve){de();return}if(l||(l={}),Object.keys(l).forEach(function(te){clearTimeout(l[te])}),F.eventKey!==h.eventKey&&(l[E]=window.setTimeout(function(){if(a.draggingNodeKey!==null){var te=k.value.slice(),he=i.value[h.eventKey];he&&(he.children||[]).length&&(te=Te(k.value,h.eventKey)),Se(te),j&&j(te,{node:h.eventData,expanded:!0,nativeEvent:f})}},800)),F.eventKey===ne&&Z===0){de();return}Oe(a,{dragOverNodeKey:se,dropPosition:Y,dropLevelOffset:Z,dropTargetKey:ne,dropContainerKey:oe,dropTargetPos:ce,dropAllowed:ve}),b&&b({event:f,node:h.eventData,expandedKeys:k.value})},an=function(f,h){var b=e.onDragover,j=e.allowDrop,$=e.direction;if(F){var L=Un(f,F,h,d.value,G,j,J.value,i.value,T.value,$),E=L.dropPosition,B=L.dropLevelOffset,V=L.dropTargetKey,Y=L.dropContainerKey,Z=L.dropAllowed,ne=L.dropTargetPos,oe=L.dragOverNodeKey;a.dragChildrenKeys.indexOf(V)!==-1||!Z||(F.eventKey===V&&B===0?a.dropPosition===null&&a.dropLevelOffset===null&&a.dropTargetKey===null&&a.dropContainerKey===null&&a.dropTargetPos===null&&a.dropAllowed===!1&&a.dragOverNodeKey===null||de():E===a.dropPosition&&B===a.dropLevelOffset&&V===a.dropTargetKey&&Y===a.dropContainerKey&&ne===a.dropTargetPos&&Z===a.dropAllowed&&oe===a.dragOverNodeKey||Oe(a,{dropPosition:E,dropLevelOffset:B,dropTargetKey:V,dropContainerKey:Y,dropTargetPos:ne,dropAllowed:Z,dragOverNodeKey:oe}),b&&b({event:f,node:h.eventData}))}},rn=function(f,h){ee===h.eventKey&&!f.currentTarget.contains(f.relatedTarget)&&(de(),ee=null);var b=e.onDragleave;b&&b({event:f,node:h.eventData})},on=function(f,h){var b,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=a.dragChildrenKeys,L=a.dropPosition,E=a.dropTargetKey,B=a.dropTargetPos,V=a.dropAllowed;if(V){var Y=e.onDrop;if(a.dragOverNodeKey=null,He(),E!==null){var Z=O(O({},wn(E,hn(P.value))),{},{active:((b=N.value)===null||b===void 0?void 0:b.key)===E,data:i.value[E].node});$.indexOf(E);var ne=Mn(B),oe={event:f,node:Pn(Z),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat($),dropToGap:L!==0,dropPosition:L+Number(ne[ne.length-1])};j||Y==null||Y(oe),F=null}}},ln=function(f,h){var b=e.onClick;b&&b(f,h)},dn=function(f,h){var b=e.onDblclick;b&&b(f,h)},ze=function(f,h){var b=y.value,j=e.onSelect,$=e.multiple,L=h.selected,E=h[q.value.key],B=!L;B?$?b=Te(b,E):b=[E]:b=Ee(b,E);var V=i.value,Y=b.map(function(Z){var ne=V[Z];return ne?ne.node:null}).filter(function(Z){return Z});e.selectedKeys===void 0&&(y.value=b),j&&j(b,{event:"select",selected:B,node:h,selectedNodes:Y,nativeEvent:f})},Ge=function(f,h,b){var j=e.checkStrictly,$=e.onCheck,L=h[q.value.key],E,B={event:"check",node:h,checked:b,nativeEvent:f},V=i.value;if(j){var Y=b?Te(K.value,L):Ee(K.value,L),Z=Ee(g.value,L);E={checked:Y,halfChecked:Z},B.checkedNodes=Y.map(function(te){return V[te]}).filter(function(te){return te}).map(function(te){return te.node}),e.checkedKeys===void 0&&(K.value=Y)}else{var ne=xn([].concat(Ce(K.value),[L]),!0,V,Q.value,fe.value),oe=ne.checkedKeys,ce=ne.halfCheckedKeys;if(!b){var ve=new Set(oe);ve.delete(L);var se=xn(Array.from(ve),{checked:!1,halfCheckedKeys:ce},V,Q.value,fe.value);oe=se.checkedKeys,ce=se.halfCheckedKeys}E=oe,B.checkedNodes=[],B.checkedNodesPositions=[],B.halfCheckedKeys=ce,oe.forEach(function(te){var he=V[te];if(he){var ge=he.node,De=he.pos;B.checkedNodes.push(ge),B.checkedNodesPositions.push({node:ge,pos:De})}}),e.checkedKeys===void 0&&(K.value=oe,g.value=ce)}$&&$(E,B)},qe=function(f){var h=f[q.value.key],b=new Promise(function(j,$){var L=e.loadData,E=e.onLoad;if(!L||R.value.has(h)||re.value.has(h))return null;var B=L(f);B.then(function(){var V=Te(p.value,h),Y=Ee(C.value,h);E&&E(V,{event:"load",node:f}),e.loadedKeys===void 0&&(p.value=V),C.value=Y,j()}).catch(function(V){var Y=Ee(C.value,h);if(C.value=Y,D[h]=(D[h]||0)+1,D[h]>=Pa){var Z=Te(p.value,h);e.loadedKeys===void 0&&(p.value=Z),j()}$(V)}),C.value=Te(C.value,h)});return b.catch(function(){}),b},cn=function(f,h){var b=e.onMouseenter;b&&b({event:f,node:h})},un=function(f,h){var b=e.onMouseleave;b&&b({event:f,node:h})},sn=function(f,h){var b=e.onRightClick;b&&(f.preventDefault(),b({event:f,node:h}))},We=function(f){var h=e.onFocus;S.value=!0,h&&h(f)},vn=function(f){var h=e.onBlur;S.value=!1,Ne(null),h&&h(f)},Ie=function(f,h){var b=k.value,j=e.onExpand,$=e.loadData,L=h.expanded,E=h[q.value.key];if(!_.value){b.indexOf(E);var B=!L;if(B?b=Te(b,E):b=Ee(b,E),Se(b),j&&j(b,{node:h,expanded:B,nativeEvent:f}),B&&$){var V=qe(h);V&&V.then(function(){}).catch(function(Y){var Z=Ee(k.value,E);Se(Z),Promise.reject(Y)})}}},Ue=function(){_.value=!0},fn=function(){setTimeout(function(){_.value=!1})},Ne=function(f){var h=e.onActiveChange;w.value!==f&&(e.activeKey!==void 0&&(w.value=f),f!==null&&ye({key:f}),h&&h(f))},N=A(function(){return w.value===null?null:J.value.find(function(x){var f=x.key;return f===w.value})||null}),c=function(f){var h=J.value.findIndex(function($){var L=$.key;return L===w.value});h===-1&&f<0&&(h=J.value.length),h=(h+f+J.value.length)%J.value.length;var b=J.value[h];if(b){var j=b.key;Ne(j)}else Ne(null)},m=A(function(){return Pn(O(O({},wn(w.value,P.value)),{},{data:N.value.data,active:!0}))}),H=function(f){var h=e.onKeydown,b=e.checkable,j=e.selectable;switch(f.which){case Ae.UP:{c(-1),f.preventDefault();break}case Ae.DOWN:{c(1),f.preventDefault();break}}var $=N.value;if($&&$.data){var L=$.data.isLeaf===!1||!!($.data.children||[]).length,E=m.value;switch(f.which){case Ae.LEFT:{L&&T.value.has(w.value)?Ie({},E):$.parent&&Ne($.parent.key),f.preventDefault();break}case Ae.RIGHT:{L&&!T.value.has(w.value)?Ie({},E):$.children&&$.children.length&&Ne($.children[0].key),f.preventDefault();break}case Ae.ENTER:case Ae.SPACE:{b&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?Ge({},E,!U.value.has(w.value)):!b&&j&&!E.disabled&&E.selectable!==!1&&ze({},E);break}}}h&&h(f)};return v({onNodeExpand:Ie,scrollTo:ye,onKeydown:H,selectedKeys:A(function(){return y.value}),checkedKeys:A(function(){return K.value}),halfCheckedKeys:A(function(){return g.value}),loadedKeys:A(function(){return p.value}),loadingKeys:A(function(){return C.value}),expandedKeys:A(function(){return k.value})}),qt(function(){window.removeEventListener("dragend",Ve),u.value=!0}),oa({expandedKeys:k,selectedKeys:y,loadedKeys:p,loadingKeys:C,checkedKeys:K,halfCheckedKeys:g,expandedKeysSet:T,selectedKeysSet:M,loadedKeysSet:R,loadingKeysSet:re,checkedKeysSet:U,halfCheckedKeysSet:ie,flattenNodes:J}),function(){var x,f=a.draggingNodeKey,h=a.dropLevelOffset,b=a.dropContainerKey,j=a.dropTargetKey,$=a.dropPosition,L=a.dragOverNodeKey,E=e.prefixCls,B=e.showLine,V=e.focusable,Y=e.tabindex,Z=Y===void 0?0:Y,ne=e.selectable,oe=e.showIcon,ce=e.icon,ve=ce===void 0?o.icon:ce,se=e.switcherIcon,te=e.draggable,he=e.checkable,ge=e.checkStrictly,De=e.disabled,Ye=e.motion,yn=e.loadData,wt=e.filterTreeNode,Pt=e.height,Tt=e.itemHeight,Lt=e.virtual,It=e.dropIndicatorRender,At=e.onContextmenu,Ft=e.onScroll,Mt=e.direction,$t=r.class,_t=r.style,Bt=ht(O(O({},e),r),{aria:!0,data:!0}),Xe;return te&&(_e(te)==="object"?Xe=te:typeof te=="function"?Xe={nodeDraggable:te}:Xe={}),I(ra,{value:{prefixCls:E,selectable:ne,showIcon:oe,icon:ve,switcherIcon:se,draggable:Xe,draggingNodeKey:f,checkable:he,customCheckable:o.checkable,checkStrictly:ge,disabled:De,keyEntities:i.value,dropLevelOffset:h,dropContainerKey:b,dropTargetKey:j,dropPosition:$,dragOverNodeKey:L,dragging:f!==null,indent:d.value,direction:Mt,dropIndicatorRender:It,loadData:yn,filterTreeNode:wt,onNodeClick:ln,onNodeDoubleClick:dn,onNodeExpand:Ie,onNodeSelect:ze,onNodeCheck:Ge,onNodeLoad:qe,onNodeMouseEnter:cn,onNodeMouseLeave:un,onNodeContextMenu:sn,onNodeDragStart:nn,onNodeDragEnter:tn,onNodeDragOver:an,onNodeDragLeave:rn,onNodeDragEnd:Me,onNodeDrop:on,slots:o}},{default:function(){return[I("div",{role:"tree",class:be(E,$t,(x={},W(x,"".concat(E,"-show-line"),B),W(x,"".concat(E,"-focused"),S.value),W(x,"".concat(E,"-active-focused"),w.value!==null),x))},[I(Oa,O({ref:ae,prefixCls:E,style:_t,disabled:De,selectable:ne,checkable:!!he,motion:Ye,height:Pt,itemHeight:Tt,virtual:Lt,focusable:V,focused:S.value,tabindex:Z,activeItem:N.value,onFocus:We,onBlur:vn,onKeydown:H,onActiveChange:Ne,onListChangeStart:Ue,onListChangeEnd:fn,onContextmenu:At,onScroll:Ft},Bt),null)])]}})}}});var La={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Ia=La;function nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Aa(n,o,t[o])})}return n}function Aa(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var $n=function(e,t){var r=nt({},e,t.attrs);return I(Fe,nt({},r,{icon:Ia}),null)};$n.displayName="FileOutlined";$n.inheritAttrs=!1;const Et=$n;var Fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Ma=Fa;function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){$a(n,o,t[o])})}return n}function $a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _n=function(e,t){var r=tt({},e,t.attrs);return I(Fe,tt({},r,{icon:Ma}),null)};_n.displayName="MinusSquareOutlined";_n.inheritAttrs=!1;const _a=_n;var Ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const ja=Ba;function at(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Ra(n,o,t[o])})}return n}function Ra(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Bn=function(e,t){var r=at({},e,t.attrs);return I(Fe,at({},r,{icon:ja}),null)};Bn.displayName="PlusSquareOutlined";Bn.inheritAttrs=!1;const Ha=Bn;var Va={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const za=Va;function rt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Ga(n,o,t[o])})}return n}function Ga(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jn=function(e,t){var r=rt({},e,t.attrs);return I(Fe,rt({},r,{icon:za}),null)};jn.displayName="CaretDownFilled";jn.inheritAttrs=!1;const qa=jn;function Wa(n,e,t,r){var o=r.isLeaf,v=r.expanded,u=r.loading,l=e;if(u)return I(Xt,{class:"".concat(n,"-switcher-loading-icon")},null);var d;t&&_e(t)==="object"&&(d=t.showLeafIcon);var y=null,K="".concat(n,"-switcher-icon");return o?(t&&(_e(t)==="object"&&!d?y=I("span",{class:"".concat(n,"-switcher-leaf-line")},null):y=I(Et,{class:"".concat(n,"-switcher-line-icon")},null)),y):(y=I(qa,{class:K},null),t&&(y=v?I(_a,{class:"".concat(n,"-switcher-line-icon")},null):I(Ha,{class:"".concat(n,"-switcher-line-icon")},null)),typeof e=="function"?l=e(O(O({},r),{},{defaultIcon:y,switcherCls:K})):Jt(l)&&(l=Wt(l,{class:K})),l||y)}var ot=4;function Ua(n){var e,t=n.dropPosition,r=n.dropLevelOffset,o=n.prefixCls,v=n.indent,u=n.direction,l=u===void 0?"ltr":u,d=l==="ltr"?"left":"right",y=l==="ltr"?"right":"left",K=(e={},W(e,d,"".concat(-r*v+ot,"px")),W(e,y,0),e);switch(t){case-1:K.top="".concat(-3,"px");break;case 1:K.bottom="".concat(-3,"px");break;default:K.bottom="".concat(-3,"px"),K[d]="".concat(v+ot,"px");break}return I("div",{style:K,class:"".concat(o,"-drop-indicator")},null)}var Ot=function(){var e=xt();return O(O({},e),{},{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:xe.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:xe.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})};const Qe=we({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:An(Ot(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,t){var r=t.attrs,o=t.expose,v=t.emit,u=t.slots;yt(!(e.treeData===void 0&&u.default));var l=pt("tree",e),d=l.prefixCls,y=l.direction,K=l.virtual,g=X(),p=function(s){var i;(i=g.value)===null||i===void 0||i.scrollTo(s)};o({treeRef:g,onNodeExpand:function(){for(var s,i=arguments.length,S=new Array(i),w=0;w<i;w++)S[w]=arguments[w];(s=g.value)===null||s===void 0||s.onNodeExpand.apply(s,S)},scrollTo:p,selectedKeys:A(function(){var a;return(a=g.value)===null||a===void 0?void 0:a.selectedKeys}),checkedKeys:A(function(){var a;return(a=g.value)===null||a===void 0?void 0:a.checkedKeys}),halfCheckedKeys:A(function(){var a;return(a=g.value)===null||a===void 0?void 0:a.halfCheckedKeys}),loadedKeys:A(function(){var a;return(a=g.value)===null||a===void 0?void 0:a.loadedKeys}),loadingKeys:A(function(){var a;return(a=g.value)===null||a===void 0?void 0:a.loadingKeys}),expandedKeys:A(function(){var a;return(a=g.value)===null||a===void 0?void 0:a.expandedKeys})}),ke(function(){Qt(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});var C=function(s,i){v("update:checkedKeys",s),v("check",s,i)},k=function(s,i){v("update:expandedKeys",s),v("expand",s,i)},D=function(s,i){v("update:selectedKeys",s),v("select",s,i)};return function(){var a,s=e.showIcon,i=e.showLine,S=e.switcherIcon,w=S===void 0?u.switcherIcon:S,_=e.icon,q=_===void 0?u.icon:_,ae=e.blockNode,G=e.checkable,F=e.selectable,ee=e.fieldNames,P=ee===void 0?e.replaceFields:ee,T=e.motion,M=T===void 0?e.openAnimation:T,R=e.itemHeight,re=R===void 0?28:R,U=e.onDoubleclick,ie=e.onDblclick,z=O(O(O({},r),In(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{},{showLine:!!i,dropIndicatorRender:Ua,fieldNames:P,icon:q,itemHeight:re}),J=u.default?Ze(u.default()):void 0;return I(Ta,O(O({},z),{},{virtual:K.value,motion:M,ref:g,prefixCls:d.value,class:be((a={},W(a,"".concat(d.value,"-icon-hide"),!s),W(a,"".concat(d.value,"-block-node"),ae),W(a,"".concat(d.value,"-unselectable"),!F),W(a,"".concat(d.value,"-rtl"),y.value==="rtl"),a),r.class),direction:y.value,checkable:G,selectable:F,switcherIcon:function(Q){return Wa(d.value,w,i,Q)},onCheck:C,onExpand:k,onSelect:D,onDblclick:ie||U,children:J}),O(O({},u),{},{checkable:function(){return I("span",{class:"".concat(d.value,"-checkbox-inner")},null)}}))}}});var Ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Xa=Ya;function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){Ja(n,o,t[o])})}return n}function Ja(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Rn=function(e,t){var r=lt({},e,t.attrs);return I(Fe,lt({},r,{icon:Xa}),null)};Rn.displayName="FolderOpenOutlined";Rn.inheritAttrs=!1;const Qa=Rn;var Za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const er=Za;function it(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){nr(n,o,t[o])})}return n}function nr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Hn=function(e,t){var r=it({},e,t.attrs);return I(Fe,it({},r,{icon:er}),null)};Hn.displayName="FolderOutlined";Hn.inheritAttrs=!1;const tr=Hn;var me;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(me||(me={}));function Vn(n,e,t){function r(o){var v=o[e.key],u=o[e.children];t(v,o)!==!1&&Vn(u||[],e,t)}n.forEach(r)}function ar(n){var e=n.treeData,t=n.expandedKeys,r=n.startKey,o=n.endKey,v=n.fieldNames,u=v===void 0?{title:"title",key:"key",children:"children"}:v,l=[],d=me.None;if(r&&r===o)return[r];if(!r||!o)return[];function y(K){return K===r||K===o}return Vn(e,u,function(K){if(d===me.End)return!1;if(y(K)){if(l.push(K),d===me.None)d=me.Start;else if(d===me.Start)return d=me.End,!1}else d===me.Start&&l.push(K);return t.indexOf(K)!==-1}),l}function Cn(n,e,t){var r=Ce(e),o=[];return Vn(n,t,function(v,u){var l=r.indexOf(v);return l!==-1&&(o.push(u),r.splice(l,1)),!!r.length}),o}var rr=["icon","blockNode"],or=function(){return O(O({},Ot()),{},{expandAction:{type:[Boolean,String]}})};function lr(n){var e=n.isLeaf,t=n.expanded;return e?I(Et,null,null):t?I(Qa,null,null):I(tr,null,null)}const Sn=we({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:An(or(),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,t){var r,o=t.attrs,v=t.slots,u=t.emit,l=t.expose,d=X(e.treeData||On(Ze((r=v.default)===null||r===void 0?void 0:r.call(v))));Ke(function(){return e.treeData},function(){d.value=e.treeData}),vt(function(){Ln(function(){if(e.treeData===void 0&&v.default){var P;d.value=On(Ze((P=v.default)===null||P===void 0?void 0:P.call(v)))}})});var y=X(),K=X(),g=A(function(){return en(e.fieldNames)}),p=X(),C=function(T){var M;(M=p.value)===null||M===void 0||M.scrollTo(T)};l({scrollTo:C,selectedKeys:A(function(){var P;return(P=p.value)===null||P===void 0?void 0:P.selectedKeys}),checkedKeys:A(function(){var P;return(P=p.value)===null||P===void 0?void 0:P.checkedKeys}),halfCheckedKeys:A(function(){var P;return(P=p.value)===null||P===void 0?void 0:P.halfCheckedKeys}),loadedKeys:A(function(){var P;return(P=p.value)===null||P===void 0?void 0:P.loadedKeys}),loadingKeys:A(function(){var P;return(P=p.value)===null||P===void 0?void 0:P.loadingKeys}),expandedKeys:A(function(){var P;return(P=p.value)===null||P===void 0?void 0:P.expandedKeys})});var k=function(){var T=St(d.value,{fieldNames:g.value}),M=T.keyEntities,R;return e.defaultExpandAll?R=Object.keys(M):e.defaultExpandParent?R=En(e.expandedKeys||e.defaultExpandedKeys||[],M):R=e.expandedKeys||e.defaultExpandedKeys,R},D=X(e.selectedKeys||e.defaultSelectedKeys||[]),a=X(k());Ke(function(){return e.selectedKeys},function(){e.selectedKeys!==void 0&&(D.value=e.selectedKeys)},{immediate:!0}),Ke(function(){return e.expandedKeys},function(){e.expandedKeys!==void 0&&(a.value=e.expandedKeys)},{immediate:!0});var s=function(T,M){var R=M.isLeaf;R||T.shiftKey||T.metaKey||T.ctrlKey||p.value.onNodeExpand(T,M)},i=Zt(s,200,{leading:!0}),S=function(T,M){e.expandedKeys===void 0&&(a.value=T),u("update:expandedKeys",T),u("expand",T,M)},w=function(T,M){var R=e.expandAction;R==="click"&&i(T,M),u("click",T,M)},_=function(T,M){var R=e.expandAction;(R==="dblclick"||R==="doubleclick")&&i(T,M),u("doubleclick",T,M),u("dblclick",T,M)},q=function(T,M){var R=e.multiple,re=M.node,U=M.nativeEvent,ie=re[g.value.key],z=O(O({},M),{},{selected:!0}),J=(U==null?void 0:U.ctrlKey)||(U==null?void 0:U.metaKey),ue=U==null?void 0:U.shiftKey,Q;R&&J?(Q=T,y.value=ie,K.value=Q,z.selectedNodes=Cn(d.value,Q,g.value)):R&&ue?(Q=Array.from(new Set([].concat(Ce(K.value||[]),Ce(ar({treeData:d.value,expandedKeys:a.value,startKey:ie,endKey:y.value,fieldNames:g.value}))))),z.selectedNodes=Cn(d.value,Q,g.value)):(Q=[ie],y.value=ie,K.value=Q,z.selectedNodes=Cn(d.value,Q,g.value)),u("update:selectedKeys",Q),u("select",Q,z),e.selectedKeys===void 0&&(D.value=Q)},ae=function(T,M){u("update:checkedKeys",T),u("check",T,M)},G=pt("tree",e),F=G.prefixCls,ee=G.direction;return function(){var P=be("".concat(F.value,"-directory"),W({},"".concat(F.value,"-directory-rtl"),ee.value==="rtl"),o.class),T=e.icon,M=T===void 0?v.icon:T,R=e.blockNode,re=R===void 0?!0:R,U=je(e,rr);return I(Qe,O(O(O({},o),{},{icon:M||lr,ref:p,blockNode:re},U),{},{prefixCls:F.value,class:P,expandedKeys:a.value,selectedKeys:D.value,onSelect:q,onClick:w,onDblclick:_,onExpand:S,onCheck:ae}),v)}}});var Nn=Dn;const ir=Oe(Qe,{DirectoryTree:Sn,TreeNode:Nn,install:function(e){return e.component(Qe.name,Qe),e.component(Nn.name,Nn),e.component(Sn.name,Sn),e}}),dr={class:"p-16px"},cr={class:"m-16px overscroll-contain overflow-y-auto overflow-x-hidden",style:{"max-height":"calc(100% - 64px)"}},ur={class:"text-red"},br=we({__name:"index",props:{single:{type:Boolean,default:!1}},emits:["select"],setup(n,{emit:e}){const t=n,r=na();r.fetchdeviceTree();const o=X([]),v=a=>a.key.includes("-")&&a.hasOwnProperty("LiveStatus"),u=(a,s)=>{const i=d.value.filter(S=>S!==a[0]);i.length<d.value.length?d.value=i:d.value=d.value.concat(a),t.single&&v(s.node)&&(o.value=[s.node.key]),e("select",s.node)},l=X(""),d=X([]),y=X(!0),K=a=>{d.value=a,y.value=!1},g=X([]),p=(a,s)=>{let i;if(!(s!=null&&s.length))return i;for(let S=0;S<s.length;S++){const w=s[S];w.children&&(w.children.some(_=>_.key===a)?i=w.key:p(a,w.children)&&(i=p(a,w.children)))}return i};let C=[];const k=a=>{const s=C.map(i=>i.title.indexOf(a)>-1?p(i.key,g.value):null).filter((i,S,w)=>i&&w.indexOf(i)===S);d.value=s,l.value=a,y.value=!0},D=ea(a=>k(a.target.value),250);return ke(()=>{if(g.value=r.deviceTree,C=r.deviceArr,t.single){for(let a of C)if(v(a)){o.value=[a.key],d.value=[p(a.key,g.value)],e("select",a);break}}}),(a,s)=>($e(),gn(ft,null,[pn("div",dr,[I(Pe(ta),{placeholder:"模糊搜索设备名称",allowClear:"",onInput:Pe(D)},{prefix:bn(()=>[I(Pe(mn),{icon:"ic:outline-search"})]),_:1},8,["onInput"])]),I(Pe(aa),{class:"m0"}),pn("div",cr,[I(Pe(ir),{showIcon:"","tree-data":g.value,defaultExpandAll:"","expanded-keys":d.value,"auto-expand-parent":y.value,onExpand:K,selectedKeys:o.value,onSelect:u},{title:bn(({title:i,isLeaf:S,disabled:w,DeviceID:_})=>[i.indexOf(l.value)>-1?($e(),gn("span",{key:0,class:Kn({"text-primary":!w&&S&&_})},[zn(Je(i.substr(0,i.indexOf(l.value)))+" ",1),pn("span",ur,Je(l.value),1),zn(" "+Je(i.substr(i.indexOf(l.value)+l.value.length)),1)],2)):($e(),gn("span",{key:1,onClick:s[0]||(s[0]=q=>u("test",q)),class:Kn({"text-primary":!w&&S&&_})},Je(i),3))]),icon:bn(({isLeaf:i,DeviceID:S,disabled:w})=>[i&&S?($e(),Gn(Pe(mn),{key:0,icon:"mdi:web-camera",class:Kn(["v-text-bottom",{"text-primary":!w}])},null,8,["class"])):($e(),Gn(Pe(mn),{key:1,icon:"icon-park-solid:tree-diagram",class:"v-text-bottom rotate-90"}))]),_:1},8,["tree-data","expanded-keys","auto-expand-parent","selectedKeys"])])],64))}});export{br as _};
