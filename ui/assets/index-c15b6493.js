import{d as X,k as W,f as o,t as St,A as wt,h as Tt,o as Me,r as Re,w as De,e as oe,ab as Ot,x as kt,q as Ge,s as It,F as Le,J as Pt,E as R,U as ot,V as lt,$ as I,u as m,a4 as Be,a8 as U}from"./vue-c6b19427.js";import{l as $t,t as Nt,u as Ae,a as he,i as rt,d as D,C as Dt,al as Lt,am as Bt,an as Mt,b as g,P as ne,ao as Rt,ap as At,aq as Ft,ar as jt,as as Ht,at as zt,au as Vt,av as Ut,_ as fe,K as ce,aw as Fe,ax as it,c as le,ay as $e,w as pe,az as Kt,aA as qt,o as re,aB as Gt,a4 as ue,aC as Wt,aD as Jt,aE as Xt,aF as Yt,aG as Qt,ag as st,ai as We,R as Zt,aj as en,W as tn,aa as ae,J,ah as nn,aH as an,ak as Je,aI as on,aJ as ln,aK as rn,aL as sn}from"./index-aad18627.js";import"./dayjs-4778c158.js";import{a as ct,u as cn}from"./index-95df8ea5.js";import{u as ut}from"./formily-e2a545c0.js";import{T as un}from"./index-e6a754fb.js";import{T as Xe}from"./index-80191c24.js";import{C as de}from"./Card-8c962093.js";import{S as dn}from"./index-bb28e965.js";import{D as pn}from"./DarkModeToggle-5bb1e45b.js";import"./mockjs-890b569b.js";import"./index-7bab0ec1.js";import"./LeftOutlined-b0277a64.js";import"./index-2a404b4e.js";import"./Group-e4257df4.js";import"./useFlexGapSupport-8d02a6ec.js";import"./index-76e12268.js";import"./scrollTo-4880713e.js";var fn={success:Rt,info:At,error:Ft,warning:jt},vn={success:Ht,info:zt,error:Vt,warning:Ut},mn=Nt("success","info","warning","error"),yn=function(){return{type:ne.oneOf(mn),closable:{type:Boolean,default:void 0},closeText:ne.any,message:ne.any,description:ne.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:ne.any,closeIcon:ne.any,onClose:Function}},gn=X({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:yn(),setup:function(e,n){var a=n.slots,c=n.emit,s=n.attrs,u=n.expose,v=Ae("alert",e),h=v.prefixCls,l=v.direction,b=W(!1),E=W(!1),S=W(),P=function(p){p.preventDefault();var w=S.value;w.style.height="".concat(w.offsetHeight,"px"),w.style.height="".concat(w.offsetHeight,"px"),b.value=!0,c("close",p)},f=function(){var p;b.value=!1,E.value=!0,(p=e.afterClose)===null||p===void 0||p.call(e)};u({animationEnd:f});var y=W({});return function(){var i,p,w=e.banner,V=e.closeIcon,C=V===void 0?(i=a.closeIcon)===null||i===void 0?void 0:i.call(a):V,_=e.closable,T=e.type,$=e.showIcon,Y=he(a,e,"closeText"),A=he(a,e,"description"),Q=he(a,e,"message"),j=he(a,e,"icon");$=w&&$===void 0?!0:$,T=w&&T===void 0?"warning":T||"info";var Z=(A?vn:fn)[T]||null;Y&&(_=!0);var N=h.value,we=rt(N,(p={},D(p,"".concat(N,"-").concat(T),!0),D(p,"".concat(N,"-closing"),b.value),D(p,"".concat(N,"-with-description"),!!A),D(p,"".concat(N,"-no-icon"),!$),D(p,"".concat(N,"-banner"),!!w),D(p,"".concat(N,"-closable"),_),D(p,"".concat(N,"-rtl"),l.value==="rtl"),p)),Te=_?o("button",{type:"button",onClick:P,class:"".concat(N,"-close-icon"),tabindex:0},[Y?o("span",{class:"".concat(N,"-close-text")},[Y]):C===void 0?o(Dt,null,null):C]):null,Oe=j&&(Lt(j)?Bt(j,{class:"".concat(N,"-icon")}):o("span",{class:"".concat(N,"-icon")},[j]))||o(Z,{class:"".concat(N,"-icon")},null),ke=Mt("".concat(N,"-motion"),{appear:!1,css:!0,onAfterLeave:f,onBeforeLeave:function(r){r.style.maxHeight="".concat(r.offsetHeight,"px")},onLeave:function(r){r.style.maxHeight="0px"}});return E.value?null:o(Tt,ke,{default:function(){return[St(o("div",g(g({role:"alert"},s),{},{style:[s.style,y.value],class:[s.class,we],"data-show":!b.value,ref:S}),[$?Oe:null,o("div",{class:"".concat(N,"-content")},[Q?o("div",{class:"".concat(N,"-message")},[Q]):null,A?o("div",{class:"".concat(N,"-description")},[A]):null]),Te]),[[wt,!b.value]])]}})}}});const bn=$t(gn);var hn=["noStyle","disabled"],Cn={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},xn=X({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup:function(e,n){var a=n.slots,c=n.emit,s=n.attrs,u=n.expose,v=W(),h=function(f){var y=f.keyCode;y===ce.ENTER&&f.preventDefault()},l=function(f){var y=f.keyCode;y===ce.ENTER&&c("click",f)},b=function(f){c("click",f)},E=function(){v.value&&v.value.focus()},S=function(){v.value&&v.value.blur()};return Me(function(){e.autofocus&&E()}),u({focus:E,blur:S}),function(){var P,f=e.noStyle,y=e.disabled,i=fe(e,hn),p={};return f||(p=g({},Cn)),y&&(p.pointerEvents="none"),o("div",g(g(g({role:"button",tabindex:0,ref:v},i),s),{},{onClick:b,onKeydown:h,onKeyup:l,style:g(g({},p),s.style||{})}),[(P=a.default)===null||P===void 0?void 0:P.call(a)])}}});const Ye=xn;var En={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const _n=En;function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable}))),a.forEach(function(c){Sn(t,c,n[c])})}return t}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var je=function(e,n){var a=Qe({},e,n.attrs);return o(Fe,Qe({},a,{icon:_n}),null)};je.displayName="EnterOutlined";je.inheritAttrs=!1;const wn=je;var Tn=function(){return{prefixCls:String,value:String,maxlength:Number,autoSize:{type:[Boolean,Object]},onSave:Function,onCancel:Function,onEnd:Function,onChange:Function,originContent:String,direction:String}},On=X({compatConfig:{MODE:3},name:"Editable",props:Tn(),setup:function(e,n){var a=n.emit,c=n.slots,s=Re({current:e.value||"",lastKeyCode:void 0,inComposition:!1,cancelFlag:!1});De(function(){return e.value},function(i){s.current=i});var u=W();Me(function(){if(u.value){var i,p=(i=u.value)===null||i===void 0?void 0:i.resizableTextArea,w=p==null?void 0:p.textArea;w.focus();var V=w.value.length;w.setSelectionRange(V,V)}});function v(i){u.value=i}function h(i){var p=i.target.value;s.current=p.replace(/[\r\n]/g,""),a("change",s.current)}function l(){s.inComposition=!0}function b(){s.inComposition=!1}function E(i){var p=i.keyCode;p===ce.ENTER&&i.preventDefault(),!s.inComposition&&(s.lastKeyCode=p)}function S(i){var p=i.keyCode,w=i.ctrlKey,V=i.altKey,C=i.metaKey,_=i.shiftKey;s.lastKeyCode===p&&!s.inComposition&&!w&&!V&&!C&&!_&&(p===ce.ENTER?(f(),a("end")):p===ce.ESC&&(s.current=e.originContent,a("cancel")))}function P(){f()}function f(){a("save",s.current.trim())}var y=oe(function(){var i;return i={},D(i,"".concat(e.prefixCls),!0),D(i,"".concat(e.prefixCls,"-edit-content"),!0),D(i,"".concat(e.prefixCls,"-rtl"),e.direction==="rtl"),i});return function(){return o("div",{class:y.value},[o(un,{ref:v,maxlength:e.maxlength,value:s.current,onChange:h,onKeydown:E,onKeyup:S,onCompositionstart:l,onCompositionend:b,onBlur:P,rows:1,autoSize:e.autoSize===void 0||e.autoSize},null),c.enterIcon?c.enterIcon({className:"".concat(e.prefixCls,"-edit-content-confirm")}):o(wn,{class:"".concat(e.prefixCls,"-edit-content-confirm")},null)])}}});const kn=On;var In=3,Pn=8,M,Ne={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function $n(t){var e=Array.prototype.slice.apply(t);return e.map(function(n){return"".concat(n,": ").concat(t.getPropertyValue(n),";")}).join("")}function dt(t,e){t.setAttribute("aria-hidden","true");var n=window.getComputedStyle(e),a=$n(n);t.setAttribute("style",a),t.style.position="fixed",t.style.left="0",t.style.height="auto",t.style.minHeight="auto",t.style.maxHeight="auto",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0",t.style.top="-999999px",t.style.zIndex="-1000",t.style.textOverflow="clip",t.style.whiteSpace="normal",t.style.webkitLineClamp="none"}function Nn(t){var e=document.createElement("div");dt(e,t),e.appendChild(document.createTextNode("text")),document.body.appendChild(e);var n=e.getBoundingClientRect().height;return document.body.removeChild(e),n}const Dn=function(t,e,n,a,c){M||(M=document.createElement("div"),M.setAttribute("aria-hidden","true"),document.body.appendChild(M));var s=e.rows,u=e.suffix,v=u===void 0?"":u,h=Nn(t),l=Math.round(h*s*100)/100;dt(M,t);var b=Ot({render:function(){return o("div",{style:Ne},[o("span",{style:Ne},[n,v]),o("span",{style:Ne},[a])])}});b.mount(M);function E(){var C=Math.round(M.getBoundingClientRect().height*100)/100;return C-.1<=l}if(E())return b.unmount(),{content:n,text:M.innerHTML,ellipsis:!1};var S=Array.prototype.slice.apply(M.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(function(C){var _=C.nodeType,T=C.data;return _!==Pn&&T!==""}),P=Array.prototype.slice.apply(M.childNodes[0].childNodes[1].cloneNode(!0).childNodes);b.unmount();var f=[];M.innerHTML="";var y=document.createElement("span");M.appendChild(y);var i=document.createTextNode(c+v);y.appendChild(i),P.forEach(function(C){M.appendChild(C)});function p(C){y.insertBefore(C,i)}function w(C,_){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.length,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,A=Math.floor((T+$)/2),Q=_.slice(0,A);if(C.textContent=Q,T>=$-1)for(var j=$;j>=T;j-=1){var Z=_.slice(0,j);if(C.textContent=Z,E()||!Z)return j===_.length?{finished:!1,vNode:_}:{finished:!0,vNode:Z}}return E()?w(C,_,A,$,A):w(C,_,T,A,Y)}function V(C){var _=C.nodeType;if(_===In){var T=C.textContent||"",$=document.createTextNode(T);return p($),w($,T)}return{finished:!1,vNode:null}}return S.some(function(C){var _=V(C),T=_.finished,$=_.vNode;return $&&f.push($),T}),{content:f,text:M.innerHTML,ellipsis:!0}};var Ln=["prefixCls","class","direction","component"],Bn=function(){return{prefixCls:String,direction:String,component:String}},Mn=X({name:"ATypography",inheritAttrs:!1,props:Bn(),setup:function(e,n){var a=n.slots,c=n.attrs,s=Ae("typography",e),u=s.prefixCls,v=s.direction;return function(){var h,l=g(g({},e),c);l.prefixCls,l.class,l.direction;var b=l.component,E=b===void 0?"article":b,S=fe(l,Ln);return o(E,g({class:rt(u.value,D({},"".concat(u.value,"-rtl"),v.value==="rtl"),c.class)},S),{default:function(){return[(h=a.default)===null||h===void 0?void 0:h.call(a)]}})}}});const F=Mn;var Rn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,a=[],c=0;c<e.rangeCount;c++)a.push(e.getRangeAt(c));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||a.forEach(function(s){e.addRange(s)}),n&&n.focus()}};const An=Rn;var Ze={"text/plain":"Text","text/html":"Url",default:"Text"},Fn="Copy to clipboard: #{key}, Enter";function jn(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Hn(t,e){var n,a,c,s,u,v=!1;e||(e={});var h=e.debug||!1;try{a=An(),c=document.createRange(),s=document.getSelection(),u=document.createElement("span"),u.textContent=t,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(b){if(b.stopPropagation(),e.format)if(b.preventDefault(),typeof b.clipboardData>"u"){h&&console.warn("unable to use e.clipboardData"),h&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var E=Ze[e.format]||Ze.default;window.clipboardData.setData(E,t)}else b.clipboardData.clearData(),b.clipboardData.setData(e.format,t);e.onCopy&&(b.preventDefault(),e.onCopy(b.clipboardData))}),document.body.appendChild(u),c.selectNodeContents(u),s.addRange(c);var l=document.execCommand("copy");if(!l)throw new Error("copy command was unsuccessful");v=!0}catch(b){h&&console.error("unable to copy using execCommand: ",b),h&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),v=!0}catch(E){h&&console.error("unable to copy using clipboardData: ",E),h&&console.error("falling back to prompt"),n=jn("message"in e?e.message:Fn),window.prompt(n,t)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(c):s.removeAllRanges()),u&&document.body.removeChild(u),a()}return v}var zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const Vn=zn;function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable}))),a.forEach(function(c){Un(t,c,n[c])})}return t}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var He=function(e,n){var a=et({},e,n.attrs);return o(Fe,et({},a,{icon:Vn}),null)};He.displayName="CopyOutlined";He.inheritAttrs=!1;const Kn=He;var qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const Gn=qn;function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable}))),a.forEach(function(c){Wn(t,c,n[c])})}return t}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ze=function(e,n){var a=tt({},e,n.attrs);return o(Fe,tt({},a,{icon:Gn}),null)};ze.displayName="EditOutlined";ze.inheritAttrs=!1;const Jn=ze;var Xn=["type","disabled","content","class","style"],Yn=it("webkitLineClamp"),Qn=it("textOverflow"),nt="...",ve=function(){return{editable:{type:[Boolean,Object],default:void 0},copyable:{type:[Boolean,Object],default:void 0},prefixCls:String,component:String,type:String,disabled:{type:Boolean,default:void 0},ellipsis:{type:[Boolean,Object],default:void 0},code:{type:Boolean,default:void 0},mark:{type:Boolean,default:void 0},underline:{type:Boolean,default:void 0},delete:{type:Boolean,default:void 0},strong:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},content:String,"onUpdate:content":Function}},Zn=X({compatConfig:{MODE:3},name:"Base",inheritAttrs:!1,props:ve(),setup:function(e,n){var a=n.slots,c=n.attrs,s=n.emit,u=Ae("typography",e),v=u.prefixCls,h=u.direction,l=Re({copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1,expandStr:"",copyStr:"",copiedStr:"",editStr:"",copyId:void 0,rafId:void 0,prevProps:void 0,originContent:""}),b=W(),E=W(),S=oe(function(){var r=e.ellipsis;return r?g({rows:1,expandable:!1},le(r)==="object"?r:null):{}});Me(function(){l.clientRendered=!0}),kt(function(){clearTimeout(l.copyId),$e.cancel(l.rafId)}),De([function(){return S.value.rows},function(){return e.content}],function(){Ge(function(){Q()})},{flush:"post",deep:!0,immediate:!0}),It(function(){e.content===void 0&&(pe(!e.editable,"Typography","When `editable` is enabled, please use `content` instead of children"),pe(!e.ellipsis,"Typography","When `ellipsis` is enabled, please use `content` instead of children"))});function P(){var r,d;return e.ellipsis||e.editable?e.content:(r=b.value)===null||r===void 0||(d=r.$el)===null||d===void 0?void 0:d.innerText}function f(r){var d=S.value.onExpand;l.expanded=!0,d==null||d(r)}function y(r){r.preventDefault(),l.originContent=e.content,A(!0)}function i(r){p(r),A(!1)}function p(r){var d=C.value.onChange;r!==e.content&&(s("update:content",r),d==null||d(r))}function w(){var r,d;(r=(d=C.value).onCancel)===null||r===void 0||r.call(d),A(!1)}function V(r){r.preventDefault(),r.stopPropagation();var d=e.copyable,x=g({},le(d)==="object"?d:null);x.text===void 0&&(x.text=P()),Hn(x.text||""),l.copied=!0,Ge(function(){x.onCopy&&x.onCopy(),l.copyId=setTimeout(function(){l.copied=!1},3e3)})}var C=oe(function(){var r=e.editable;return r?g({},le(r)==="object"?r:null):{editing:!1}}),_=Kt(!1,{value:oe(function(){return C.value.editing})}),T=qt(_,2),$=T[0],Y=T[1];function A(r){var d=C.value.onStart;r&&d&&d(),Y(r)}De($,function(r){if(!r){var d;(d=E.value)===null||d===void 0||d.focus()}},{flush:"post"});function Q(){$e.cancel(l.rafId),l.rafId=$e(function(){Z()})}var j=oe(function(){var r=S.value,d=r.rows,x=r.expandable,O=r.suffix,B=r.onEllipsis,k=r.tooltip;return O||k||e.editable||e.copyable||x||B?!1:d===1?Qn:Yn}),Z=function(){var d,x,O=l.ellipsisText,B=l.isEllipsis,k=S.value,L=k.rows,H=k.suffix,K=k.onEllipsis;if(!(!L||L<0||!((d=b.value)!==null&&d!==void 0&&d.$el)||l.expanded||e.content===void 0)&&!j.value){var z=Dn((x=b.value)===null||x===void 0?void 0:x.$el,{rows:L,suffix:H},e.content,ie(!0),nt),se=z.content,ee=z.text,q=z.ellipsis;(O!==ee||l.isEllipsis!==q)&&(l.ellipsisText=ee,l.ellipsisContent=se,l.isEllipsis=q,B!==q&&K&&K(q))}};function N(r,d){var x=r.mark,O=r.code,B=r.underline,k=r.delete,L=r.strong,H=r.keyboard,K=d;function z(se,ee){if(se){var q=function(){return K}();K=o(ee,null,{default:function(){return[q]}})}}return z(L,"strong"),z(B,"u"),z(k,"del"),z(O,"code"),z(x,"mark"),z(H,"kbd"),K}function we(r){var d=S.value,x=d.expandable,O=d.symbol;if(!x||!r&&(l.expanded||!l.isEllipsis))return null;var B=(a.ellipsisSymbol?a.ellipsisSymbol():O)||l.expandStr;return o("a",{key:"expand",class:"".concat(v.value,"-expand"),onClick:f,"aria-label":l.expandStr},[B])}function Te(){if(e.editable){var r=e.editable,d=r.tooltip,x=r.triggerType,O=x===void 0?["icon"]:x,B=a.editableIcon?a.editableIcon():o(Jn,{role:"button"},null),k=a.editableTooltip?a.editableTooltip():l.editStr,L=typeof k=="string"?k:"";return O.indexOf("icon")!==-1?o(ue,{key:"edit",title:d===!1?"":k},{default:function(){return[o(Ye,{ref:E,class:"".concat(v.value,"-edit"),onClick:y,"aria-label":L},{default:function(){return[B]}})]}}):null}}function Oe(){if(e.copyable){var r=e.copyable.tooltip,d=l.copied?l.copiedStr:l.copyStr,x=a.copyableTooltip?a.copyableTooltip({copied:l.copied}):d,O=typeof x=="string"?x:"",B=l.copied?o(Jt,null,null):o(Kn,null,null),k=a.copyableIcon?a.copyableIcon({copied:!!l.copied}):B;return o(ue,{key:"copy",title:r===!1?"":x},{default:function(){return[o(Ye,{class:["".concat(v.value,"-copy"),D({},"".concat(v.value,"-copy-success"),l.copied)],onClick:V,"aria-label":O},{default:function(){return[k]}})]}})}}function ke(){var r=c.class,d=c.style,x=C.value,O=x.maxlength,B=x.autoSize,k=x.onEnd;return o(kn,{class:r,style:d,prefixCls:v.value,value:e.content,originContent:l.originContent,maxlength:O,autoSize:B,onSave:i,onChange:p,onCancel:w,onEnd:k,direction:h.value},{enterIcon:a.editableEnterIcon})}function ie(r){return[we(r),Te(),Oe()].filter(function(d){return d})}return function(){var r,d=C.value.triggerType,x=d===void 0?["icon"]:d,O=e.ellipsis||e.editable?e.content!==void 0?e.content:(r=a.default)===null||r===void 0?void 0:r.call(a):a.default?a.default():e.content;return $.value?ke():o(Wt,{componentName:"Text",children:function(k){var L,H=g(g({},e),c),K=H.type,z=H.disabled;H.content;var se=H.class,ee=H.style,q=fe(H,Xn),ye=S.value,G=ye.rows,Ue=ye.suffix,Ie=ye.tooltip,mt=k.edit,yt=k.copy,gt=k.copied,bt=k.expand;l.editStr=mt,l.copyStr=yt,l.copiedStr=gt,l.expandStr=bt;var ht=re(q,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard","onUpdate:content"]),ge=j.value,Ct=G===1&&ge,Ke=G&&G>1&&ge,te=O,xt;if(G&&l.isEllipsis&&!l.expanded&&!ge){var Pe,qe=q.title,be=qe||"";!qe&&(typeof O=="string"||typeof O=="number")&&(be=String(O)),be=(Pe=be)===null||Pe===void 0?void 0:Pe.slice(String(l.ellipsisContent||"").length),te=o(Le,null,[Pt(l.ellipsisContent),o("span",{title:be,"aria-hidden":"true"},[nt]),Ue])}else te=o(Le,null,[O,Ue]);te=N(e,te);var Et=Ie&&G&&l.isEllipsis&&!l.expanded&&!ge,_t=a.ellipsisTooltip?a.ellipsisTooltip():Ie;return o(Gt,{onResize:Q,disabled:!G},{default:function(){return[o(F,g({ref:b,class:[(L={},D(L,"".concat(v.value,"-").concat(K),K),D(L,"".concat(v.value,"-disabled"),z),D(L,"".concat(v.value,"-ellipsis"),G),D(L,"".concat(v.value,"-single-line"),G===1&&!l.isEllipsis),D(L,"".concat(v.value,"-ellipsis-single-line"),Ct),D(L,"".concat(v.value,"-ellipsis-multiple-line"),Ke),L),se],style:g(g({},ee),{},{WebkitLineClamp:Ke?G:void 0}),"aria-label":xt,direction:h.value,onClick:x.indexOf("text")!==-1?y:function(){}},ht),{default:function(){return[Et?o(ue,{title:Ie===!0?O:_t},{default:function(){return[o("span",null,[te])]}}):te,ie()]}})]}})}},null)}}});const me=Zn;var ea=["ellipsis","rel"],ta=function(){return re(g(g({},ve()),{},{ellipsis:{type:Boolean,default:void 0}}),["component"])},Ce=function(e,n){var a=n.slots,c=n.attrs,s=g(g({},e),c),u=s.ellipsis,v=s.rel,h=fe(s,ea);pe(le(u)!=="object","Typography.Link","`ellipsis` only supports boolean value.");var l=g(g({},h),{},{rel:v===void 0&&h.target==="_blank"?"noopener noreferrer":v,ellipsis:!!u,component:"a"});return delete l.navigate,o(me,l,a)};Ce.displayName="ATypographyLink";Ce.inheritAttrs=!1;Ce.props=ta();const pt=Ce;var na=function(){return re(ve(),["component"])},xe=function(e,n){var a=n.slots,c=n.attrs,s=g(g({},e),{},{component:"div"},c);return o(me,s,a)};xe.displayName="ATypographyParagraph";xe.inheritAttrs=!1;xe.props=na();const Ve=xe;var aa=function(){return g(g({},re(ve(),["component"])),{},{ellipsis:{type:[Boolean,Object],default:void 0}})},Ee=function(e,n){var a=n.slots,c=n.attrs,s=e.ellipsis;pe(le(s)!=="object"||!s||!("expandable"in s)&&!("rows"in s),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props.");var u=g(g({},e),{},{ellipsis:s&&le(s)==="object"?re(s,["expandable","rows"]):s,component:"span"},c);return o(me,u,a)};Ee.displayName="ATypographyText";Ee.inheritAttrs=!1;Ee.props=aa();const ft=Ee;var oa=["level"],la=Xt(1,2,3,4,5),ra=function(){return g(g({},re(ve(),["component","strong"])),{},{level:Number})},_e=function(e,n){var a=n.slots,c=n.attrs,s=e.level,u=s===void 0?1:s,v=fe(e,oa),h;la.indexOf(u)!==-1?h="h".concat(u):(pe(!1,"Typography","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value."),h="h1");var l=g(g({},v),{},{component:h},c);return o(me,l,a)};_e.displayName="ATypographyTitle";_e.inheritAttrs=!1;_e.props=ra();const vt=_e;F.Text=ft;F.Title=vt;F.Paragraph=Ve;F.Link=pt;F.Base=me;F.install=function(t){return t.component(F.name,F),t.component(F.Text.displayName,ft),t.component(F.Title.displayName,vt),t.component(F.Paragraph.displayName,Ve),t.component(F.Link.displayName,pt),t};const Se=Yt({requestOptions:{apiUrl:()=>Qt("cascadeserver")}});function ia(t){return Se.get({url:"/list",params:t},{errorMessageMode:"message"})}function sa(t){return Se.get({url:"/add",params:t},{errorMessageMode:"message"})}function ca(t){return Se.get({url:"/update",params:t},{errorMessageMode:"message"})}function ua(t){return Se.get({url:"/del",params:t},{errorMessageMode:"message"})}const da=()=>({type:"object",properties:{layout:{type:"void","x-component":"FormLayout","x-component-props":{layout:"horizontal",labelCol:6,wrapperCol:14},properties:{name:{type:"string",title:"实例名称","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:"请输入实例名称",allowClear:!0},required:!0}}}}}),pa=()=>({type:"object",properties:{layout:{type:"void","x-component":"FormLayout","x-component-props":{layout:"horizontal",labelCol:6,wrapperCol:14},properties:{name:{type:"string",title:"实例名称","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:"请输入实例名称",allowClear:!0},required:!0},resetSecret:{type:"number",title:"是否重置秘钥","x-decorator":"FormItem","x-component":"Checkbox"}}}}}),{FormilyForm:fa,form:va,submit:ma}=ut({schema:da()}),ya=({updateList:t,pause:e,resume:n})=>{e(),ct({content:()=>o(fa,null,null),modalConfig:{title:"新增实例",maskClosable:!1,onOk:async()=>{const a=await ma();return a?(await sa(a),st.success("添加成功"),t(),Promise.resolve(!0)):(n(),Promise.reject(!1))},onClose:()=>{va.reset(),n()}}})},{FormilyForm:ga,form:at,submit:ba}=ut({schema:pa()}),ha=({row:t,updateList:e,pause:n,resume:a})=>{n();const{id:c,name:s}=t;at.setValues({name:s}),ct({content:()=>o(ga,null,null),modalConfig:{title:"新增",maskClosable:!1,onOk:async()=>{const u=await ba();return u?(await ca({id:c,...u}),st.success("编辑成功"),e(),Promise.resolve(!0)):(a(),Promise.reject(!1))},onClose:()=>{at.reset(),a()}}})},Ca=X({__name:"list",setup(t){We.renderer.add("LineStatus",{renderDefault(f,y){const{row:i}=y;return[i.Online?o(Xe,{color:"#87d068"},{default:()=>[R("在线")]}):o(Xe,{color:"#ff99a0"},{default:()=>[R("离线")]})]}}),We.renderer.add("secretCopy",{renderDefault(f,y){const{row:i}=y;return[o(Ve,{copyable:!0,ellipsis:!0,content:i.Secret},null)]}});const e={padding:"4px"},n=Re({pageNum:1,pageSize:10,total:0}),a=cn(),c={height:"596px",pagerConfig:{pageSize:10},columns:[{field:"ID",title:"ID",width:"80px"},{field:"Name",title:"名称",showOverflow:"tooltip",width:"120px"},{field:"Secret",title:"秘钥",showOverflow:"tooltip",cellRender:{name:"secretCopy"}},{field:"Online",title:"状态",cellRender:{name:"LineStatus"},width:"80px"},{field:"CreatedAt",title:"创建时间",formatter:({cellValue:f})=>Je.toDateString(new Date(f),"yyyy-MM-dd HH:ss:mm")},{field:"UpdatedAt",title:"更新时间",formatter:({cellValue:f})=>Je.toDateString(new Date(f),"yyyy-MM-dd HH:ss:mm")},{field:"operate",title:"操作",width:"244px",slots:{default:"operate"},fixed:"right"}]},s={pageChange:({currentPage:f,pageSize:y})=>{n.pageNum=f,n.pageSize=y}},u=()=>{ia(n).then(f=>{n.total=f.total,a.tableRef.loadData(f.list)}).catch(f=>{console.error(`instance-getList-error: ${f}`)})};u();const{httpRefreshTime:v}=Zt({VITE_PORT:"3000",VITE_GLOB_APP_TITLE:"Monibuca Admin",VITE_GLOB_APP_SHORT_NAME:"m7s_admin",VITE_USE_MOCK:"true",VITE_PUBLIC_PATH:"/ui",VITE_DROP_CONSOLE:"true",VITE_BUILD_COMPRESS:"none",VITE_BUILD_COMPRESS_DELETE_ORIGIN_FILE:"false",VITE_GLOB_HTTP_REFRESH_TIME:"5000",VITE_USE_IMAGEMIN:"true",VITE_LEGACY:"false",VITE_M7S_SERVER:"",BASE_URL:"/ui",MODE:"production",DEV:!1,PROD:!0,SSR:!1}),{pause:h,resume:l}=en(()=>{u()},v),b=f=>{h();const{createConfirm:y,createMessage:i}=ln();y({iconType:"warning",title:"删除提醒",content:`确定要删除 <b style="color: var(--primary-color)">${f.Name}</b> 实例吗`,onOk:async()=>{await ua({id:f.id}),i.success(`实例 ${f.name} 删除成功`),u(),l()},onCancel:()=>{l()}})},E=tn(),S=(f,y=!1)=>{if(y)E({path:"/overview/detail",query:{m7sId:f}},!0);else{const{href:i}=on.resolve({name:"Overview",query:{m7sId:f}});window.open(i,"_blank")}};function P(){E({path:"/overview/detail"})}return(f,y)=>(ot(),lt(Le,null,[o(m(de),{bordered:!1,class:"mb-4px",bodyStyle:e},{default:I(()=>[o(m(bn),{type:"info",banner:"",message:"当前已配置成自动注册，下级m7s可以自动注册到当前实例"})]),_:1}),o(m(de),{bordered:!1,class:"mb-4px",bodyStyle:e},{default:I(()=>[o(m(ae),{onClick:y[0]||(y[0]=i=>m(ya)({updateList:u,pause:m(h),resume:m(l)}))},{icon:I(()=>[o(m(J),{icon:"fluent:add-square-20-filled",class:"v-text-bottom"})]),default:I(()=>[R(" 新增实例 ")]),_:1}),o(m(ae),{type:"primary",onClick:y[1]||(y[1]=i=>P())},{icon:I(()=>[o(m(J),{icon:"fluent:rocket-20-filled",class:"v-text-bottom"})]),default:I(()=>[R(" 进入当前实例 ")]),_:1})]),_:1}),o(m(de),{bordered:!1,bodyStyle:e},{default:I(()=>[o(m(nn),{emptyText:"当前m7s实例下没有下级m7s实例",uid:m(a).uid,gridOptions:m(c),"grid-event":m(s)},{operate:I(({row:i})=>[o(m(dn),null,{default:I(()=>[o(m(ue),null,{title:I(()=>[R(Be(i.Online?"当前窗口打开":"只有实例状态在线时才可以访问详情"),1)]),default:I(()=>[o(m(ae),{size:"small",type:"link",onClick:p=>S(i.ID,!0),disabled:!i.Online},{default:I(()=>[R(" 详情 "),o(m(J),{icon:"tabler:exchange",class:"v-text-bottom"})]),_:2},1032,["onClick","disabled"])]),_:2},1024),o(m(ue),null,{title:I(()=>[R(Be(i.Online?"新窗口打开":"只有实例状态在线时才可以访问详情"),1)]),default:I(()=>[o(m(ae),{size:"small",type:"link",onClick:p=>S(i.ID),disabled:!i.Online},{default:I(()=>[R(" 详情 "),o(m(J),{class:"v-text-bottom",icon:"fluent:window-new-16-filled"})]),_:2},1032,["onClick","disabled"])]),_:2},1024),o(m(ae),{size:"small",type:"link",onClick:p=>m(ha)({row:i,updateList:u,pause:m(h),resume:m(l)})},{default:I(()=>[R(" 编辑 ")]),_:2},1032,["onClick"]),o(m(ae),{size:"small",type:"link",danger:"",onClick:p=>b(i)},{default:I(()=>[R(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1024)]),pager:I(()=>[o(m(an),{layouts:["Sizes","PrevPage","Number","NextPage","Total"],"current-page":n.pageNum,"onUpdate:currentPage":y[2]||(y[2]=i=>n.pageNum=i),"page-size":n.pageSize,"onUpdate:pageSize":y[3]||(y[3]=i=>n.pageSize=i),total:n.total},null,8,["current-page","page-size","total"])]),_:1},8,["uid","gridOptions","grid-event"])]),_:1})],64))}});const xa={class:"h-100vh w-100vw flex-center",style:{background:"var(--layout-background)"}},Ea={class:"m-auto flex h-800px w-1300px"},_a={class:"h-full flex flex-col justify-between text-center"},Sa=["src"],wa=U("h2",{class:"mt-6px color-text"},"实例管理平台",-1),Ta={class:"color-text"},Oa={class:"block mt-10px",href:"https://m7s.live/guide/introduction.html",target:"_blank"},ka={class:"block mt-10px",href:"https://space.bilibili.com/328443019/channel/collectiondetail?sid=514619",target:"_blank"},Ia={class:"block mt-10px",href:"https://www.bilibili.com/video/BV1jg411H7qE/",target:"_blank"},Pa={class:"block mt-10px",href:"https://github.com/Monibuca/plugin-gb28181",target:"_blank"},$a=X({name:"Instance"}),Za=X({...$a,setup(t){const e=rn(),n=oe(()=>{const{mail:a="",nickname:c=""}=e.getUserInfo||{};return{mail:a,nickname:c}});return(a,c)=>(ot(),lt("div",xa,[U("div",Ea,[o(m(de),{hoverable:"",class:"flex-1",bodyStyle:{height:"100%"}},{default:I(()=>[o(Ca)]),_:1}),o(m(de),{class:"w-200px",hoverable:"",bodyStyle:{height:"100%"}},{default:I(()=>[U("div",_a,[U("div",null,[U("img",{src:m(sn),class:"w-120px"},null,8,Sa),wa,U("h4",Ta,Be(m(n).nickname||m(n).mail),1),o(m(pn))]),U("div",null,[U("a",Oa,[R(" 官方文档 "),o(m(J),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),U("a",ka,[R(" 视频教程 "),o(m(J),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),U("a",Ia,[R(" RTS分享 "),o(m(J),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),U("a",Pa,[R(" GB28181插件 "),o(m(J),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})])])])]),_:1})])]))}});export{Za as default};
