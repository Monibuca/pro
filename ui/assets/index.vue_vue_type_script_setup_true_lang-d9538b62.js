import{I as le,s as ke,d as we,p as dt,e as I,c as ct,f as L,k as X,g as jt,r as ut,o as st,a as vt,ap as Rt,w as Ke,q as Ln,x as Ht,t as Vt,A as zt,h as Gt,F as ft,J as hn,b as qt,y as Wt,S as $e,a3 as gn,ac as pn,V as bn,u as Pe,a4 as Kn,E as zn,W as Je,U as Gn}from"./vue-db0e7353.js";import"./dayjs-4778c158.js";import{d as W,P as xe,bw as yt,e as O,f as Oe,j as je,bx as ht,c as be,n as _e,_ as Ce,by as Ze,aP as Be,o as In,bz as Ut,bA as gt,bB as Yt,i as An,K as Ae,ap as Fe,bC as Xt,q as Jt,u as pt,k as Qt,bD as Zt,W as mn,bE as ea,I as na}from"./index-a3873c66.js";import{u as ta}from"./device-f2176f90.js";import{D as aa}from"./index-e55b8189.js";function pe(n){var e=le();return ke(function(){e.value=n()},{flush:"sync"}),e}var bt=Symbol("TreeContextKey"),ra=we({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,t){var a=t.slots;return dt(bt,I(function(){return e.value})),function(){var o;return(o=a.default)===null||o===void 0?void 0:o.call(a)}}}),Fn=function(){return ct(bt,I(function(){return{}}))},Kt=Symbol("KeysStateKey"),oa=function(e){dt(Kt,e)},mt=function(){return ct(Kt,{expandedKeys:le([]),selectedKeys:le([]),loadedKeys:le([]),loadingKeys:le([]),checkedKeys:le([]),halfCheckedKeys:le([]),expandedKeysSet:I(function(){return new Set}),selectedKeysSet:I(function(){return new Set}),loadedKeysSet:I(function(){return new Set}),loadingKeysSet:I(function(){return new Set}),checkedKeysSet:I(function(){return new Set}),halfCheckedKeysSet:I(function(){return new Set}),flattenNodes:le([])})},la=function(e){for(var t=e.prefixCls,a=e.level,o=e.isStart,s=e.isEnd,i="".concat(t,"-indent-unit"),l=[],u=0;u<a;u+=1){var h;l.push(L("span",{key:u,class:(h={},W(h,i,!0),W(h,"".concat(i,"-start"),o[u]),W(h,"".concat(i,"-end"),s[u]),h)},null))}return L("span",{"aria-hidden":"true",class:"".concat(t,"-indent")},[l])};const ia=la;var kt={eventKey:[String,Number],prefixCls:String,title:xe.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:xe.any,switcherIcon:xe.any,domRef:{type:Function}},da={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},xt=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:xe.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:xe.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:xe.any,switcherIcon:xe.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},ca=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],qn="open",Wn="close",ua="---";const Dn=we({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:kt,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,t){var a=t.attrs,o=t.slots,s=t.expose;yt(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(N){return"`v-slot:"+N+"` "}),"instead"));var i=X(!1),l=Fn(),u=mt(),h=u.expandedKeysSet,K=u.selectedKeysSet,g=u.loadedKeysSet,p=u.loadingKeysSet,D=u.checkedKeysSet,x=u.halfCheckedKeysSet,m=l.value,r=m.dragOverNodeKey,d=m.dropPosition,v=m.keyEntities,S=I(function(){return wn(e.eventKey,{expandedKeysSet:h.value,selectedKeysSet:K.value,loadedKeysSet:g.value,loadingKeysSet:p.value,checkedKeysSet:D.value,halfCheckedKeysSet:x.value,dragOverNodeKey:r,dropPosition:d,keyEntities:v})}),A=pe(function(){return S.value.expanded}),j=pe(function(){return S.value.selected}),q=pe(function(){return S.value.checked}),ae=pe(function(){return S.value.loaded}),G=pe(function(){return S.value.loading}),F=pe(function(){return S.value.halfChecked}),ee=pe(function(){return S.value.dragOver}),w=pe(function(){return S.value.dragOverGapTop}),P=pe(function(){return S.value.dragOverGapBottom}),M=pe(function(){return S.value.pos}),R=X(),re=I(function(){var N=e.eventKey,c=l.value.keyEntities,k=c[N]||{},H=k.children;return!!(H||[]).length}),U=I(function(){var N=e.isLeaf,c=l.value.loadData,k=re.value;return N===!1?!1:N||!c&&!k||c&&ae.value&&!k}),ie=I(function(){return U.value?null:A.value?qn:Wn}),z=I(function(){var N=e.disabled,c=l.value.disabled;return!!(c||N)}),J=I(function(){var N=e.checkable,c=l.value.checkable;return!c||N===!1?!1:c}),ue=I(function(){var N=e.selectable,c=l.value.selectable;return typeof N=="boolean"?N:c}),Q=I(function(){var N=e.data,c=e.active,k=e.checkable,H=e.disableCheckbox,C=e.disabled,f=e.selectable;return O(O({active:c,checkable:k,disableCheckbox:H,disabled:C,selectable:f},N),{},{dataRef:N,data:N,isLeaf:U.value,checked:q.value,expanded:A.value,loading:G.value,selected:j.value,halfChecked:F.value})}),fe=jt(),de=I(function(){var N=e.eventKey,c=l.value.keyEntities,k=c[N]||{},H=k.parent;return O(O({},Pn(Oe({},e,S.value))),{},{parent:H})}),ye=ut({eventData:de,eventKey:I(function(){return e.eventKey}),selectHandle:R,pos:M,key:fe.vnode.key});s(ye);var Se=function(c){var k=l.value.onNodeDoubleClick;k(c,de.value)},He=function(c){if(!z.value){var k=l.value.onNodeSelect;c.preventDefault(),k(c,de.value)}},Me=function(c){if(!z.value){var k=e.disableCheckbox,H=l.value.onNodeCheck;if(!(!J.value||k)){c.preventDefault();var C=!q.value;H(c,de.value,C)}}},Ve=function(c){var k=l.value.onNodeClick;k(c,de.value),ue.value?He(c):Me(c)},nn=function(c){var k=l.value.onNodeMouseEnter;k(c,de.value)},tn=function(c){var k=l.value.onNodeMouseLeave;k(c,de.value)},an=function(c){var k=l.value.onNodeContextMenu;k(c,de.value)},rn=function(c){var k=l.value.onNodeDragStart;c.stopPropagation(),i.value=!0,k(c,ye);try{c.dataTransfer.setData("text/plain","")}catch{}},on=function(c){var k=l.value.onNodeDragEnter;c.preventDefault(),c.stopPropagation(),k(c,ye)},ln=function(c){var k=l.value.onNodeDragOver;c.preventDefault(),c.stopPropagation(),k(c,ye)},dn=function(c){var k=l.value.onNodeDragLeave;c.stopPropagation(),k(c,ye)},ze=function(c){var k=l.value.onNodeDragEnd;c.stopPropagation(),i.value=!1,k(c,ye)},Ge=function(c){var k=l.value.onNodeDrop;c.preventDefault(),c.stopPropagation(),i.value=!1,k(c,ye)},qe=function(c){var k=l.value.onNodeExpand;G.value||k(c,de.value)},cn=function(){var c=e.data,k=l.value.draggable;return!!(k&&(!k.nodeDraggable||k.nodeDraggable(c)))},un=function(){var c=l.value,k=c.draggable,H=c.prefixCls;return k&&k!==null&&k!==void 0&&k.icon?L("span",{class:"".concat(H,"-draggable-icon")},[k.icon]):null},sn=function(){var c,k,H,C=e.switcherIcon,f=C===void 0?o.switcherIcon||((c=l.value.slots)===null||c===void 0?void 0:c[(k=e.data)===null||k===void 0||(H=k.slots)===null||H===void 0?void 0:H.switcherIcon]):C,y=l.value.switcherIcon,b=f||y;return typeof b=="function"?b(Q.value):b},We=function(){var c=l.value,k=c.loadData,H=c.onNodeLoad;G.value||k&&A.value&&!U.value&&!re.value&&!ae.value&&H(de.value)};st(function(){We()}),vt(function(){We()});var vn=function(){var c=l.value.prefixCls,k=sn();if(U.value)return k!==!1?L("span",{class:be("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},[k]):null;var H=be("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(A.value?qn:Wn));return k!==!1?L("span",{onClick:qe,class:H},[k]):null},Ie=function(){var c,k,H=e.disableCheckbox,C=l.value.prefixCls,f=z.value,y=J.value;return y?L("span",{class:be("".concat(C,"-checkbox"),q.value&&"".concat(C,"-checkbox-checked"),!q.value&&F.value&&"".concat(C,"-checkbox-indeterminate"),(f||H)&&"".concat(C,"-checkbox-disabled")),onClick:Me},[(c=(k=l.value).customCheckable)===null||c===void 0?void 0:c.call(k)]):null},Ue=function(){var c=l.value.prefixCls;return L("span",{class:be("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(ie.value||"docu"),G.value&&"".concat(c,"-icon_loading"))},null)},fn=function(){var c=e.disabled,k=e.eventKey,H=l.value,C=H.draggable,f=H.dropLevelOffset,y=H.dropPosition,b=H.prefixCls,B=H.indent,$=H.dropIndicatorRender,T=H.dragOverNodeKey,E=H.direction,_=C!==!1,V=!c&&_&&T===k;return V?$({dropPosition:y,dropLevelOffset:f,indent:B,prefixCls:b,direction:E}):null},Ne=function(){var c,k,H,C,f=e.icon,y=f===void 0?o.icon:f,b=e.data,B=o.title||((c=l.value.slots)===null||c===void 0?void 0:c[(k=e.data)===null||k===void 0||(H=k.slots)===null||H===void 0?void 0:H.title])||((C=l.value.slots)===null||C===void 0?void 0:C.title)||e.title,$=l.value,T=$.prefixCls,E=$.showIcon,_=$.icon,V=$.loadData,Y=z.value,Z="".concat(T,"-node-content-wrapper"),ne;if(E){var oe,ce,ve=y||((oe=l.value.slots)===null||oe===void 0?void 0:oe[b==null||(ce=b.slots)===null||ce===void 0?void 0:ce.icon])||_;ne=ve?L("span",{class:be("".concat(T,"-iconEle"),"".concat(T,"-icon__customize"))},[typeof ve=="function"?ve(Q.value):ve]):Ue()}else V&&G.value&&(ne=Ue());var se;typeof B=="function"?se=B(Q.value):se=B,se=se===void 0?ua:se;var te=L("span",{class:"".concat(T,"-title")},[se]);return L("span",{ref:R,title:typeof B=="string"?B:"",class:be("".concat(Z),"".concat(Z,"-").concat(ie.value||"normal"),!Y&&(j.value||i.value)&&"".concat(T,"-node-selected")),onMouseenter:nn,onMouseleave:tn,onContextmenu:an,onClick:Ve,onDblclick:Se},[ne,te,fn()])};return function(){var N,c=O(O({},e),a),k=c.eventKey,H=c.isLeaf,C=c.isStart,f=c.isEnd,y=c.domRef,b=c.active;c.data;var B=c.onMousemove,$=c.selectable,T=je(c,ca),E=l.value,_=E.prefixCls,V=E.filterTreeNode,Y=E.keyEntities,Z=E.dropContainerKey,ne=E.dropTargetKey,oe=E.draggingNodeKey,ce=z.value,ve=ht(T,{aria:!0,data:!0}),se=Y[k]||{},te=se.level,he=f[f.length-1],ge=cn(),De=!ce&&ge,Ye=oe===k,yn=$!==void 0?{"aria-selected":!!$}:void 0;return L("div",O(O({ref:y,class:be(a.class,"".concat(_,"-treenode"),(N={},W(N,"".concat(_,"-treenode-disabled"),ce),W(N,"".concat(_,"-treenode-switcher-").concat(A.value?"open":"close"),!H),W(N,"".concat(_,"-treenode-checkbox-checked"),q.value),W(N,"".concat(_,"-treenode-checkbox-indeterminate"),F.value),W(N,"".concat(_,"-treenode-selected"),j.value),W(N,"".concat(_,"-treenode-loading"),G.value),W(N,"".concat(_,"-treenode-active"),b),W(N,"".concat(_,"-treenode-leaf-last"),he),W(N,"".concat(_,"-treenode-draggable"),De),W(N,"dragging",Ye),W(N,"drop-target",ne===k),W(N,"drop-container",Z===k),W(N,"drag-over",!ce&&ee.value),W(N,"drag-over-gap-top",!ce&&w.value),W(N,"drag-over-gap-bottom",!ce&&P.value),W(N,"filter-node",V&&V(de.value)),N)),style:a.style,draggable:De,"aria-grabbed":Ye,onDragstart:De?rn:void 0,onDragenter:ge?on:void 0,onDragover:ge?ln:void 0,onDragleave:ge?dn:void 0,onDrop:ge?Ge:void 0,onDragend:ge?ze:void 0,onMousemove:B},yn),ve),[L(ia,{prefixCls:_,level:te,isStart:C,isEnd:f},null),un(),vn(),Ie(),Ne()])}}});function Ee(n,e){if(!n)return[];var t=n.slice(),a=t.indexOf(e);return a>=0&&t.splice(a,1),t}function Te(n,e){var t=(n||[]).slice();return t.indexOf(e)===-1&&t.push(e),t}function Mn(n){return n.split("-")}function Ct(n,e){return"".concat(n,"-").concat(e)}function sa(n){return n&&n.type&&n.type.isTreeNode}function va(n,e){var t=[],a=e[n];function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(i){var l=i.key,u=i.children;t.push(l),o(u)})}return o(a.children),t}function fa(n){if(n.parent){var e=Mn(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function ya(n){var e=Mn(n.pos);return Number(e[e.length-1])===0}function Un(n,e,t,a,o,s,i,l,u,h){var K,g=n.clientX,p=n.clientY,D=n.target.getBoundingClientRect(),x=D.top,m=D.height,r=(h==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-g),d=(r-12)/a,v=l[t.eventKey];if(p<x+m/2){var S=i.findIndex(function(re){return re.key===v.key}),A=S<=0?0:S-1,j=i[A].key;v=l[j]}var q=v.key,ae=v,G=v.key,F=0,ee=0;if(!u.has(q))for(var w=0;w<d&&fa(v);w+=1)v=v.parent,ee+=1;var P=e.eventData,M=v.node,R=!0;return ya(v)&&v.level===0&&p<x+m/2&&s({dragNode:P,dropNode:M,dropPosition:-1})&&v.key===t.eventKey?F=-1:(ae.children||[]).length&&u.has(G)?s({dragNode:P,dropNode:M,dropPosition:0})?F=0:R=!1:ee===0?d>-1.5?s({dragNode:P,dropNode:M,dropPosition:1})?F=1:R=!1:s({dragNode:P,dropNode:M,dropPosition:0})?F=0:s({dragNode:P,dropNode:M,dropPosition:1})?F=1:R=!1:s({dragNode:P,dropNode:M,dropPosition:1})?F=1:R=!1,{dropPosition:F,dropLevelOffset:ee,dropTargetKey:v.key,dropTargetPos:v.pos,dragOverNodeKey:G,dropContainerKey:F===0?null:((K=v.parent)===null||K===void 0?void 0:K.key)||null,dropAllowed:R}}function Yn(n,e){if(n){var t=e.multiple;return t?n.slice():n.length?[n[0]]:n}}function kn(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(_e(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function En(n,e){var t=new Set;function a(o){if(!t.has(o)){var s=e[o];if(s){t.add(o);var i=s.parent,l=s.node;l.disabled||i&&a(i.key)}}}return(n||[]).forEach(function(o){a(o)}),Ce(t)}var ha=["title","icon","switcherIcon"];function Re(n,e){return n??e}function en(n){var e=n||{},t=e.title,a=e._title,o=e.key,s=e.children,i=t||"title";return{title:i,_title:a||[i],key:o||"key",children:s||"children"}}function On(n){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=Ze(t);return a.map(function(o){var s,i,l,u;if(!sa(o))return null;for(var h=o.children||{},K=o.key,g={},p=0,D=Object.entries(o.props);p<D.length;p++){var x=Be(D[p],2),m=x[0],r=x[1];g[Rt(m)]=r}var d=g.isLeaf,v=g.checkable,S=g.selectable,A=g.disabled,j=g.disableCheckbox,q={isLeaf:d||d===""||void 0,checkable:v||v===""||void 0,selectable:S||S===""||void 0,disabled:A||A===""||void 0,disableCheckbox:j||j===""||void 0},ae=O(O({},g),q),G=g.title,F=G===void 0?(s=h.title)===null||s===void 0?void 0:s.call(h,ae):G,ee=g.icon,w=ee===void 0?(i=h.icon)===null||i===void 0?void 0:i.call(h,ae):ee,P=g.switcherIcon,M=P===void 0?(l=h.switcherIcon)===null||l===void 0?void 0:l.call(h,ae):P,R=je(g,ha),re=(u=h.default)===null||u===void 0?void 0:u.call(h),U=O(O({},R),{},{title:F,icon:w,switcherIcon:M,key:K,isLeaf:d},q),ie=e(re);return ie.length&&(U.children=ie),U})}return e(n)}function ga(n,e,t){var a=en(t),o=a._title,s=a.key,i=a.children,l=new Set(e===!0?[]:e),u=[];function h(K){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return K.map(function(p,D){for(var x=Ct(g?g.pos:"0",D),m=Re(p[s],x),r,d=0;d<o.length;d+=1){var v=o[d];if(p[v]!==void 0){r=p[v];break}}var S=O(O({},In(p,[].concat(Ce(o),[s,i]))),{},{title:r,key:m,parent:g,pos:x,children:null,data:p,isStart:[].concat(Ce(g?g.isStart:[]),[D===0]),isEnd:[].concat(Ce(g?g.isEnd:[]),[D===K.length-1])});return u.push(S),e===!0||l.has(m)?S.children=h(p[i]||[],S):S.children=[],S})}return h(n),u}function pa(n,e,t){var a={};_e(t)==="object"?a=t:a={externalGetKey:t},a=a||{};var o=a,s=o.childrenPropName,i=o.externalGetKey,l=o.fieldNames,u=en(l),h=u.key,K=u.children,g=s||K,p;i?typeof i=="string"?p=function(m){return m[i]}:typeof i=="function"&&(p=function(m){return i(m)}):p=function(m,r){return Re(m[h],r)};function D(x,m,r,d){var v=x?x[g]:n,S=x?Ct(r.pos,m):"0",A=x?[].concat(Ce(d),[x]):[];if(x){var j=p(x,S),q={node:x,index:m,pos:S,key:j,parentPos:r.node?r.pos:null,level:r.level+1,nodes:A};e(q)}v&&v.forEach(function(ae,G){D(ae,G,{node:x,pos:S,level:r?r.level+1:-1},A)})}D(null)}function St(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.initWrapper,a=e.processEntity,o=e.onProcessFinished,s=e.externalGetKey,i=e.childrenPropName,l=e.fieldNames,u=arguments.length>2?arguments[2]:void 0,h=s||u,K={},g={},p={posEntities:K,keyEntities:g};return t&&(p=t(p)||p),pa(n,function(D){var x=D.node,m=D.index,r=D.pos,d=D.key,v=D.parentPos,S=D.level,A=D.nodes,j={node:x,nodes:A,index:m,key:d,pos:r,level:S},q=Re(d,r);K[r]=j,g[q]=j,j.parent=K[v],j.parent&&(j.parent.children=j.parent.children||[],j.parent.children.push(j)),a&&a(j,p)},{externalGetKey:h,childrenPropName:i,fieldNames:l}),o&&o(p),p}function wn(n,e){var t=e.expandedKeysSet,a=e.selectedKeysSet,o=e.loadedKeysSet,s=e.loadingKeysSet,i=e.checkedKeysSet,l=e.halfCheckedKeysSet,u=e.dragOverNodeKey,h=e.dropPosition,K=e.keyEntities,g=K[n],p={eventKey:n,expanded:t.has(n),selected:a.has(n),loaded:o.has(n),loading:s.has(n),checked:i.has(n),halfChecked:l.has(n),pos:String(g?g.pos:""),parent:g.parent,dragOver:u===n&&h===0,dragOverGapTop:u===n&&h===-1,dragOverGapBottom:u===n&&h===1};return p}function Pn(n){var e=n.data,t=n.expanded,a=n.selected,o=n.checked,s=n.loaded,i=n.loading,l=n.halfChecked,u=n.dragOver,h=n.dragOverGapTop,K=n.dragOverGapBottom,g=n.pos,p=n.active,D=n.eventKey,x=O(O({dataRef:e},e),{},{expanded:t,selected:a,checked:o,loaded:s,loading:i,halfChecked:l,dragOver:u,dragOverGapTop:h,dragOverGapBottom:K,pos:g,active:p,eventKey:D,key:D});return"props"in x||Object.defineProperty(x,"props",{get:function(){return n}}),x}function Nt(n,e){var t=new Set;return n.forEach(function(a){e.has(a)||t.add(a)}),t}function ba(n){var e=n||{},t=e.disabled,a=e.disableCheckbox,o=e.checkable;return!!(t||a)||o===!1}function Ka(n,e,t,a){for(var o=new Set(n),s=new Set,i=0;i<=t;i+=1){var l=e.get(i)||new Set;l.forEach(function(g){var p=g.key,D=g.node,x=g.children,m=x===void 0?[]:x;o.has(p)&&!a(D)&&m.filter(function(r){return!a(r.node)}).forEach(function(r){o.add(r.key)})})}for(var u=new Set,h=t;h>=0;h-=1){var K=e.get(h)||new Set;K.forEach(function(g){var p=g.parent,D=g.node;if(!(a(D)||!g.parent||u.has(g.parent.key))){if(a(g.parent.node)){u.add(p.key);return}var x=!0,m=!1;(p.children||[]).filter(function(r){return!a(r.node)}).forEach(function(r){var d=r.key,v=o.has(d);x&&!v&&(x=!1),!m&&(v||s.has(d))&&(m=!0)}),x&&o.add(p.key),m&&s.add(p.key),u.add(p.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Nt(s,o))}}function ma(n,e,t,a,o){for(var s=new Set(n),i=new Set(e),l=0;l<=a;l+=1){var u=t.get(l)||new Set;u.forEach(function(p){var D=p.key,x=p.node,m=p.children,r=m===void 0?[]:m;!s.has(D)&&!i.has(D)&&!o(x)&&r.filter(function(d){return!o(d.node)}).forEach(function(d){s.delete(d.key)})})}i=new Set;for(var h=new Set,K=a;K>=0;K-=1){var g=t.get(K)||new Set;g.forEach(function(p){var D=p.parent,x=p.node;if(!(o(x)||!p.parent||h.has(p.parent.key))){if(o(p.parent.node)){h.add(D.key);return}var m=!0,r=!1;(D.children||[]).filter(function(d){return!o(d.node)}).forEach(function(d){var v=d.key,S=s.has(v);m&&!S&&(m=!1),!r&&(S||i.has(v))&&(r=!0)}),m||s.delete(D.key),r&&i.add(D.key),h.add(D.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Nt(i,s))}}function xn(n,e,t,a,o,s){var i;s?i=s:i=ba;var l=new Set(n.filter(function(h){var K=!!t[h];return K})),u;return e===!0?u=Ka(l,o,a,i):u=ma(l,e.halfCheckedKeys,o,a,i),u}function ka(n){var e=X(0),t=le();return ke(function(){var a=new Map,o=0,s=n.value||{};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){var l=s[i],u=l.level,h=a.get(u);h||(h=new Set,a.set(u,h)),h.add(l),o=Math.max(o,u)}e.value=o,t.value=a}),{maxLevel:e,levelEntities:t}}var xa=["motion","motionNodes","motionType","active","eventKey"];const Ca=we({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},kt),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,t){var a=t.attrs,o=t.slots,s=X(!0),i=Fn(),l=X(!1),u=I(function(){return e.motion?e.motion:Ut()}),h=function(g,p){if(p==="appear"){var D,x;(D=u.value)===null||D===void 0||(x=D.onAfterEnter)===null||x===void 0||x.call(D,g)}else if(p==="leave"){var m,r;(m=u.value)===null||m===void 0||(r=m.onAfterLeave)===null||r===void 0||r.call(m,g)}l.value||e.onMotionEnd(),l.value=!0};return Ke(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&s.value&&Ln(function(){s.value=!1})},{immediate:!0,flush:"post"}),st(function(){e.motionNodes&&e.onMotionStart()}),Ht(function(){e.motionNodes&&h()}),function(){e.motion;var K=e.motionNodes,g=e.motionType,p=e.active,D=e.eventKey,x=je(e,xa);return K?L(Gt,O(O({},u.value),{},{appear:g==="show",onAfterAppear:function(r){return h(r,"appear")},onAfterLeave:function(r){return h(r,"leave")}}),{default:function(){return[Vt(L("div",{class:"".concat(i.value.prefixCls,"-treenode-motion")},[K.map(function(r){var d=Oe({},(gt(r.data),r.data)),v=r.title,S=r.key,A=r.isStart,j=r.isEnd;return delete d.children,L(Dn,O(O({},d),{},{title:v,active:p,data:r.data,key:S,eventKey:S,isStart:A,isEnd:j}),o)})]),[[zt,s.value]])]}}):L(Dn,O(O({domRef:X,class:a.class,style:a.style},x),{},{active:p,eventKey:D}),o)}}});function Sa(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=n.length,a=e.length;if(Math.abs(t-a)!==1)return{add:!1,key:null};function o(s,i){var l=new Map;s.forEach(function(h){l.set(h,!0)});var u=i.filter(function(h){return!l.has(h)});return u.length===1?u[0]:null}return t<a?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function Xn(n,e,t){var a=n.findIndex(function(l){return l.key===t}),o=n[a+1],s=e.findIndex(function(l){return l.key===t});if(o){var i=e.findIndex(function(l){return l.key===o.key});return e.slice(s+1,i)}return e.slice(s+1)}var Na=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],Jn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Da=function(){},Le="RC_TREE_MOTION_".concat(Math.random()),Tn={key:Le},Dt={key:Le,level:0,index:0,pos:"0",node:Tn,nodes:[Tn]},Qn={parent:null,children:[],pos:Dt.pos,data:Tn,title:null,key:Le,isStart:[],isEnd:[]};function Zn(n,e,t,a){return e===!1||!t?n:n.slice(0,Math.ceil(t/a)+1)}function et(n){var e=n.key,t=n.pos;return Re(e,t)}function Ea(n){for(var e=String(n.key),t=n;t.parent;)t=t.parent,e="".concat(t.key," > ").concat(e);return e}const Oa=we({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:da,setup:function(e,t){var a=t.expose,o=t.attrs,s=X(),i=X(),l=mt(),u=l.expandedKeys,h=l.flattenNodes;a({scrollTo:function(v){s.value.scrollTo(v)},getIndentWidth:function(){return i.value.offsetWidth}});var K=le(h.value),g=le([]),p=X(null);function D(){K.value=h.value,g.value=[],p.value=null,e.onListChangeEnd()}var x=Fn();Ke([function(){return u.value.slice()},h],function(d,v){var S=Be(d,2),A=S[0],j=S[1],q=Be(v,2),ae=q[0],G=q[1],F=Sa(ae,A);if(F.key!==null){var ee=e.virtual,w=e.height,P=e.itemHeight;if(F.add){var M=G.findIndex(function(J){var ue=J.key;return ue===F.key}),R=Zn(Xn(G,j,F.key),ee,w,P),re=G.slice();re.splice(M+1,0,Qn),K.value=re,g.value=R,p.value="show"}else{var U=j.findIndex(function(J){var ue=J.key;return ue===F.key}),ie=Zn(Xn(j,G,F.key),ee,w,P),z=j.slice();z.splice(U+1,0,Qn),K.value=z,g.value=ie,p.value="hide"}}else G!==j&&(K.value=j)}),Ke(function(){return x.value.dragging},function(d){d||D()});var m=I(function(){return e.motion===void 0?K.value:h.value}),r=function(){e.onActiveChange(null)};return function(){var d=O(O({},e),o),v=d.prefixCls;d.selectable,d.checkable;var S=d.disabled,A=d.motion,j=d.height,q=d.itemHeight,ae=d.virtual,G=d.focusable,F=d.activeItem,ee=d.focused,w=d.tabindex,P=d.onKeydown,M=d.onFocus,R=d.onBlur,re=d.onListChangeStart;d.onListChangeEnd;var U=je(d,Na);return L(ft,null,[ee&&F&&L("span",{style:Jn,"aria-live":"assertive"},[Ea(F)]),L("div",null,[L("input",{style:Jn,disabled:G===!1||S,tabindex:G!==!1?w:null,onKeydown:P,onFocus:M,onBlur:R,value:"",onChange:Da,"aria-label":"for screen reader"},null)]),L("div",{class:"".concat(v,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[L("div",{class:"".concat(v,"-indent")},[L("div",{ref:i,class:"".concat(v,"-indent-unit")},null)])]),L(Yt,O(O({},In(U,["onActiveChange"])),{},{data:m.value,itemKey:et,height:j,fullHeight:!1,virtual:ae,itemHeight:q,prefixCls:"".concat(v,"-list"),ref:s,onVisibleChange:function(z,J){var ue=new Set(z),Q=J.filter(function(fe){return!ue.has(fe)});Q.some(function(fe){return et(fe)===Le})&&D()}}),{default:function(z){var J=z.pos,ue=Oe({},(gt(z.data),z.data)),Q=z.title,fe=z.key,de=z.isStart,ye=z.isEnd,Se=Re(fe,J);return delete ue.key,delete ue.children,L(Ca,O(O({},ue),{},{eventKey:Se,title:Q,active:!!F&&fe===F.key,data:z.data,isStart:de,isEnd:ye,motion:A,motionNodes:fe===Le?g.value:null,motionType:p.value,onMotionStart:re,onMotionEnd:D,onMousemove:r}),null)}})])}}});function wa(n){var e=n.dropPosition,t=n.dropLevelOffset,a=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:o.top=0,o.left="".concat(-t*a,"px");break;case 1:o.bottom=0,o.left="".concat(-t*a,"px");break;case 0:o.bottom=0,o.left="".concat(a);break}return L("div",{style:o},null)}var Pa=10;const Ta=we({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:An(xt(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:wa,allowDrop:function(){return!0}}),setup:function(e,t){var a=t.attrs,o=t.slots,s=t.expose,i=X(!1),l={},u=X(),h=le([]),K=le([]),g=le([]),p=le([]),D=le([]),x=le([]),m={},r=ut({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),d=le([]);Ke([function(){return e.treeData},function(){return e.children}],function(){d.value=e.treeData!==void 0?hn(e.treeData).slice():On(hn(e.children))},{immediate:!0,deep:!0});var v=le({}),S=X(!1),A=X(null),j=X(!1),q=I(function(){return en(e.fieldNames)}),ae=X(),G=null,F=null,ee=null,w=I(function(){return{expandedKeysSet:P.value,selectedKeysSet:M.value,loadedKeysSet:R.value,loadingKeysSet:re.value,checkedKeysSet:U.value,halfCheckedKeysSet:ie.value,dragOverNodeKey:r.dragOverNodeKey,dropPosition:r.dropPosition,keyEntities:v.value}}),P=I(function(){return new Set(x.value)}),M=I(function(){return new Set(h.value)}),R=I(function(){return new Set(p.value)}),re=I(function(){return new Set(D.value)}),U=I(function(){return new Set(K.value)}),ie=I(function(){return new Set(g.value)});ke(function(){if(d.value){var C=St(d.value,{fieldNames:q.value});v.value=O(W({},Le,Dt),C.keyEntities)}});var z=!1;Ke([function(){return e.expandedKeys},function(){return e.autoExpandParent},v],function(C,f){var y=Be(C,2);y[0];var b=y[1],B=Be(f,2);B[0];var $=B[1],T=x.value;if(e.expandedKeys!==void 0||z&&b!==$)T=e.autoExpandParent||!z&&e.defaultExpandParent?En(e.expandedKeys,v.value):e.expandedKeys;else if(!z&&e.defaultExpandAll){var E=O({},v.value);delete E[Le],T=Object.keys(E).map(function(_){return E[_].key})}else!z&&e.defaultExpandedKeys&&(T=e.autoExpandParent||e.defaultExpandParent?En(e.defaultExpandedKeys,v.value):e.defaultExpandedKeys);T&&(x.value=T),z=!0},{immediate:!0});var J=le([]);ke(function(){J.value=ga(d.value,x.value,q.value)}),ke(function(){e.selectable&&(e.selectedKeys!==void 0?h.value=Yn(e.selectedKeys,e):!z&&e.defaultSelectedKeys&&(h.value=Yn(e.defaultSelectedKeys,e)))});var ue=ka(v),Q=ue.maxLevel,fe=ue.levelEntities;ke(function(){if(e.checkable){var C;if(e.checkedKeys!==void 0?C=kn(e.checkedKeys)||{}:!z&&e.defaultCheckedKeys?C=kn(e.defaultCheckedKeys)||{}:d.value&&(C=kn(e.checkedKeys)||{checkedKeys:K.value,halfCheckedKeys:g.value}),C){var f=C,y=f.checkedKeys,b=y===void 0?[]:y,B=f.halfCheckedKeys,$=B===void 0?[]:B;if(!e.checkStrictly){var T=xn(b,!0,v.value,Q.value,fe.value);b=T.checkedKeys,$=T.halfCheckedKeys}K.value=b,g.value=$}}}),ke(function(){e.loadedKeys&&(p.value=e.loadedKeys)});var de=function(){Oe(r,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ye=function(f){ae.value.scrollTo(f)};Ke(function(){return e.activeKey},function(){e.activeKey!==void 0&&(A.value=e.activeKey)},{immediate:!0}),Ke(A,function(C){Ln(function(){C!==null&&ye({key:C})})},{immediate:!0,flush:"post"});var Se=function(f){e.expandedKeys===void 0&&(x.value=f)},He=function(){r.draggingNodeKey!==null&&Oe(r,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),G=null,ee=null},Me=function(f,y){var b=e.onDragend;r.dragOverNodeKey=null,He(),b==null||b({event:f,node:y.eventData}),F=null},Ve=function C(f){Me(f,null),window.removeEventListener("dragend",C)},nn=function(f,y){var b=e.onDragstart,B=y.eventKey,$=y.eventData;F=y,G={x:f.clientX,y:f.clientY};var T=Ee(x.value,B);r.draggingNodeKey=B,r.dragChildrenKeys=va(B,v.value),u.value=ae.value.getIndentWidth(),Se(T),window.addEventListener("dragend",Ve),b&&b({event:f,node:$})},tn=function(f,y){var b=e.onDragenter,B=e.onExpand,$=e.allowDrop,T=e.direction,E=y.pos,_=y.eventKey;if(ee!==_&&(ee=_),!F){de();return}var V=Un(f,F,y,u.value,G,$,J.value,v.value,P.value,T),Y=V.dropPosition,Z=V.dropLevelOffset,ne=V.dropTargetKey,oe=V.dropContainerKey,ce=V.dropTargetPos,ve=V.dropAllowed,se=V.dragOverNodeKey;if(r.dragChildrenKeys.indexOf(ne)!==-1||!ve){de();return}if(l||(l={}),Object.keys(l).forEach(function(te){clearTimeout(l[te])}),F.eventKey!==y.eventKey&&(l[E]=window.setTimeout(function(){if(r.draggingNodeKey!==null){var te=x.value.slice(),he=v.value[y.eventKey];he&&(he.children||[]).length&&(te=Te(x.value,y.eventKey)),Se(te),B&&B(te,{node:y.eventData,expanded:!0,nativeEvent:f})}},800)),F.eventKey===ne&&Z===0){de();return}Oe(r,{dragOverNodeKey:se,dropPosition:Y,dropLevelOffset:Z,dropTargetKey:ne,dropContainerKey:oe,dropTargetPos:ce,dropAllowed:ve}),b&&b({event:f,node:y.eventData,expandedKeys:x.value})},an=function(f,y){var b=e.onDragover,B=e.allowDrop,$=e.direction;if(F){var T=Un(f,F,y,u.value,G,B,J.value,v.value,P.value,$),E=T.dropPosition,_=T.dropLevelOffset,V=T.dropTargetKey,Y=T.dropContainerKey,Z=T.dropAllowed,ne=T.dropTargetPos,oe=T.dragOverNodeKey;r.dragChildrenKeys.indexOf(V)!==-1||!Z||(F.eventKey===V&&_===0?r.dropPosition===null&&r.dropLevelOffset===null&&r.dropTargetKey===null&&r.dropContainerKey===null&&r.dropTargetPos===null&&r.dropAllowed===!1&&r.dragOverNodeKey===null||de():E===r.dropPosition&&_===r.dropLevelOffset&&V===r.dropTargetKey&&Y===r.dropContainerKey&&ne===r.dropTargetPos&&Z===r.dropAllowed&&oe===r.dragOverNodeKey||Oe(r,{dropPosition:E,dropLevelOffset:_,dropTargetKey:V,dropContainerKey:Y,dropTargetPos:ne,dropAllowed:Z,dragOverNodeKey:oe}),b&&b({event:f,node:y.eventData}))}},rn=function(f,y){ee===y.eventKey&&!f.currentTarget.contains(f.relatedTarget)&&(de(),ee=null);var b=e.onDragleave;b&&b({event:f,node:y.eventData})},on=function(f,y){var b,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=r.dragChildrenKeys,T=r.dropPosition,E=r.dropTargetKey,_=r.dropTargetPos,V=r.dropAllowed;if(V){var Y=e.onDrop;if(r.dragOverNodeKey=null,He(),E!==null){var Z=O(O({},wn(E,hn(w.value))),{},{active:((b=N.value)===null||b===void 0?void 0:b.key)===E,data:v.value[E].node});$.indexOf(E);var ne=Mn(_),oe={event:f,node:Pn(Z),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat($),dropToGap:T!==0,dropPosition:T+Number(ne[ne.length-1])};B||Y==null||Y(oe),F=null}}},ln=function(f,y){var b=e.onClick;b&&b(f,y)},dn=function(f,y){var b=e.onDblclick;b&&b(f,y)},ze=function(f,y){var b=h.value,B=e.onSelect,$=e.multiple,T=y.selected,E=y[q.value.key],_=!T;_?$?b=Te(b,E):b=[E]:b=Ee(b,E);var V=v.value,Y=b.map(function(Z){var ne=V[Z];return ne?ne.node:null}).filter(function(Z){return Z});e.selectedKeys===void 0&&(h.value=b),B&&B(b,{event:"select",selected:_,node:y,selectedNodes:Y,nativeEvent:f})},Ge=function(f,y,b){var B=e.checkStrictly,$=e.onCheck,T=y[q.value.key],E,_={event:"check",node:y,checked:b,nativeEvent:f},V=v.value;if(B){var Y=b?Te(K.value,T):Ee(K.value,T),Z=Ee(g.value,T);E={checked:Y,halfChecked:Z},_.checkedNodes=Y.map(function(te){return V[te]}).filter(function(te){return te}).map(function(te){return te.node}),e.checkedKeys===void 0&&(K.value=Y)}else{var ne=xn([].concat(Ce(K.value),[T]),!0,V,Q.value,fe.value),oe=ne.checkedKeys,ce=ne.halfCheckedKeys;if(!b){var ve=new Set(oe);ve.delete(T);var se=xn(Array.from(ve),{checked:!1,halfCheckedKeys:ce},V,Q.value,fe.value);oe=se.checkedKeys,ce=se.halfCheckedKeys}E=oe,_.checkedNodes=[],_.checkedNodesPositions=[],_.halfCheckedKeys=ce,oe.forEach(function(te){var he=V[te];if(he){var ge=he.node,De=he.pos;_.checkedNodes.push(ge),_.checkedNodesPositions.push({node:ge,pos:De})}}),e.checkedKeys===void 0&&(K.value=oe,g.value=ce)}$&&$(E,_)},qe=function(f){var y=f[q.value.key],b=new Promise(function(B,$){var T=e.loadData,E=e.onLoad;if(!T||R.value.has(y)||re.value.has(y))return null;var _=T(f);_.then(function(){var V=Te(p.value,y),Y=Ee(D.value,y);E&&E(V,{event:"load",node:f}),e.loadedKeys===void 0&&(p.value=V),D.value=Y,B()}).catch(function(V){var Y=Ee(D.value,y);if(D.value=Y,m[y]=(m[y]||0)+1,m[y]>=Pa){var Z=Te(p.value,y);e.loadedKeys===void 0&&(p.value=Z),B()}$(V)}),D.value=Te(D.value,y)});return b.catch(function(){}),b},cn=function(f,y){var b=e.onMouseenter;b&&b({event:f,node:y})},un=function(f,y){var b=e.onMouseleave;b&&b({event:f,node:y})},sn=function(f,y){var b=e.onRightClick;b&&(f.preventDefault(),b({event:f,node:y}))},We=function(f){var y=e.onFocus;S.value=!0,y&&y(f)},vn=function(f){var y=e.onBlur;S.value=!1,Ne(null),y&&y(f)},Ie=function(f,y){var b=x.value,B=e.onExpand,$=e.loadData,T=y.expanded,E=y[q.value.key];if(!j.value){b.indexOf(E);var _=!T;if(_?b=Te(b,E):b=Ee(b,E),Se(b),B&&B(b,{node:y,expanded:_,nativeEvent:f}),_&&$){var V=qe(y);V&&V.then(function(){}).catch(function(Y){var Z=Ee(x.value,E);Se(Z),Promise.reject(Y)})}}},Ue=function(){j.value=!0},fn=function(){setTimeout(function(){j.value=!1})},Ne=function(f){var y=e.onActiveChange;A.value!==f&&(e.activeKey!==void 0&&(A.value=f),f!==null&&ye({key:f}),y&&y(f))},N=I(function(){return A.value===null?null:J.value.find(function(C){var f=C.key;return f===A.value})||null}),c=function(f){var y=J.value.findIndex(function($){var T=$.key;return T===A.value});y===-1&&f<0&&(y=J.value.length),y=(y+f+J.value.length)%J.value.length;var b=J.value[y];if(b){var B=b.key;Ne(B)}else Ne(null)},k=I(function(){return Pn(O(O({},wn(A.value,w.value)),{},{data:N.value.data,active:!0}))}),H=function(f){var y=e.onKeydown,b=e.checkable,B=e.selectable;switch(f.which){case Ae.UP:{c(-1),f.preventDefault();break}case Ae.DOWN:{c(1),f.preventDefault();break}}var $=N.value;if($&&$.data){var T=$.data.isLeaf===!1||!!($.data.children||[]).length,E=k.value;switch(f.which){case Ae.LEFT:{T&&P.value.has(A.value)?Ie({},E):$.parent&&Ne($.parent.key),f.preventDefault();break}case Ae.RIGHT:{T&&!P.value.has(A.value)?Ie({},E):$.children&&$.children.length&&Ne($.children[0].key),f.preventDefault();break}case Ae.ENTER:case Ae.SPACE:{b&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?Ge({},E,!U.value.has(A.value)):!b&&B&&!E.disabled&&E.selectable!==!1&&ze({},E);break}}}y&&y(f)};return s({onNodeExpand:Ie,scrollTo:ye,onKeydown:H,selectedKeys:I(function(){return h.value}),checkedKeys:I(function(){return K.value}),halfCheckedKeys:I(function(){return g.value}),loadedKeys:I(function(){return p.value}),loadingKeys:I(function(){return D.value}),expandedKeys:I(function(){return x.value})}),qt(function(){window.removeEventListener("dragend",Ve),i.value=!0}),oa({expandedKeys:x,selectedKeys:h,loadedKeys:p,loadingKeys:D,checkedKeys:K,halfCheckedKeys:g,expandedKeysSet:P,selectedKeysSet:M,loadedKeysSet:R,loadingKeysSet:re,checkedKeysSet:U,halfCheckedKeysSet:ie,flattenNodes:J}),function(){var C,f=r.draggingNodeKey,y=r.dropLevelOffset,b=r.dropContainerKey,B=r.dropTargetKey,$=r.dropPosition,T=r.dragOverNodeKey,E=e.prefixCls,_=e.showLine,V=e.focusable,Y=e.tabindex,Z=Y===void 0?0:Y,ne=e.selectable,oe=e.showIcon,ce=e.icon,ve=ce===void 0?o.icon:ce,se=e.switcherIcon,te=e.draggable,he=e.checkable,ge=e.checkStrictly,De=e.disabled,Ye=e.motion,yn=e.loadData,wt=e.filterTreeNode,Pt=e.height,Tt=e.itemHeight,Lt=e.virtual,It=e.dropIndicatorRender,At=e.onContextmenu,Ft=e.onScroll,Mt=e.direction,$t=a.class,_t=a.style,Bt=ht(O(O({},e),a),{aria:!0,data:!0}),Xe;return te&&(_e(te)==="object"?Xe=te:typeof te=="function"?Xe={nodeDraggable:te}:Xe={}),L(ra,{value:{prefixCls:E,selectable:ne,showIcon:oe,icon:ve,switcherIcon:se,draggable:Xe,draggingNodeKey:f,checkable:he,customCheckable:o.checkable,checkStrictly:ge,disabled:De,keyEntities:v.value,dropLevelOffset:y,dropContainerKey:b,dropTargetKey:B,dropPosition:$,dragOverNodeKey:T,dragging:f!==null,indent:u.value,direction:Mt,dropIndicatorRender:It,loadData:yn,filterTreeNode:wt,onNodeClick:ln,onNodeDoubleClick:dn,onNodeExpand:Ie,onNodeSelect:ze,onNodeCheck:Ge,onNodeLoad:qe,onNodeMouseEnter:cn,onNodeMouseLeave:un,onNodeContextMenu:sn,onNodeDragStart:nn,onNodeDragEnter:tn,onNodeDragOver:an,onNodeDragLeave:rn,onNodeDragEnd:Me,onNodeDrop:on,slots:o}},{default:function(){return[L("div",{role:"tree",class:be(E,$t,(C={},W(C,"".concat(E,"-show-line"),_),W(C,"".concat(E,"-focused"),S.value),W(C,"".concat(E,"-active-focused"),A.value!==null),C))},[L(Oa,O({ref:ae,prefixCls:E,style:_t,disabled:De,selectable:ne,checkable:!!he,motion:Ye,height:Pt,itemHeight:Tt,virtual:Lt,focusable:V,focused:S.value,tabindex:Z,activeItem:N.value,onFocus:We,onBlur:vn,onKeydown:H,onActiveChange:Ne,onListChangeStart:Ue,onListChangeEnd:fn,onContextmenu:At,onScroll:Ft},Bt),null)])]}})}}});var La={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Ia=La;function nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.forEach(function(o){Aa(n,o,t[o])})}return n}function Aa(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var $n=function(e,t){var a=nt({},e,t.attrs);return L(Fe,nt({},a,{icon:Ia}),null)};$n.displayName="FileOutlined";$n.inheritAttrs=!1;const Et=$n;var Fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Ma=Fa;function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.forEach(function(o){$a(n,o,t[o])})}return n}function $a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _n=function(e,t){var a=tt({},e,t.attrs);return L(Fe,tt({},a,{icon:Ma}),null)};_n.displayName="MinusSquareOutlined";_n.inheritAttrs=!1;const _a=_n;var Ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const ja=Ba;function at(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.forEach(function(o){Ra(n,o,t[o])})}return n}function Ra(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Bn=function(e,t){var a=at({},e,t.attrs);return L(Fe,at({},a,{icon:ja}),null)};Bn.displayName="PlusSquareOutlined";Bn.inheritAttrs=!1;const Ha=Bn;var Va={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const za=Va;function rt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.forEach(function(o){Ga(n,o,t[o])})}return n}function Ga(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jn=function(e,t){var a=rt({},e,t.attrs);return L(Fe,rt({},a,{icon:za}),null)};jn.displayName="CaretDownFilled";jn.inheritAttrs=!1;const qa=jn;function Wa(n,e,t,a){var o=a.isLeaf,s=a.expanded,i=a.loading,l=e;if(i)return L(Xt,{class:"".concat(n,"-switcher-loading-icon")},null);var u;t&&_e(t)==="object"&&(u=t.showLeafIcon);var h=null,K="".concat(n,"-switcher-icon");return o?(t&&(_e(t)==="object"&&!u?h=L("span",{class:"".concat(n,"-switcher-leaf-line")},null):h=L(Et,{class:"".concat(n,"-switcher-line-icon")},null)),h):(h=L(qa,{class:K},null),t&&(h=s?L(_a,{class:"".concat(n,"-switcher-line-icon")},null):L(Ha,{class:"".concat(n,"-switcher-line-icon")},null)),typeof e=="function"?l=e(O(O({},a),{},{defaultIcon:h,switcherCls:K})):Jt(l)&&(l=Wt(l,{class:K})),l||h)}var ot=4;function Ua(n){var e,t=n.dropPosition,a=n.dropLevelOffset,o=n.prefixCls,s=n.indent,i=n.direction,l=i===void 0?"ltr":i,u=l==="ltr"?"left":"right",h=l==="ltr"?"right":"left",K=(e={},W(e,u,"".concat(-a*s+ot,"px")),W(e,h,0),e);switch(t){case-1:K.top="".concat(-3,"px");break;case 1:K.bottom="".concat(-3,"px");break;default:K.bottom="".concat(-3,"px"),K[u]="".concat(s+ot,"px");break}return L("div",{style:K,class:"".concat(o,"-drop-indicator")},null)}var Ot=function(){var e=xt();return O(O({},e),{},{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:xe.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:xe.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})};const Qe=we({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:An(Ot(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,t){var a=t.attrs,o=t.expose,s=t.emit,i=t.slots;yt(!(e.treeData===void 0&&i.default));var l=pt("tree",e),u=l.prefixCls,h=l.direction,K=l.virtual,g=X(),p=function(d){var v;(v=g.value)===null||v===void 0||v.scrollTo(d)};o({treeRef:g,onNodeExpand:function(){for(var d,v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];(d=g.value)===null||d===void 0||d.onNodeExpand.apply(d,S)},scrollTo:p,selectedKeys:I(function(){var r;return(r=g.value)===null||r===void 0?void 0:r.selectedKeys}),checkedKeys:I(function(){var r;return(r=g.value)===null||r===void 0?void 0:r.checkedKeys}),halfCheckedKeys:I(function(){var r;return(r=g.value)===null||r===void 0?void 0:r.halfCheckedKeys}),loadedKeys:I(function(){var r;return(r=g.value)===null||r===void 0?void 0:r.loadedKeys}),loadingKeys:I(function(){var r;return(r=g.value)===null||r===void 0?void 0:r.loadingKeys}),expandedKeys:I(function(){var r;return(r=g.value)===null||r===void 0?void 0:r.expandedKeys})}),ke(function(){Qt(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});var D=function(d,v){s("update:checkedKeys",d),s("check",d,v)},x=function(d,v){s("update:expandedKeys",d),s("expand",d,v)},m=function(d,v){s("update:selectedKeys",d),s("select",d,v)};return function(){var r,d=e.showIcon,v=e.showLine,S=e.switcherIcon,A=S===void 0?i.switcherIcon:S,j=e.icon,q=j===void 0?i.icon:j,ae=e.blockNode,G=e.checkable,F=e.selectable,ee=e.fieldNames,w=ee===void 0?e.replaceFields:ee,P=e.motion,M=P===void 0?e.openAnimation:P,R=e.itemHeight,re=R===void 0?28:R,U=e.onDoubleclick,ie=e.onDblclick,z=O(O(O({},a),In(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{},{showLine:!!v,dropIndicatorRender:Ua,fieldNames:w,icon:q,itemHeight:re}),J=i.default?Ze(i.default()):void 0;return L(Ta,O(O({},z),{},{virtual:K.value,motion:M,ref:g,prefixCls:u.value,class:be((r={},W(r,"".concat(u.value,"-icon-hide"),!d),W(r,"".concat(u.value,"-block-node"),ae),W(r,"".concat(u.value,"-unselectable"),!F),W(r,"".concat(u.value,"-rtl"),h.value==="rtl"),r),a.class),direction:h.value,checkable:G,selectable:F,switcherIcon:function(Q){return Wa(u.value,A,v,Q)},onCheck:D,onExpand:x,onSelect:m,onDblclick:ie||U,children:J}),O(O({},i),{},{checkable:function(){return L("span",{class:"".concat(u.value,"-checkbox-inner")},null)}}))}}});var Ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Xa=Ya;function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.forEach(function(o){Ja(n,o,t[o])})}return n}function Ja(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Rn=function(e,t){var a=lt({},e,t.attrs);return L(Fe,lt({},a,{icon:Xa}),null)};Rn.displayName="FolderOpenOutlined";Rn.inheritAttrs=!1;const Qa=Rn;var Za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const er=Za;function it(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.forEach(function(o){nr(n,o,t[o])})}return n}function nr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Hn=function(e,t){var a=it({},e,t.attrs);return L(Fe,it({},a,{icon:er}),null)};Hn.displayName="FolderOutlined";Hn.inheritAttrs=!1;const tr=Hn;var me;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(me||(me={}));function Vn(n,e,t){function a(o){var s=o[e.key],i=o[e.children];t(s,o)!==!1&&Vn(i||[],e,t)}n.forEach(a)}function ar(n){var e=n.treeData,t=n.expandedKeys,a=n.startKey,o=n.endKey,s=n.fieldNames,i=s===void 0?{title:"title",key:"key",children:"children"}:s,l=[],u=me.None;if(a&&a===o)return[a];if(!a||!o)return[];function h(K){return K===a||K===o}return Vn(e,i,function(K){if(u===me.End)return!1;if(h(K)){if(l.push(K),u===me.None)u=me.Start;else if(u===me.Start)return u=me.End,!1}else u===me.Start&&l.push(K);return t.indexOf(K)!==-1}),l}function Cn(n,e,t){var a=Ce(e),o=[];return Vn(n,t,function(s,i){var l=a.indexOf(s);return l!==-1&&(o.push(i),a.splice(l,1)),!!a.length}),o}var rr=["icon","blockNode"],or=function(){return O(O({},Ot()),{},{expandAction:{type:[Boolean,String]}})};function lr(n){var e=n.isLeaf,t=n.expanded;return e?L(Et,null,null):t?L(Qa,null,null):L(tr,null,null)}const Sn=we({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:An(or(),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,t){var a,o=t.attrs,s=t.slots,i=t.emit,l=t.expose,u=X(e.treeData||On(Ze((a=s.default)===null||a===void 0?void 0:a.call(s))));Ke(function(){return e.treeData},function(){u.value=e.treeData}),vt(function(){Ln(function(){if(e.treeData===void 0&&s.default){var w;u.value=On(Ze((w=s.default)===null||w===void 0?void 0:w.call(s)))}})});var h=X(),K=X(),g=I(function(){return en(e.fieldNames)}),p=X(),D=function(P){var M;(M=p.value)===null||M===void 0||M.scrollTo(P)};l({scrollTo:D,selectedKeys:I(function(){var w;return(w=p.value)===null||w===void 0?void 0:w.selectedKeys}),checkedKeys:I(function(){var w;return(w=p.value)===null||w===void 0?void 0:w.checkedKeys}),halfCheckedKeys:I(function(){var w;return(w=p.value)===null||w===void 0?void 0:w.halfCheckedKeys}),loadedKeys:I(function(){var w;return(w=p.value)===null||w===void 0?void 0:w.loadedKeys}),loadingKeys:I(function(){var w;return(w=p.value)===null||w===void 0?void 0:w.loadingKeys}),expandedKeys:I(function(){var w;return(w=p.value)===null||w===void 0?void 0:w.expandedKeys})});var x=function(){var P=St(u.value,{fieldNames:g.value}),M=P.keyEntities,R;return e.defaultExpandAll?R=Object.keys(M):e.defaultExpandParent?R=En(e.expandedKeys||e.defaultExpandedKeys||[],M):R=e.expandedKeys||e.defaultExpandedKeys,R},m=X(e.selectedKeys||e.defaultSelectedKeys||[]),r=X(x());Ke(function(){return e.selectedKeys},function(){e.selectedKeys!==void 0&&(m.value=e.selectedKeys)},{immediate:!0}),Ke(function(){return e.expandedKeys},function(){e.expandedKeys!==void 0&&(r.value=e.expandedKeys)},{immediate:!0});var d=function(P,M){var R=M.isLeaf;R||P.shiftKey||P.metaKey||P.ctrlKey||p.value.onNodeExpand(P,M)},v=Zt(d,200,{leading:!0}),S=function(P,M){e.expandedKeys===void 0&&(r.value=P),i("update:expandedKeys",P),i("expand",P,M)},A=function(P,M){var R=e.expandAction;R==="click"&&v(P,M),i("click",P,M)},j=function(P,M){var R=e.expandAction;(R==="dblclick"||R==="doubleclick")&&v(P,M),i("doubleclick",P,M),i("dblclick",P,M)},q=function(P,M){var R=e.multiple,re=M.node,U=M.nativeEvent,ie=re[g.value.key],z=O(O({},M),{},{selected:!0}),J=(U==null?void 0:U.ctrlKey)||(U==null?void 0:U.metaKey),ue=U==null?void 0:U.shiftKey,Q;R&&J?(Q=P,h.value=ie,K.value=Q,z.selectedNodes=Cn(u.value,Q,g.value)):R&&ue?(Q=Array.from(new Set([].concat(Ce(K.value||[]),Ce(ar({treeData:u.value,expandedKeys:r.value,startKey:ie,endKey:h.value,fieldNames:g.value}))))),z.selectedNodes=Cn(u.value,Q,g.value)):(Q=[ie],h.value=ie,K.value=Q,z.selectedNodes=Cn(u.value,Q,g.value)),i("update:selectedKeys",Q),i("select",Q,z),e.selectedKeys===void 0&&(m.value=Q)},ae=function(P,M){i("update:checkedKeys",P),i("check",P,M)},G=pt("tree",e),F=G.prefixCls,ee=G.direction;return function(){var w=be("".concat(F.value,"-directory"),W({},"".concat(F.value,"-directory-rtl"),ee.value==="rtl"),o.class),P=e.icon,M=P===void 0?s.icon:P,R=e.blockNode,re=R===void 0?!0:R,U=je(e,rr);return L(Qe,O(O(O({},o),{},{icon:M||lr,ref:p,blockNode:re},U),{},{prefixCls:F.value,class:w,expandedKeys:r.value,selectedKeys:m.value,onSelect:q,onClick:A,onDblclick:j,onExpand:S,onCheck:ae}),s)}}});var Nn=Dn;const ir=Oe(Qe,{DirectoryTree:Sn,TreeNode:Nn,install:function(e){return e.component(Qe.name,Qe),e.component(Nn.name,Nn),e.component(Sn.name,Sn),e}}),dr={class:"p-16px"},cr={class:"m-16px overscroll-contain overflow-y-auto overflow-x-hidden",style:{"max-height":"calc(100% - 64px)"}},ur={class:"text-red"},pr=we({__name:"index",props:{single:{type:Boolean,default:!1}},emits:["select"],setup(n,{emit:e}){const t=n,a=ta();a.fetchdeviceTree();const o=X([]),s=(m,r)=>{t.single&&(o.value=[r.node.key]),e("select",r.node)},i=X(""),l=X([]),u=X(!0),h=m=>{l.value=m,u.value=!1},K=X([]),g=(m,r)=>{let d;if(!(r!=null&&r.length))return d;for(let v=0;v<r.length;v++){const S=r[v];S.children&&(S.children.some(A=>A.key===m)?d=S.key:g(m,S.children)&&(d=g(m,S.children)))}return d};let p=[];const D=m=>{const r=p.map(d=>d.title.indexOf(m)>-1?g(d.key,K.value):null).filter((d,v,S)=>d&&S.indexOf(d)===v);l.value=r,i.value=m,u.value=!0},x=na(m=>D(m.target.value),250);return ke(()=>{if(K.value=a.deviceTree,p=a.deviceArr,t.single){for(let m of p)if(m.selectable){o.value=[m.key],l.value=[g(m.key,K.value)],e("select",m);break}}}),(m,r)=>($e(),gn(ft,null,[pn("div",dr,[L(Pe(ea),{placeholder:"",allowClear:"",onInput:Pe(x)},{prefix:bn(()=>[L(Pe(mn),{icon:"ic:outline-search"})]),_:1},8,["onInput"])]),L(Pe(aa),{class:"m0"}),pn("div",cr,[L(Pe(ir),{showIcon:"","tree-data":K.value,defaultExpandAll:"","expanded-keys":l.value,"auto-expand-parent":u.value,onExpand:h,selectedKeys:o.value,onSelect:s},{title:bn(({title:d,isLeaf:v,disabled:S,DeviceID:A})=>[d.indexOf(i.value)>-1?($e(),gn("span",{key:0,class:Kn({"text-primary":!S&&v&&A})},[zn(Je(d.substr(0,d.indexOf(i.value)))+" ",1),pn("span",ur,Je(i.value),1),zn(" "+Je(d.substr(d.indexOf(i.value)+i.value.length)),1)],2)):($e(),gn("span",{key:1,class:Kn({"text-primary":!S&&v&&A})},Je(d),3))]),icon:bn(({isLeaf:d,DeviceID:v,disabled:S})=>[d&&v?($e(),Gn(Pe(mn),{key:0,icon:"mdi:web-camera",class:Kn(["v-text-bottom",{"text-primary":!S}])},null,8,["class"])):($e(),Gn(Pe(mn),{key:1,icon:"icon-park-solid:tree-diagram",class:"v-text-bottom rotate-90"}))]),_:1},8,["tree-data","expanded-keys","auto-expand-parent","selectedKeys"])])],64))}});export{pr as _};
