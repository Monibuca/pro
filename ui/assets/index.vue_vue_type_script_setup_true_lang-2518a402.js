import{d as b,k as g,w as _,U as v,V as M,a4 as Y}from"./vue-c6b19427.js";import{d as E}from"./dayjs-4778c158.js";import{bH as N,bI as O,ao as S,bJ as h,bK as y}from"./index-11d05838.js";var H="[object Number]";function w(s){return typeof s=="number"||N(s)&&O(s)==H}const A="YYYY-MM-DD HH:mm:ss",I="YYYY-MM-DD",i=E,j=(s,r=A)=>i(s).format(r),k=(s,r=I)=>i(s).format(r),x=b({__name:"index",props:{value:{type:[Number,String]},step:{type:Number,default:60},mode:{type:String,default:"relative",validator:s=>["date","datetime","relative"].includes(s)}},setup(s){const r=s,l=1e3,f=l*60,m=f*60,d=m*24,c=g("");S(T,r.step*l),_(()=>r.value,()=>{T()},{immediate:!0});function p(){const{value:e}=r;let a=0;if(w(e)){const n=e.toString().length>10?e:e*1e3;a=new Date(n).getTime()}else h(e)?a=new Date(e).getTime():y(e)&&(a=e.getTime());return a}function T(){const{mode:e,value:a}=r,n=p();e==="relative"?c.value=D(n):e==="datetime"?c.value=j(a):e==="date"&&(c.value=k(a))}function D(e){const a=new Date().getTime(),n=i(e).isBefore(a);let t=a-e;n||(t=-t);let o="",u=n?"前":"后";return t<l?o="刚刚":t<f?o=parseInt(`${t/l}`)+"秒"+u:t>=f&&t<m?o=Math.floor(t/f)+"分钟"+u:t>=m&&t<d?o=Math.floor(t/m)+"小时"+u:t>=d&&t<262386e4?o=Math.floor(t/d)+"天"+u:t>=262386e4&&t<=3156786e4&&n?o=i(e).format("MM-DD-HH-mm"):o=i(e).format("YYYY"),o}return(e,a)=>(v(),M("span",null,Y(c.value),1))}});export{x as _};
