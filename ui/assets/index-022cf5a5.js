import{d as y,f as a,e as I,k as p,o as N,U as _,_ as w,$ as d,V as b,u as r,F as T,a7 as j,E as C,a4 as G,a8 as B}from"./vue-c6b19427.js";import{g as O,a as V}from"./global-d9381641.js";import{u as R}from"./formily-616f199b.js";import"./dayjs-4778c158.js";import{u as A,h as k,m as h,P as x,M as K,S as $,B as E,T as S,al as L}from"./index-5bf97ded.js";import{C as f}from"./Card-02b71e3c.js";import{A as q}from"./index-9f9dd3e0.js";import"./index-c694a60c.js";import"./index-f54b9088.js";import"./Group-ff43945e.js";import"./index-b96f56b2.js";import"./index-864acc37.js";import"./mockjs-890b569b.js";import"./useFlexGapSupport-dcef435e.js";var U=function(){return{prefixCls:String,title:x.any,description:x.any,avatar:x.any}};const D=y({compatConfig:{MODE:3},name:"ACardMeta",props:U(),slots:["title","description","avatar"],setup:function(n,c){var s=c.slots,u=A("card",n),o=u.prefixCls;return function(){var m=k({},"".concat(o.value,"-meta"),!0),t=h(s,n,"avatar"),g=h(s,n,"title"),i=h(s,n,"description"),v=t?a("div",{class:"".concat(o.value,"-meta-avatar")},[t]):null,e=g?a("div",{class:"".concat(o.value,"-meta-title")},[g]):null,P=i?a("div",{class:"".concat(o.value,"-meta-description")},[i]):null,F=e||P?a("div",{class:"".concat(o.value,"-meta-detail")},[e,P]):null;return a("div",{class:m},[v,F])}}});var z=function(){return{prefixCls:String,hoverable:{type:Boolean,default:!0}}};const M=y({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:z(),setup:function(n,c){var s=c.slots,u=A("card",n),o=u.prefixCls,m=I(function(){var t;return t={},k(t,"".concat(o.value,"-grid"),!0),k(t,"".concat(o.value,"-grid-hoverable"),n.hoverable),t});return function(){var t;return a("div",{class:m.value},[(t=s.default)===null||t===void 0?void 0:t.call(s)])}}});f.Meta=D;f.Grid=M;f.install=function(l){return l.component(f.name,f),l.component(D.name,D),l.component(M.name,M),l};const H={key:0},J={key:1,class:"flex"},Q={class:"w-700px"},W={class:"flex justify-between p-4px",style:{background:"var(--layout-background)"}},X=y({name:"ConfigPlugin"}),fe=y({...X,setup(l){const n=p([]),c=p([]);O().then(i=>{Object.keys(i).length&&(n.value=Object.entries(i).map(([v,e])=>(c.value.length<=0&&!e.Disabled&&(c.value=[e.Name]),{name:e.Name,version:`版本: ${e.Version}`,disabled:e.Disabled})))});const s=p(null),u=p();V().then(i=>{const{FormilyForm:v,form:e}=R({formProps:i.form,schema:i.schema});s.value=v,u.value=e});const o=async()=>{if(!u.value.modified)return L.warning("您尚未修改过任何配置，无需保存！");await u.value.submit()},m=p();N(()=>{m.value=document.querySelector(".main-set")});const t=()=>m.value,g=()=>{window.open("https://m7s.live/guide/config.html#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE","_blank")};return(i,v)=>(_(),w(r(f),{class:"flex-center"},{default:d(()=>[s.value?(_(),b("div",J,[a(r(K),{selectedKeys:c.value},{default:d(()=>[(_(!0),b(T,null,j(n.value,e=>(_(),w(r($),{key:e.name,disabled:e.disabled},{default:d(()=>[C(G(e.name),1)]),_:2},1032,["disabled"]))),128))]),_:1},8,["selectedKeys"]),a(r(f),{bordered:!1,bodyStyle:{paddingTop:0}},{default:d(()=>[B("div",Q,[a(r(q),{offsetTop:2,target:t,class:"mb-10px"},{default:d(()=>[B("div",W,[a(r(E),{type:"link",onClick:o},{default:d(()=>[a(r(S),{icon:"tabler:hand-click",class:"v-text-bottom"}),C(" 点我保存配置 ")]),_:1}),a(r(E),{type:"link",onClick:g},{default:d(()=>[C(" 配置文档 "),a(r(S),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),_:1})])]),_:1}),a(r(s))])]),_:1})])):(_(),b("div",H,"配置表单生成中..."))]),_:1}))}});export{fe as default};
