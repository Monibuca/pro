import{f as p,m as l,r as x,s as d,p as v}from"./vue-0f3866c3.js";import{L as k,bz as h,bA as j}from"./index-0f1216c0.js";import"./dayjs-4778c158.js";function M({content:o,props:a={},modalConfig:e}){const f=document.createDocumentFragment(),b=p(o,a),n=Object.create({okText:"确定",cancelText:"取消",visible:!0,...e});n.onCancel=async function(t){var r;await((r=e.onCancel)==null?void 0:r.call(e,t)),s()},n.onOk=async function(t){if(!(e.onOk instanceof Function)){s();return}const r=e.onOk(t);if(!(r instanceof Promise)){s();return}return c({confirmLoading:!0}),r.then(()=>{c({confirmLoading:!1}),s()}).catch(()=>{c({confirmLoading:!1})})};const{getDarkMode:O}=k(),i=p(h,n,()=>b),u=p(j,{prefixCls:O},()=>i);e.appContext&&(u.appContext=e.appContext);function c(t){Object.assign(i.component.props,t),i.component.update()}function s(){var t;n.visible=!1,c(n),(t=n==null?void 0:n.onClose)==null||t.call(n)}function m(){u&&l(null,f)}return l(u,f),{...b,close:s,destroy:m,update:c}}const V=()=>{const o=x({uid:Symbol(),tableRef:{}}),a=e=>Object.assign(o,e);return d(()=>{Object.assign(o,{setTable:a})}),v(o.uid,o),o};export{M as a,V as u};
