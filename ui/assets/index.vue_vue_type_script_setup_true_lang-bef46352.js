import{bh as va,u as en,j as Fe,e as E,o as nn,c as he,d as z,bw as Ha,P as ge,z as Va,bx as fa,f as we,by as ya,n as $e,_ as Se,bv as Qe,aS as Re,bz as Ga,bA as ha,bB as za,i as Fn,K as Ae,A as Me,bC as qa,q as Ua,k as Wa,bD as Ya,Z as bn,bE as Xa,L as Ja}from"./index-c0a17768.js";import{I as le,s as Ce,d as ke,k as W,c as Mn,f as w,w as me,p as Bn,q as an,e as M,g as Za,r as ga,o as pa,a as ba,ao as Qa,x as et,t as nt,A as at,h as tt,F as ma,J as mn,b as rt,y as ot,S as _e,a3 as Kn,ac as kn,V as xn,u as Pe,a4 as Cn,E as Un,W as Je,U as Wn}from"./vue-12defb16.js";import"./dayjs-4778c158.js";import{u as lt}from"./device-fff3723f.js";import{D as it}from"./index-8b1011e4.js";function Ke(n){var e=le();return Ce(function(){e.value=n()},{flush:"sync"}),e}var dt=["prefixCls","id"],ut=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:ge.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}};const Yn=ke({compatConfig:{MODE:3},name:"ARadio",props:ut(),setup:function(e,a){var r=a.emit,o=a.expose,s=a.slots,d=va(),l=W(),u=Mn("radioGroupContext",void 0),f=en("radio",e),h=f.prefixCls,y=f.direction,b=function(){l.value.focus()},x=function(){l.value.blur()};o({focus:b,blur:x});var k=function(i){var v=i.target.checked;r("update:checked",v),r("update:value",v),r("change",i),d.onFieldChange()},K=function(i){r("change",i),u&&u.onRadioChange&&u.onRadioChange(i)};return function(){var t,i=u;e.prefixCls;var v=e.id,C=v===void 0?d.id.value:v,A=Fe(e,dt),L=E({prefixCls:h.value,id:C},nn(A,["onUpdate:checked","onUpdate:value"]));i?(L.name=i.props.name,L.onChange=K,L.checked=e.value===i.stateValue.value,L.disabled=e.disabled||i.props.disabled):L.onChange=k;var q=he((t={},z(t,"".concat(h.value,"-wrapper"),!0),z(t,"".concat(h.value,"-wrapper-checked"),L.checked),z(t,"".concat(h.value,"-wrapper-disabled"),L.disabled),z(t,"".concat(h.value,"-wrapper-rtl"),y.value==="rtl"),t));return w("label",{class:q},[w(Ha,E(E({},L),{},{type:"radio",ref:l}),null),s.default&&w("span",null,[s.default()])])}}});var ct=Va("large","default","small"),st=function(){return{prefixCls:String,value:ge.any,size:ge.oneOf(ct),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function}};const Nr=ke({compatConfig:{MODE:3},name:"ARadioGroup",props:st(),setup:function(e,a){var r=a.slots,o=a.emit,s=va(),d=en("radio",e),l=d.prefixCls,u=d.direction,f=d.size,h=W(e.value),y=W(!1);me(function(){return e.value},function(x){h.value=x,y.value=!1});var b=function(k){var K=h.value,t=k.target.value;"value"in e||(h.value=t),!y.value&&t!==K&&(y.value=!0,o("update:value",t),o("change",k),s.onFieldChange()),an(function(){y.value=!1})};return Bn("radioGroupContext",{onRadioChange:b,stateValue:h,props:e}),function(){var x,k=e.options,K=e.optionType,t=e.buttonStyle,i=e.id,v=i===void 0?s.id.value:i,C="".concat(l.value,"-group"),A=he(C,"".concat(C,"-").concat(t),(x={},z(x,"".concat(C,"-").concat(f.value),f.value),z(x,"".concat(C,"-rtl"),u.value==="rtl"),x)),L=null;if(k&&k.length>0){var q=K==="button"?"".concat(l.value,"-button"):l.value;L=k.map(function(R){if(typeof R=="string"||typeof R=="number")return w(Yn,{key:R,prefixCls:q,disabled:e.disabled,value:R,checked:h.value===R},{default:function(){return[R]}});var F=R.value,Z=R.disabled,P=R.label;return w(Yn,{key:"radio-group-value-options-".concat(F),prefixCls:q,disabled:Z||e.disabled,value:F,checked:h.value===F},{default:function(){return[P]}})})}else{var J;L=(J=r.default)===null||J===void 0?void 0:J.call(r)}return w("div",{class:A,id:v},[L])}}});var Ka=Symbol("TreeContextKey"),vt=ke({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,a){var r=a.slots;return Bn(Ka,M(function(){return e.value})),function(){var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)}}}),_n=function(){return Mn(Ka,M(function(){return{}}))},ka=Symbol("KeysStateKey"),ft=function(e){Bn(ka,e)},xa=function(){return Mn(ka,{expandedKeys:le([]),selectedKeys:le([]),loadedKeys:le([]),loadingKeys:le([]),checkedKeys:le([]),halfCheckedKeys:le([]),expandedKeysSet:M(function(){return new Set}),selectedKeysSet:M(function(){return new Set}),loadedKeysSet:M(function(){return new Set}),loadingKeysSet:M(function(){return new Set}),checkedKeysSet:M(function(){return new Set}),halfCheckedKeysSet:M(function(){return new Set}),flattenNodes:le([])})},yt=function(e){for(var a=e.prefixCls,r=e.level,o=e.isStart,s=e.isEnd,d="".concat(a,"-indent-unit"),l=[],u=0;u<r;u+=1){var f;l.push(w("span",{key:u,class:(f={},z(f,d,!0),z(f,"".concat(d,"-start"),o[u]),z(f,"".concat(d,"-end"),s[u]),f)},null))}return w("span",{"aria-hidden":"true",class:"".concat(a,"-indent")},[l])};const ht=yt;var Ca={eventKey:[String,Number],prefixCls:String,title:ge.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:ge.any,switcherIcon:ge.any,domRef:{type:Function}},gt={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Sa=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:ge.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:ge.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:ge.any,switcherIcon:ge.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},pt=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],Xn="open",Jn="close",bt="---";const wn=ke({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Ca,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,a){var r=a.attrs,o=a.slots,s=a.expose;fa(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(D){return"`v-slot:"+D+"` "}),"instead"));var d=W(!1),l=_n(),u=xa(),f=u.expandedKeysSet,h=u.selectedKeysSet,y=u.loadedKeysSet,b=u.loadingKeysSet,x=u.checkedKeysSet,k=u.halfCheckedKeysSet,K=l.value,t=K.dragOverNodeKey,i=K.dropPosition,v=K.keyEntities,C=M(function(){return Ln(e.eventKey,{expandedKeysSet:f.value,selectedKeysSet:h.value,loadedKeysSet:y.value,loadingKeysSet:b.value,checkedKeysSet:x.value,halfCheckedKeysSet:k.value,dragOverNodeKey:t,dropPosition:i,keyEntities:v})}),A=Ke(function(){return C.value.expanded}),L=Ke(function(){return C.value.selected}),q=Ke(function(){return C.value.checked}),J=Ke(function(){return C.value.loaded}),R=Ke(function(){return C.value.loading}),F=Ke(function(){return C.value.halfChecked}),Z=Ke(function(){return C.value.dragOver}),P=Ke(function(){return C.value.dragOverGapTop}),T=Ke(function(){return C.value.dragOverGapBottom}),B=Ke(function(){return C.value.pos}),H=W(),re=M(function(){var D=e.eventKey,c=l.value.keyEntities,S=c[D]||{},V=S.children;return!!(V||[]).length}),Y=M(function(){var D=e.isLeaf,c=l.value.loadData,S=re.value;return D===!1?!1:D||!c&&!S||c&&J.value&&!S}),ie=M(function(){return Y.value?null:A.value?Xn:Jn}),U=M(function(){var D=e.disabled,c=l.value.disabled;return!!(c||D)}),Q=M(function(){var D=e.checkable,c=l.value.checkable;return!c||D===!1?!1:c}),ce=M(function(){var D=e.selectable,c=l.value.selectable;return typeof D=="boolean"?D:c}),ee=M(function(){var D=e.data,c=e.active,S=e.checkable,V=e.disableCheckbox,N=e.disabled,g=e.selectable;return E(E({active:c,checkable:S,disableCheckbox:V,disabled:N,selectable:g},D),{},{dataRef:D,data:D,isLeaf:Y.value,checked:q.value,expanded:A.value,loading:R.value,selected:L.value,halfChecked:F.value})}),fe=Za(),de=M(function(){var D=e.eventKey,c=l.value.keyEntities,S=c[D]||{},V=S.parent;return E(E({},In(we({},e,C.value))),{},{parent:V})}),ye=ga({eventData:de,eventKey:M(function(){return e.eventKey}),selectHandle:H,pos:B,key:fe.vnode.key});s(ye);var Ne=function(c){var S=l.value.onNodeDoubleClick;S(c,de.value)},He=function(c){if(!U.value){var S=l.value.onNodeSelect;c.preventDefault(),S(c,de.value)}},Be=function(c){if(!U.value){var S=e.disableCheckbox,V=l.value.onNodeCheck;if(!(!Q.value||S)){c.preventDefault();var N=!q.value;V(c,de.value,N)}}},Ve=function(c){var S=l.value.onNodeClick;S(c,de.value),ce.value?He(c):Be(c)},rn=function(c){var S=l.value.onNodeMouseEnter;S(c,de.value)},on=function(c){var S=l.value.onNodeMouseLeave;S(c,de.value)},ln=function(c){var S=l.value.onNodeContextMenu;S(c,de.value)},dn=function(c){var S=l.value.onNodeDragStart;c.stopPropagation(),d.value=!0,S(c,ye);try{c.dataTransfer.setData("text/plain","")}catch{}},un=function(c){var S=l.value.onNodeDragEnter;c.preventDefault(),c.stopPropagation(),S(c,ye)},cn=function(c){var S=l.value.onNodeDragOver;c.preventDefault(),c.stopPropagation(),S(c,ye)},sn=function(c){var S=l.value.onNodeDragLeave;c.stopPropagation(),S(c,ye)},Ge=function(c){var S=l.value.onNodeDragEnd;c.stopPropagation(),d.value=!1,S(c,ye)},ze=function(c){var S=l.value.onNodeDrop;c.preventDefault(),c.stopPropagation(),d.value=!1,S(c,ye)},qe=function(c){var S=l.value.onNodeExpand;R.value||S(c,de.value)},vn=function(){var c=e.data,S=l.value.draggable;return!!(S&&(!S.nodeDraggable||S.nodeDraggable(c)))},fn=function(){var c=l.value,S=c.draggable,V=c.prefixCls;return S&&S!==null&&S!==void 0&&S.icon?w("span",{class:"".concat(V,"-draggable-icon")},[S.icon]):null},yn=function(){var c,S,V,N=e.switcherIcon,g=N===void 0?o.switcherIcon||((c=l.value.slots)===null||c===void 0?void 0:c[(S=e.data)===null||S===void 0||(V=S.slots)===null||V===void 0?void 0:V.switcherIcon]):N,p=l.value.switcherIcon,m=g||p;return typeof m=="function"?m(ee.value):m},Ue=function(){var c=l.value,S=c.loadData,V=c.onNodeLoad;R.value||S&&A.value&&!Y.value&&!re.value&&!J.value&&V(de.value)};pa(function(){Ue()}),ba(function(){Ue()});var hn=function(){var c=l.value.prefixCls,S=yn();if(Y.value)return S!==!1?w("span",{class:he("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},[S]):null;var V=he("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(A.value?Xn:Jn));return S!==!1?w("span",{onClick:qe,class:V},[S]):null},Ie=function(){var c,S,V=e.disableCheckbox,N=l.value.prefixCls,g=U.value,p=Q.value;return p?w("span",{class:he("".concat(N,"-checkbox"),q.value&&"".concat(N,"-checkbox-checked"),!q.value&&F.value&&"".concat(N,"-checkbox-indeterminate"),(g||V)&&"".concat(N,"-checkbox-disabled")),onClick:Be},[(c=(S=l.value).customCheckable)===null||c===void 0?void 0:c.call(S)]):null},We=function(){var c=l.value.prefixCls;return w("span",{class:he("".concat(c,"-iconEle"),"".concat(c,"-icon__").concat(ie.value||"docu"),R.value&&"".concat(c,"-icon_loading"))},null)},gn=function(){var c=e.disabled,S=e.eventKey,V=l.value,N=V.draggable,g=V.dropLevelOffset,p=V.dropPosition,m=V.prefixCls,j=V.indent,_=V.dropIndicatorRender,I=V.dragOverNodeKey,O=V.direction,$=N!==!1,G=!c&&$&&I===S;return G?_({dropPosition:p,dropLevelOffset:g,indent:j,prefixCls:m,direction:O}):null},De=function(){var c,S,V,N,g=e.icon,p=g===void 0?o.icon:g,m=e.data,j=o.title||((c=l.value.slots)===null||c===void 0?void 0:c[(S=e.data)===null||S===void 0||(V=S.slots)===null||V===void 0?void 0:V.title])||((N=l.value.slots)===null||N===void 0?void 0:N.title)||e.title,_=l.value,I=_.prefixCls,O=_.showIcon,$=_.icon,G=_.loadData,X=U.value,ne="".concat(I,"-node-content-wrapper"),ae;if(O){var oe,ue,ve=p||((oe=l.value.slots)===null||oe===void 0?void 0:oe[m==null||(ue=m.slots)===null||ue===void 0?void 0:ue.icon])||$;ae=ve?w("span",{class:he("".concat(I,"-iconEle"),"".concat(I,"-icon__customize"))},[typeof ve=="function"?ve(ee.value):ve]):We()}else G&&R.value&&(ae=We());var se;typeof j=="function"?se=j(ee.value):se=j,se=se===void 0?bt:se;var te=w("span",{class:"".concat(I,"-title")},[se]);return w("span",{ref:H,title:typeof j=="string"?j:"",class:he("".concat(ne),"".concat(ne,"-").concat(ie.value||"normal"),!X&&(L.value||d.value)&&"".concat(I,"-node-selected")),onMouseenter:rn,onMouseleave:on,onContextmenu:ln,onClick:Ve,onDblclick:Ne},[ae,te,gn()])};return function(){var D,c=E(E({},e),r),S=c.eventKey,V=c.isLeaf,N=c.isStart,g=c.isEnd,p=c.domRef,m=c.active;c.data;var j=c.onMousemove,_=c.selectable,I=Fe(c,pt),O=l.value,$=O.prefixCls,G=O.filterTreeNode,X=O.keyEntities,ne=O.dropContainerKey,ae=O.dropTargetKey,oe=O.draggingNodeKey,ue=U.value,ve=ya(I,{aria:!0,data:!0}),se=X[S]||{},te=se.level,pe=g[g.length-1],be=vn(),Ee=!ue&&be,Ye=oe===S,pn=_!==void 0?{"aria-selected":!!_}:void 0;return w("div",E(E({ref:p,class:he(r.class,"".concat($,"-treenode"),(D={},z(D,"".concat($,"-treenode-disabled"),ue),z(D,"".concat($,"-treenode-switcher-").concat(A.value?"open":"close"),!V),z(D,"".concat($,"-treenode-checkbox-checked"),q.value),z(D,"".concat($,"-treenode-checkbox-indeterminate"),F.value),z(D,"".concat($,"-treenode-selected"),L.value),z(D,"".concat($,"-treenode-loading"),R.value),z(D,"".concat($,"-treenode-active"),m),z(D,"".concat($,"-treenode-leaf-last"),pe),z(D,"".concat($,"-treenode-draggable"),Ee),z(D,"dragging",Ye),z(D,"drop-target",ae===S),z(D,"drop-container",ne===S),z(D,"drag-over",!ue&&Z.value),z(D,"drag-over-gap-top",!ue&&P.value),z(D,"drag-over-gap-bottom",!ue&&T.value),z(D,"filter-node",G&&G(de.value)),D)),style:r.style,draggable:Ee,"aria-grabbed":Ye,onDragstart:Ee?dn:void 0,onDragenter:be?un:void 0,onDragover:be?cn:void 0,onDragleave:be?sn:void 0,onDrop:be?ze:void 0,onDragend:be?Ge:void 0,onMousemove:j},pn),ve),[w(ht,{prefixCls:$,level:te,isStart:N,isEnd:g},null),fn(),hn(),Ie(),De()])}}});function Oe(n,e){if(!n)return[];var a=n.slice(),r=a.indexOf(e);return r>=0&&a.splice(r,1),a}function Te(n,e){var a=(n||[]).slice();return a.indexOf(e)===-1&&a.push(e),a}function $n(n){return n.split("-")}function Na(n,e){return"".concat(n,"-").concat(e)}function mt(n){return n&&n.type&&n.type.isTreeNode}function Kt(n,e){var a=[],r=e[n];function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(d){var l=d.key,u=d.children;a.push(l),o(u)})}return o(r.children),a}function kt(n){if(n.parent){var e=$n(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function xt(n){var e=$n(n.pos);return Number(e[e.length-1])===0}function Zn(n,e,a,r,o,s,d,l,u,f){var h,y=n.clientX,b=n.clientY,x=n.target.getBoundingClientRect(),k=x.top,K=x.height,t=(f==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-y),i=(t-12)/r,v=l[a.eventKey];if(b<k+K/2){var C=d.findIndex(function(re){return re.key===v.key}),A=C<=0?0:C-1,L=d[A].key;v=l[L]}var q=v.key,J=v,R=v.key,F=0,Z=0;if(!u.has(q))for(var P=0;P<i&&kt(v);P+=1)v=v.parent,Z+=1;var T=e.eventData,B=v.node,H=!0;return xt(v)&&v.level===0&&b<k+K/2&&s({dragNode:T,dropNode:B,dropPosition:-1})&&v.key===a.eventKey?F=-1:(J.children||[]).length&&u.has(R)?s({dragNode:T,dropNode:B,dropPosition:0})?F=0:H=!1:Z===0?i>-1.5?s({dragNode:T,dropNode:B,dropPosition:1})?F=1:H=!1:s({dragNode:T,dropNode:B,dropPosition:0})?F=0:s({dragNode:T,dropNode:B,dropPosition:1})?F=1:H=!1:s({dragNode:T,dropNode:B,dropPosition:1})?F=1:H=!1,{dropPosition:F,dropLevelOffset:Z,dropTargetKey:v.key,dropTargetPos:v.pos,dragOverNodeKey:R,dropContainerKey:F===0?null:((h=v.parent)===null||h===void 0?void 0:h.key)||null,dropAllowed:H}}function Qn(n,e){if(n){var a=e.multiple;return a?n.slice():n.length?[n[0]]:n}}function Sn(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if($e(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function Pn(n,e){var a=new Set;function r(o){if(!a.has(o)){var s=e[o];if(s){a.add(o);var d=s.parent,l=s.node;l.disabled||d&&r(d.key)}}}return(n||[]).forEach(function(o){r(o)}),Se(a)}var Ct=["title","icon","switcherIcon"];function je(n,e){return n??e}function tn(n){var e=n||{},a=e.title,r=e._title,o=e.key,s=e.children,d=a||"title";return{title:d,_title:r||[d],key:o||"key",children:s||"children"}}function Tn(n){function e(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=Qe(a);return r.map(function(o){var s,d,l,u;if(!mt(o))return null;for(var f=o.children||{},h=o.key,y={},b=0,x=Object.entries(o.props);b<x.length;b++){var k=Re(x[b],2),K=k[0],t=k[1];y[Qa(K)]=t}var i=y.isLeaf,v=y.checkable,C=y.selectable,A=y.disabled,L=y.disableCheckbox,q={isLeaf:i||i===""||void 0,checkable:v||v===""||void 0,selectable:C||C===""||void 0,disabled:A||A===""||void 0,disableCheckbox:L||L===""||void 0},J=E(E({},y),q),R=y.title,F=R===void 0?(s=f.title)===null||s===void 0?void 0:s.call(f,J):R,Z=y.icon,P=Z===void 0?(d=f.icon)===null||d===void 0?void 0:d.call(f,J):Z,T=y.switcherIcon,B=T===void 0?(l=f.switcherIcon)===null||l===void 0?void 0:l.call(f,J):T,H=Fe(y,Ct),re=(u=f.default)===null||u===void 0?void 0:u.call(f),Y=E(E({},H),{},{title:F,icon:P,switcherIcon:B,key:h,isLeaf:i},q),ie=e(re);return ie.length&&(Y.children=ie),Y})}return e(n)}function St(n,e,a){var r=tn(a),o=r._title,s=r.key,d=r.children,l=new Set(e===!0?[]:e),u=[];function f(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h.map(function(b,x){for(var k=Na(y?y.pos:"0",x),K=je(b[s],k),t,i=0;i<o.length;i+=1){var v=o[i];if(b[v]!==void 0){t=b[v];break}}var C=E(E({},nn(b,[].concat(Se(o),[s,d]))),{},{title:t,key:K,parent:y,pos:k,children:null,data:b,isStart:[].concat(Se(y?y.isStart:[]),[x===0]),isEnd:[].concat(Se(y?y.isEnd:[]),[x===h.length-1])});return u.push(C),e===!0||l.has(K)?C.children=f(b[d]||[],C):C.children=[],C})}return f(n),u}function Nt(n,e,a){var r={};$e(a)==="object"?r=a:r={externalGetKey:a},r=r||{};var o=r,s=o.childrenPropName,d=o.externalGetKey,l=o.fieldNames,u=tn(l),f=u.key,h=u.children,y=s||h,b;d?typeof d=="string"?b=function(K){return K[d]}:typeof d=="function"&&(b=function(K){return d(K)}):b=function(K,t){return je(K[f],t)};function x(k,K,t,i){var v=k?k[y]:n,C=k?Na(t.pos,K):"0",A=k?[].concat(Se(i),[k]):[];if(k){var L=b(k,C),q={node:k,index:K,pos:C,key:L,parentPos:t.node?t.pos:null,level:t.level+1,nodes:A};e(q)}v&&v.forEach(function(J,R){x(J,R,{node:k,pos:C,level:t?t.level+1:-1},A)})}x(null)}function Da(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.initWrapper,r=e.processEntity,o=e.onProcessFinished,s=e.externalGetKey,d=e.childrenPropName,l=e.fieldNames,u=arguments.length>2?arguments[2]:void 0,f=s||u,h={},y={},b={posEntities:h,keyEntities:y};return a&&(b=a(b)||b),Nt(n,function(x){var k=x.node,K=x.index,t=x.pos,i=x.key,v=x.parentPos,C=x.level,A=x.nodes,L={node:k,nodes:A,index:K,key:i,pos:t,level:C},q=je(i,t);h[t]=L,y[q]=L,L.parent=h[v],L.parent&&(L.parent.children=L.parent.children||[],L.parent.children.push(L)),r&&r(L,b)},{externalGetKey:f,childrenPropName:d,fieldNames:l}),o&&o(b),b}function Ln(n,e){var a=e.expandedKeysSet,r=e.selectedKeysSet,o=e.loadedKeysSet,s=e.loadingKeysSet,d=e.checkedKeysSet,l=e.halfCheckedKeysSet,u=e.dragOverNodeKey,f=e.dropPosition,h=e.keyEntities,y=h[n],b={eventKey:n,expanded:a.has(n),selected:r.has(n),loaded:o.has(n),loading:s.has(n),checked:d.has(n),halfChecked:l.has(n),pos:String(y?y.pos:""),parent:y.parent,dragOver:u===n&&f===0,dragOverGapTop:u===n&&f===-1,dragOverGapBottom:u===n&&f===1};return b}function In(n){var e=n.data,a=n.expanded,r=n.selected,o=n.checked,s=n.loaded,d=n.loading,l=n.halfChecked,u=n.dragOver,f=n.dragOverGapTop,h=n.dragOverGapBottom,y=n.pos,b=n.active,x=n.eventKey,k=E(E({dataRef:e},e),{},{expanded:a,selected:r,checked:o,loaded:s,loading:d,halfChecked:l,dragOver:u,dragOverGapTop:f,dragOverGapBottom:h,pos:y,active:b,eventKey:x,key:x});return"props"in k||Object.defineProperty(k,"props",{get:function(){return n}}),k}function Ea(n,e){var a=new Set;return n.forEach(function(r){e.has(r)||a.add(r)}),a}function Dt(n){var e=n||{},a=e.disabled,r=e.disableCheckbox,o=e.checkable;return!!(a||r)||o===!1}function Et(n,e,a,r){for(var o=new Set(n),s=new Set,d=0;d<=a;d+=1){var l=e.get(d)||new Set;l.forEach(function(y){var b=y.key,x=y.node,k=y.children,K=k===void 0?[]:k;o.has(b)&&!r(x)&&K.filter(function(t){return!r(t.node)}).forEach(function(t){o.add(t.key)})})}for(var u=new Set,f=a;f>=0;f-=1){var h=e.get(f)||new Set;h.forEach(function(y){var b=y.parent,x=y.node;if(!(r(x)||!y.parent||u.has(y.parent.key))){if(r(y.parent.node)){u.add(b.key);return}var k=!0,K=!1;(b.children||[]).filter(function(t){return!r(t.node)}).forEach(function(t){var i=t.key,v=o.has(i);k&&!v&&(k=!1),!K&&(v||s.has(i))&&(K=!0)}),k&&o.add(b.key),K&&s.add(b.key),u.add(b.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Ea(s,o))}}function Ot(n,e,a,r,o){for(var s=new Set(n),d=new Set(e),l=0;l<=r;l+=1){var u=a.get(l)||new Set;u.forEach(function(b){var x=b.key,k=b.node,K=b.children,t=K===void 0?[]:K;!s.has(x)&&!d.has(x)&&!o(k)&&t.filter(function(i){return!o(i.node)}).forEach(function(i){s.delete(i.key)})})}d=new Set;for(var f=new Set,h=r;h>=0;h-=1){var y=a.get(h)||new Set;y.forEach(function(b){var x=b.parent,k=b.node;if(!(o(k)||!b.parent||f.has(b.parent.key))){if(o(b.parent.node)){f.add(x.key);return}var K=!0,t=!1;(x.children||[]).filter(function(i){return!o(i.node)}).forEach(function(i){var v=i.key,C=s.has(v);K&&!C&&(K=!1),!t&&(C||d.has(v))&&(t=!0)}),K||s.delete(x.key),t&&d.add(x.key),f.add(x.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Ea(d,s))}}function Nn(n,e,a,r,o,s){var d;s?d=s:d=Dt;var l=new Set(n.filter(function(f){var h=!!a[f];return h})),u;return e===!0?u=Et(l,o,r,d):u=Ot(l,e.halfCheckedKeys,o,r,d),u}function wt(n){var e=W(0),a=le();return Ce(function(){var r=new Map,o=0,s=n.value||{};for(var d in s)if(Object.prototype.hasOwnProperty.call(s,d)){var l=s[d],u=l.level,f=r.get(u);f||(f=new Set,r.set(u,f)),f.add(l),o=Math.max(o,u)}e.value=o,a.value=r}),{maxLevel:e,levelEntities:a}}var Pt=["motion","motionNodes","motionType","active","eventKey"];const Tt=ke({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:E(E({},Ca),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,a){var r=a.attrs,o=a.slots,s=W(!0),d=_n(),l=W(!1),u=M(function(){return e.motion?e.motion:Ga()}),f=function(y,b){if(b==="appear"){var x,k;(x=u.value)===null||x===void 0||(k=x.onAfterEnter)===null||k===void 0||k.call(x,y)}else if(b==="leave"){var K,t;(K=u.value)===null||K===void 0||(t=K.onAfterLeave)===null||t===void 0||t.call(K,y)}l.value||e.onMotionEnd(),l.value=!0};return me(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&s.value&&an(function(){s.value=!1})},{immediate:!0,flush:"post"}),pa(function(){e.motionNodes&&e.onMotionStart()}),et(function(){e.motionNodes&&f()}),function(){e.motion;var h=e.motionNodes,y=e.motionType,b=e.active,x=e.eventKey,k=Fe(e,Pt);return h?w(tt,E(E({},u.value),{},{appear:y==="show",onAfterAppear:function(t){return f(t,"appear")},onAfterLeave:function(t){return f(t,"leave")}}),{default:function(){return[nt(w("div",{class:"".concat(d.value.prefixCls,"-treenode-motion")},[h.map(function(t){var i=we({},(ha(t.data),t.data)),v=t.title,C=t.key,A=t.isStart,L=t.isEnd;return delete i.children,w(wn,E(E({},i),{},{title:v,active:b,data:t.data,key:C,eventKey:C,isStart:A,isEnd:L}),o)})]),[[at,s.value]])]}}):w(wn,E(E({domRef:W,class:r.class,style:r.style},k),{},{active:b,eventKey:x}),o)}}});function Lt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=n.length,r=e.length;if(Math.abs(a-r)!==1)return{add:!1,key:null};function o(s,d){var l=new Map;s.forEach(function(f){l.set(f,!0)});var u=d.filter(function(f){return!l.has(f)});return u.length===1?u[0]:null}return a<r?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}function ea(n,e,a){var r=n.findIndex(function(l){return l.key===a}),o=n[r+1],s=e.findIndex(function(l){return l.key===a});if(o){var d=e.findIndex(function(l){return l.key===o.key});return e.slice(s+1,d)}return e.slice(s+1)}var It=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],na={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},At=function(){},Le="RC_TREE_MOTION_".concat(Math.random()),An={key:Le},Oa={key:Le,level:0,index:0,pos:"0",node:An,nodes:[An]},aa={parent:null,children:[],pos:Oa.pos,data:An,title:null,key:Le,isStart:[],isEnd:[]};function ta(n,e,a,r){return e===!1||!a?n:n.slice(0,Math.ceil(a/r)+1)}function ra(n){var e=n.key,a=n.pos;return je(e,a)}function Ft(n){for(var e=String(n.key),a=n;a.parent;)a=a.parent,e="".concat(a.key," > ").concat(e);return e}const Mt=ke({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:gt,setup:function(e,a){var r=a.expose,o=a.attrs,s=W(),d=W(),l=xa(),u=l.expandedKeys,f=l.flattenNodes;r({scrollTo:function(v){s.value.scrollTo(v)},getIndentWidth:function(){return d.value.offsetWidth}});var h=le(f.value),y=le([]),b=W(null);function x(){h.value=f.value,y.value=[],b.value=null,e.onListChangeEnd()}var k=_n();me([function(){return u.value.slice()},f],function(i,v){var C=Re(i,2),A=C[0],L=C[1],q=Re(v,2),J=q[0],R=q[1],F=Lt(J,A);if(F.key!==null){var Z=e.virtual,P=e.height,T=e.itemHeight;if(F.add){var B=R.findIndex(function(Q){var ce=Q.key;return ce===F.key}),H=ta(ea(R,L,F.key),Z,P,T),re=R.slice();re.splice(B+1,0,aa),h.value=re,y.value=H,b.value="show"}else{var Y=L.findIndex(function(Q){var ce=Q.key;return ce===F.key}),ie=ta(ea(L,R,F.key),Z,P,T),U=L.slice();U.splice(Y+1,0,aa),h.value=U,y.value=ie,b.value="hide"}}else R!==L&&(h.value=L)}),me(function(){return k.value.dragging},function(i){i||x()});var K=M(function(){return e.motion===void 0?h.value:f.value}),t=function(){e.onActiveChange(null)};return function(){var i=E(E({},e),o),v=i.prefixCls;i.selectable,i.checkable;var C=i.disabled,A=i.motion,L=i.height,q=i.itemHeight,J=i.virtual,R=i.focusable,F=i.activeItem,Z=i.focused,P=i.tabindex,T=i.onKeydown,B=i.onFocus,H=i.onBlur,re=i.onListChangeStart;i.onListChangeEnd;var Y=Fe(i,It);return w(ma,null,[Z&&F&&w("span",{style:na,"aria-live":"assertive"},[Ft(F)]),w("div",null,[w("input",{style:na,disabled:R===!1||C,tabindex:R!==!1?P:null,onKeydown:T,onFocus:B,onBlur:H,value:"",onChange:At,"aria-label":"for screen reader"},null)]),w("div",{class:"".concat(v,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[w("div",{class:"".concat(v,"-indent")},[w("div",{ref:d,class:"".concat(v,"-indent-unit")},null)])]),w(za,E(E({},nn(Y,["onActiveChange"])),{},{data:K.value,itemKey:ra,height:L,fullHeight:!1,virtual:J,itemHeight:q,prefixCls:"".concat(v,"-list"),ref:s,onVisibleChange:function(U,Q){var ce=new Set(U),ee=Q.filter(function(fe){return!ce.has(fe)});ee.some(function(fe){return ra(fe)===Le})&&x()}}),{default:function(U){var Q=U.pos,ce=we({},(ha(U.data),U.data)),ee=U.title,fe=U.key,de=U.isStart,ye=U.isEnd,Ne=je(fe,Q);return delete ce.key,delete ce.children,w(Tt,E(E({},ce),{},{eventKey:Ne,title:ee,active:!!F&&fe===F.key,data:U.data,isStart:de,isEnd:ye,motion:A,motionNodes:fe===Le?y.value:null,motionType:b.value,onMotionStart:re,onMotionEnd:x,onMousemove:t}),null)}})])}}});function Bt(n){var e=n.dropPosition,a=n.dropLevelOffset,r=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:o.top=0,o.left="".concat(-a*r,"px");break;case 1:o.bottom=0,o.left="".concat(-a*r,"px");break;case 0:o.bottom=0,o.left="".concat(r);break}return w("div",{style:o},null)}var _t=10;const $t=ke({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:Fn(Sa(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Bt,allowDrop:function(){return!0}}),setup:function(e,a){var r=a.attrs,o=a.slots,s=a.expose,d=W(!1),l={},u=W(),f=le([]),h=le([]),y=le([]),b=le([]),x=le([]),k=le([]),K={},t=ga({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),i=le([]);me([function(){return e.treeData},function(){return e.children}],function(){i.value=e.treeData!==void 0?mn(e.treeData).slice():Tn(mn(e.children))},{immediate:!0,deep:!0});var v=le({}),C=W(!1),A=W(null),L=W(!1),q=M(function(){return tn(e.fieldNames)}),J=W(),R=null,F=null,Z=null,P=M(function(){return{expandedKeysSet:T.value,selectedKeysSet:B.value,loadedKeysSet:H.value,loadingKeysSet:re.value,checkedKeysSet:Y.value,halfCheckedKeysSet:ie.value,dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:v.value}}),T=M(function(){return new Set(k.value)}),B=M(function(){return new Set(f.value)}),H=M(function(){return new Set(b.value)}),re=M(function(){return new Set(x.value)}),Y=M(function(){return new Set(h.value)}),ie=M(function(){return new Set(y.value)});Ce(function(){if(i.value){var N=Da(i.value,{fieldNames:q.value});v.value=E(z({},Le,Oa),N.keyEntities)}});var U=!1;me([function(){return e.expandedKeys},function(){return e.autoExpandParent},v],function(N,g){var p=Re(N,2);p[0];var m=p[1],j=Re(g,2);j[0];var _=j[1],I=k.value;if(e.expandedKeys!==void 0||U&&m!==_)I=e.autoExpandParent||!U&&e.defaultExpandParent?Pn(e.expandedKeys,v.value):e.expandedKeys;else if(!U&&e.defaultExpandAll){var O=E({},v.value);delete O[Le],I=Object.keys(O).map(function($){return O[$].key})}else!U&&e.defaultExpandedKeys&&(I=e.autoExpandParent||e.defaultExpandParent?Pn(e.defaultExpandedKeys,v.value):e.defaultExpandedKeys);I&&(k.value=I),U=!0},{immediate:!0});var Q=le([]);Ce(function(){Q.value=St(i.value,k.value,q.value)}),Ce(function(){e.selectable&&(e.selectedKeys!==void 0?f.value=Qn(e.selectedKeys,e):!U&&e.defaultSelectedKeys&&(f.value=Qn(e.defaultSelectedKeys,e)))});var ce=wt(v),ee=ce.maxLevel,fe=ce.levelEntities;Ce(function(){if(e.checkable){var N;if(e.checkedKeys!==void 0?N=Sn(e.checkedKeys)||{}:!U&&e.defaultCheckedKeys?N=Sn(e.defaultCheckedKeys)||{}:i.value&&(N=Sn(e.checkedKeys)||{checkedKeys:h.value,halfCheckedKeys:y.value}),N){var g=N,p=g.checkedKeys,m=p===void 0?[]:p,j=g.halfCheckedKeys,_=j===void 0?[]:j;if(!e.checkStrictly){var I=Nn(m,!0,v.value,ee.value,fe.value);m=I.checkedKeys,_=I.halfCheckedKeys}h.value=m,y.value=_}}}),Ce(function(){e.loadedKeys&&(b.value=e.loadedKeys)});var de=function(){we(t,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ye=function(g){J.value.scrollTo(g)};me(function(){return e.activeKey},function(){e.activeKey!==void 0&&(A.value=e.activeKey)},{immediate:!0}),me(A,function(N){an(function(){N!==null&&ye({key:N})})},{immediate:!0,flush:"post"});var Ne=function(g){e.expandedKeys===void 0&&(k.value=g)},He=function(){t.draggingNodeKey!==null&&we(t,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),R=null,Z=null},Be=function(g,p){var m=e.onDragend;t.dragOverNodeKey=null,He(),m==null||m({event:g,node:p.eventData}),F=null},Ve=function N(g){Be(g,null),window.removeEventListener("dragend",N)},rn=function(g,p){var m=e.onDragstart,j=p.eventKey,_=p.eventData;F=p,R={x:g.clientX,y:g.clientY};var I=Oe(k.value,j);t.draggingNodeKey=j,t.dragChildrenKeys=Kt(j,v.value),u.value=J.value.getIndentWidth(),Ne(I),window.addEventListener("dragend",Ve),m&&m({event:g,node:_})},on=function(g,p){var m=e.onDragenter,j=e.onExpand,_=e.allowDrop,I=e.direction,O=p.pos,$=p.eventKey;if(Z!==$&&(Z=$),!F){de();return}var G=Zn(g,F,p,u.value,R,_,Q.value,v.value,T.value,I),X=G.dropPosition,ne=G.dropLevelOffset,ae=G.dropTargetKey,oe=G.dropContainerKey,ue=G.dropTargetPos,ve=G.dropAllowed,se=G.dragOverNodeKey;if(t.dragChildrenKeys.indexOf(ae)!==-1||!ve){de();return}if(l||(l={}),Object.keys(l).forEach(function(te){clearTimeout(l[te])}),F.eventKey!==p.eventKey&&(l[O]=window.setTimeout(function(){if(t.draggingNodeKey!==null){var te=k.value.slice(),pe=v.value[p.eventKey];pe&&(pe.children||[]).length&&(te=Te(k.value,p.eventKey)),Ne(te),j&&j(te,{node:p.eventData,expanded:!0,nativeEvent:g})}},800)),F.eventKey===ae&&ne===0){de();return}we(t,{dragOverNodeKey:se,dropPosition:X,dropLevelOffset:ne,dropTargetKey:ae,dropContainerKey:oe,dropTargetPos:ue,dropAllowed:ve}),m&&m({event:g,node:p.eventData,expandedKeys:k.value})},ln=function(g,p){var m=e.onDragover,j=e.allowDrop,_=e.direction;if(F){var I=Zn(g,F,p,u.value,R,j,Q.value,v.value,T.value,_),O=I.dropPosition,$=I.dropLevelOffset,G=I.dropTargetKey,X=I.dropContainerKey,ne=I.dropAllowed,ae=I.dropTargetPos,oe=I.dragOverNodeKey;t.dragChildrenKeys.indexOf(G)!==-1||!ne||(F.eventKey===G&&$===0?t.dropPosition===null&&t.dropLevelOffset===null&&t.dropTargetKey===null&&t.dropContainerKey===null&&t.dropTargetPos===null&&t.dropAllowed===!1&&t.dragOverNodeKey===null||de():O===t.dropPosition&&$===t.dropLevelOffset&&G===t.dropTargetKey&&X===t.dropContainerKey&&ae===t.dropTargetPos&&ne===t.dropAllowed&&oe===t.dragOverNodeKey||we(t,{dropPosition:O,dropLevelOffset:$,dropTargetKey:G,dropContainerKey:X,dropTargetPos:ae,dropAllowed:ne,dragOverNodeKey:oe}),m&&m({event:g,node:p.eventData}))}},dn=function(g,p){Z===p.eventKey&&!g.currentTarget.contains(g.relatedTarget)&&(de(),Z=null);var m=e.onDragleave;m&&m({event:g,node:p.eventData})},un=function(g,p){var m,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=t.dragChildrenKeys,I=t.dropPosition,O=t.dropTargetKey,$=t.dropTargetPos,G=t.dropAllowed;if(G){var X=e.onDrop;if(t.dragOverNodeKey=null,He(),O!==null){var ne=E(E({},Ln(O,mn(P.value))),{},{active:((m=D.value)===null||m===void 0?void 0:m.key)===O,data:v.value[O].node});_.indexOf(O);var ae=$n($),oe={event:g,node:In(ne),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(_),dropToGap:I!==0,dropPosition:I+Number(ae[ae.length-1])};j||X==null||X(oe),F=null}}},cn=function(g,p){var m=e.onClick;m&&m(g,p)},sn=function(g,p){var m=e.onDblclick;m&&m(g,p)},Ge=function(g,p){var m=f.value,j=e.onSelect,_=e.multiple,I=p.selected,O=p[q.value.key],$=!I;$?_?m=Te(m,O):m=[O]:m=Oe(m,O);var G=v.value,X=m.map(function(ne){var ae=G[ne];return ae?ae.node:null}).filter(function(ne){return ne});e.selectedKeys===void 0&&(f.value=m),j&&j(m,{event:"select",selected:$,node:p,selectedNodes:X,nativeEvent:g})},ze=function(g,p,m){var j=e.checkStrictly,_=e.onCheck,I=p[q.value.key],O,$={event:"check",node:p,checked:m,nativeEvent:g},G=v.value;if(j){var X=m?Te(h.value,I):Oe(h.value,I),ne=Oe(y.value,I);O={checked:X,halfChecked:ne},$.checkedNodes=X.map(function(te){return G[te]}).filter(function(te){return te}).map(function(te){return te.node}),e.checkedKeys===void 0&&(h.value=X)}else{var ae=Nn([].concat(Se(h.value),[I]),!0,G,ee.value,fe.value),oe=ae.checkedKeys,ue=ae.halfCheckedKeys;if(!m){var ve=new Set(oe);ve.delete(I);var se=Nn(Array.from(ve),{checked:!1,halfCheckedKeys:ue},G,ee.value,fe.value);oe=se.checkedKeys,ue=se.halfCheckedKeys}O=oe,$.checkedNodes=[],$.checkedNodesPositions=[],$.halfCheckedKeys=ue,oe.forEach(function(te){var pe=G[te];if(pe){var be=pe.node,Ee=pe.pos;$.checkedNodes.push(be),$.checkedNodesPositions.push({node:be,pos:Ee})}}),e.checkedKeys===void 0&&(h.value=oe,y.value=ue)}_&&_(O,$)},qe=function(g){var p=g[q.value.key],m=new Promise(function(j,_){var I=e.loadData,O=e.onLoad;if(!I||H.value.has(p)||re.value.has(p))return null;var $=I(g);$.then(function(){var G=Te(b.value,p),X=Oe(x.value,p);O&&O(G,{event:"load",node:g}),e.loadedKeys===void 0&&(b.value=G),x.value=X,j()}).catch(function(G){var X=Oe(x.value,p);if(x.value=X,K[p]=(K[p]||0)+1,K[p]>=_t){var ne=Te(b.value,p);e.loadedKeys===void 0&&(b.value=ne),j()}_(G)}),x.value=Te(x.value,p)});return m.catch(function(){}),m},vn=function(g,p){var m=e.onMouseenter;m&&m({event:g,node:p})},fn=function(g,p){var m=e.onMouseleave;m&&m({event:g,node:p})},yn=function(g,p){var m=e.onRightClick;m&&(g.preventDefault(),m({event:g,node:p}))},Ue=function(g){var p=e.onFocus;C.value=!0,p&&p(g)},hn=function(g){var p=e.onBlur;C.value=!1,De(null),p&&p(g)},Ie=function(g,p){var m=k.value,j=e.onExpand,_=e.loadData,I=p.expanded,O=p[q.value.key];if(!L.value){m.indexOf(O);var $=!I;if($?m=Te(m,O):m=Oe(m,O),Ne(m),j&&j(m,{node:p,expanded:$,nativeEvent:g}),$&&_){var G=qe(p);G&&G.then(function(){}).catch(function(X){var ne=Oe(k.value,O);Ne(ne),Promise.reject(X)})}}},We=function(){L.value=!0},gn=function(){setTimeout(function(){L.value=!1})},De=function(g){var p=e.onActiveChange;A.value!==g&&(e.activeKey!==void 0&&(A.value=g),g!==null&&ye({key:g}),p&&p(g))},D=M(function(){return A.value===null?null:Q.value.find(function(N){var g=N.key;return g===A.value})||null}),c=function(g){var p=Q.value.findIndex(function(_){var I=_.key;return I===A.value});p===-1&&g<0&&(p=Q.value.length),p=(p+g+Q.value.length)%Q.value.length;var m=Q.value[p];if(m){var j=m.key;De(j)}else De(null)},S=M(function(){return In(E(E({},Ln(A.value,P.value)),{},{data:D.value.data,active:!0}))}),V=function(g){var p=e.onKeydown,m=e.checkable,j=e.selectable;switch(g.which){case Ae.UP:{c(-1),g.preventDefault();break}case Ae.DOWN:{c(1),g.preventDefault();break}}var _=D.value;if(_&&_.data){var I=_.data.isLeaf===!1||!!(_.data.children||[]).length,O=S.value;switch(g.which){case Ae.LEFT:{I&&T.value.has(A.value)?Ie({},O):_.parent&&De(_.parent.key),g.preventDefault();break}case Ae.RIGHT:{I&&!T.value.has(A.value)?Ie({},O):_.children&&_.children.length&&De(_.children[0].key),g.preventDefault();break}case Ae.ENTER:case Ae.SPACE:{m&&!O.disabled&&O.checkable!==!1&&!O.disableCheckbox?ze({},O,!Y.value.has(A.value)):!m&&j&&!O.disabled&&O.selectable!==!1&&Ge({},O);break}}}p&&p(g)};return s({onNodeExpand:Ie,scrollTo:ye,onKeydown:V,selectedKeys:M(function(){return f.value}),checkedKeys:M(function(){return h.value}),halfCheckedKeys:M(function(){return y.value}),loadedKeys:M(function(){return b.value}),loadingKeys:M(function(){return x.value}),expandedKeys:M(function(){return k.value})}),rt(function(){window.removeEventListener("dragend",Ve),d.value=!0}),ft({expandedKeys:k,selectedKeys:f,loadedKeys:b,loadingKeys:x,checkedKeys:h,halfCheckedKeys:y,expandedKeysSet:T,selectedKeysSet:B,loadedKeysSet:H,loadingKeysSet:re,checkedKeysSet:Y,halfCheckedKeysSet:ie,flattenNodes:Q}),function(){var N,g=t.draggingNodeKey,p=t.dropLevelOffset,m=t.dropContainerKey,j=t.dropTargetKey,_=t.dropPosition,I=t.dragOverNodeKey,O=e.prefixCls,$=e.showLine,G=e.focusable,X=e.tabindex,ne=X===void 0?0:X,ae=e.selectable,oe=e.showIcon,ue=e.icon,ve=ue===void 0?o.icon:ue,se=e.switcherIcon,te=e.draggable,pe=e.checkable,be=e.checkStrictly,Ee=e.disabled,Ye=e.motion,pn=e.loadData,Ta=e.filterTreeNode,La=e.height,Ia=e.itemHeight,Aa=e.virtual,Fa=e.dropIndicatorRender,Ma=e.onContextmenu,Ba=e.onScroll,_a=e.direction,$a=r.class,Ra=r.style,ja=ya(E(E({},e),r),{aria:!0,data:!0}),Xe;return te&&($e(te)==="object"?Xe=te:typeof te=="function"?Xe={nodeDraggable:te}:Xe={}),w(vt,{value:{prefixCls:O,selectable:ae,showIcon:oe,icon:ve,switcherIcon:se,draggable:Xe,draggingNodeKey:g,checkable:pe,customCheckable:o.checkable,checkStrictly:be,disabled:Ee,keyEntities:v.value,dropLevelOffset:p,dropContainerKey:m,dropTargetKey:j,dropPosition:_,dragOverNodeKey:I,dragging:g!==null,indent:u.value,direction:_a,dropIndicatorRender:Fa,loadData:pn,filterTreeNode:Ta,onNodeClick:cn,onNodeDoubleClick:sn,onNodeExpand:Ie,onNodeSelect:Ge,onNodeCheck:ze,onNodeLoad:qe,onNodeMouseEnter:vn,onNodeMouseLeave:fn,onNodeContextMenu:yn,onNodeDragStart:rn,onNodeDragEnter:on,onNodeDragOver:ln,onNodeDragLeave:dn,onNodeDragEnd:Be,onNodeDrop:un,slots:o}},{default:function(){return[w("div",{role:"tree",class:he(O,$a,(N={},z(N,"".concat(O,"-show-line"),$),z(N,"".concat(O,"-focused"),C.value),z(N,"".concat(O,"-active-focused"),A.value!==null),N))},[w(Mt,E({ref:J,prefixCls:O,style:Ra,disabled:Ee,selectable:ae,checkable:!!pe,motion:Ye,height:La,itemHeight:Ia,virtual:Aa,focusable:G,focused:C.value,tabindex:ne,activeItem:D.value,onFocus:Ue,onBlur:hn,onKeydown:V,onActiveChange:De,onListChangeStart:We,onListChangeEnd:gn,onContextmenu:Ma,onScroll:Ba},ja),null)])]}})}}});var Rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const jt=Rt;function oa(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),r.forEach(function(o){Ht(n,o,a[o])})}return n}function Ht(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Rn=function(e,a){var r=oa({},e,a.attrs);return w(Me,oa({},r,{icon:jt}),null)};Rn.displayName="FileOutlined";Rn.inheritAttrs=!1;const wa=Rn;var Vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Gt=Vt;function la(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),r.forEach(function(o){zt(n,o,a[o])})}return n}function zt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var jn=function(e,a){var r=la({},e,a.attrs);return w(Me,la({},r,{icon:Gt}),null)};jn.displayName="MinusSquareOutlined";jn.inheritAttrs=!1;const qt=jn;var Ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Wt=Ut;function ia(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),r.forEach(function(o){Yt(n,o,a[o])})}return n}function Yt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Hn=function(e,a){var r=ia({},e,a.attrs);return w(Me,ia({},r,{icon:Wt}),null)};Hn.displayName="PlusSquareOutlined";Hn.inheritAttrs=!1;const Xt=Hn;var Jt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Zt=Jt;function da(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),r.forEach(function(o){Qt(n,o,a[o])})}return n}function Qt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Vn=function(e,a){var r=da({},e,a.attrs);return w(Me,da({},r,{icon:Zt}),null)};Vn.displayName="CaretDownFilled";Vn.inheritAttrs=!1;const er=Vn;function nr(n,e,a,r){var o=r.isLeaf,s=r.expanded,d=r.loading,l=e;if(d)return w(qa,{class:"".concat(n,"-switcher-loading-icon")},null);var u;a&&$e(a)==="object"&&(u=a.showLeafIcon);var f=null,h="".concat(n,"-switcher-icon");return o?(a&&($e(a)==="object"&&!u?f=w("span",{class:"".concat(n,"-switcher-leaf-line")},null):f=w(wa,{class:"".concat(n,"-switcher-line-icon")},null)),f):(f=w(er,{class:h},null),a&&(f=s?w(qt,{class:"".concat(n,"-switcher-line-icon")},null):w(Xt,{class:"".concat(n,"-switcher-line-icon")},null)),typeof e=="function"?l=e(E(E({},r),{},{defaultIcon:f,switcherCls:h})):Ua(l)&&(l=ot(l,{class:h})),l||f)}var ua=4;function ar(n){var e,a=n.dropPosition,r=n.dropLevelOffset,o=n.prefixCls,s=n.indent,d=n.direction,l=d===void 0?"ltr":d,u=l==="ltr"?"left":"right",f=l==="ltr"?"right":"left",h=(e={},z(e,u,"".concat(-r*s+ua,"px")),z(e,f,0),e);switch(a){case-1:h.top="".concat(-3,"px");break;case 1:h.bottom="".concat(-3,"px");break;default:h.bottom="".concat(-3,"px"),h[u]="".concat(s+ua,"px");break}return w("div",{style:h,class:"".concat(o,"-drop-indicator")},null)}var Pa=function(){var e=Sa();return E(E({},e),{},{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:ge.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:ge.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})};const Ze=ke({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:Fn(Pa(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,a){var r=a.attrs,o=a.expose,s=a.emit,d=a.slots;fa(!(e.treeData===void 0&&d.default));var l=en("tree",e),u=l.prefixCls,f=l.direction,h=l.virtual,y=W(),b=function(i){var v;(v=y.value)===null||v===void 0||v.scrollTo(i)};o({treeRef:y,onNodeExpand:function(){for(var i,v=arguments.length,C=new Array(v),A=0;A<v;A++)C[A]=arguments[A];(i=y.value)===null||i===void 0||i.onNodeExpand.apply(i,C)},scrollTo:b,selectedKeys:M(function(){var t;return(t=y.value)===null||t===void 0?void 0:t.selectedKeys}),checkedKeys:M(function(){var t;return(t=y.value)===null||t===void 0?void 0:t.checkedKeys}),halfCheckedKeys:M(function(){var t;return(t=y.value)===null||t===void 0?void 0:t.halfCheckedKeys}),loadedKeys:M(function(){var t;return(t=y.value)===null||t===void 0?void 0:t.loadedKeys}),loadingKeys:M(function(){var t;return(t=y.value)===null||t===void 0?void 0:t.loadingKeys}),expandedKeys:M(function(){var t;return(t=y.value)===null||t===void 0?void 0:t.expandedKeys})}),Ce(function(){Wa(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});var x=function(i,v){s("update:checkedKeys",i),s("check",i,v)},k=function(i,v){s("update:expandedKeys",i),s("expand",i,v)},K=function(i,v){s("update:selectedKeys",i),s("select",i,v)};return function(){var t,i=e.showIcon,v=e.showLine,C=e.switcherIcon,A=C===void 0?d.switcherIcon:C,L=e.icon,q=L===void 0?d.icon:L,J=e.blockNode,R=e.checkable,F=e.selectable,Z=e.fieldNames,P=Z===void 0?e.replaceFields:Z,T=e.motion,B=T===void 0?e.openAnimation:T,H=e.itemHeight,re=H===void 0?28:H,Y=e.onDoubleclick,ie=e.onDblclick,U=E(E(E({},r),nn(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{},{showLine:!!v,dropIndicatorRender:ar,fieldNames:P,icon:q,itemHeight:re}),Q=d.default?Qe(d.default()):void 0;return w($t,E(E({},U),{},{virtual:h.value,motion:B,ref:y,prefixCls:u.value,class:he((t={},z(t,"".concat(u.value,"-icon-hide"),!i),z(t,"".concat(u.value,"-block-node"),J),z(t,"".concat(u.value,"-unselectable"),!F),z(t,"".concat(u.value,"-rtl"),f.value==="rtl"),t),r.class),direction:f.value,checkable:R,selectable:F,switcherIcon:function(ee){return nr(u.value,A,v,ee)},onCheck:x,onExpand:k,onSelect:K,onDblclick:ie||Y,children:Q}),E(E({},d),{},{checkable:function(){return w("span",{class:"".concat(u.value,"-checkbox-inner")},null)}}))}}});var tr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const rr=tr;function ca(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),r.forEach(function(o){or(n,o,a[o])})}return n}function or(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Gn=function(e,a){var r=ca({},e,a.attrs);return w(Me,ca({},r,{icon:rr}),null)};Gn.displayName="FolderOpenOutlined";Gn.inheritAttrs=!1;const lr=Gn;var ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const dr=ir;function sa(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),r.forEach(function(o){ur(n,o,a[o])})}return n}function ur(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var zn=function(e,a){var r=sa({},e,a.attrs);return w(Me,sa({},r,{icon:dr}),null)};zn.displayName="FolderOutlined";zn.inheritAttrs=!1;const cr=zn;var xe;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(xe||(xe={}));function qn(n,e,a){function r(o){var s=o[e.key],d=o[e.children];a(s,o)!==!1&&qn(d||[],e,a)}n.forEach(r)}function sr(n){var e=n.treeData,a=n.expandedKeys,r=n.startKey,o=n.endKey,s=n.fieldNames,d=s===void 0?{title:"title",key:"key",children:"children"}:s,l=[],u=xe.None;if(r&&r===o)return[r];if(!r||!o)return[];function f(h){return h===r||h===o}return qn(e,d,function(h){if(u===xe.End)return!1;if(f(h)){if(l.push(h),u===xe.None)u=xe.Start;else if(u===xe.Start)return u=xe.End,!1}else u===xe.Start&&l.push(h);return a.indexOf(h)!==-1}),l}function Dn(n,e,a){var r=Se(e),o=[];return qn(n,a,function(s,d){var l=r.indexOf(s);return l!==-1&&(o.push(d),r.splice(l,1)),!!r.length}),o}var vr=["icon","blockNode"],fr=function(){return E(E({},Pa()),{},{expandAction:{type:[Boolean,String]}})};function yr(n){var e=n.isLeaf,a=n.expanded;return e?w(wa,null,null):a?w(lr,null,null):w(cr,null,null)}const En=ke({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:Fn(fr(),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,a){var r,o=a.attrs,s=a.slots,d=a.emit,l=a.expose,u=W(e.treeData||Tn(Qe((r=s.default)===null||r===void 0?void 0:r.call(s))));me(function(){return e.treeData},function(){u.value=e.treeData}),ba(function(){an(function(){if(e.treeData===void 0&&s.default){var P;u.value=Tn(Qe((P=s.default)===null||P===void 0?void 0:P.call(s)))}})});var f=W(),h=W(),y=M(function(){return tn(e.fieldNames)}),b=W(),x=function(T){var B;(B=b.value)===null||B===void 0||B.scrollTo(T)};l({scrollTo:x,selectedKeys:M(function(){var P;return(P=b.value)===null||P===void 0?void 0:P.selectedKeys}),checkedKeys:M(function(){var P;return(P=b.value)===null||P===void 0?void 0:P.checkedKeys}),halfCheckedKeys:M(function(){var P;return(P=b.value)===null||P===void 0?void 0:P.halfCheckedKeys}),loadedKeys:M(function(){var P;return(P=b.value)===null||P===void 0?void 0:P.loadedKeys}),loadingKeys:M(function(){var P;return(P=b.value)===null||P===void 0?void 0:P.loadingKeys}),expandedKeys:M(function(){var P;return(P=b.value)===null||P===void 0?void 0:P.expandedKeys})});var k=function(){var T=Da(u.value,{fieldNames:y.value}),B=T.keyEntities,H;return e.defaultExpandAll?H=Object.keys(B):e.defaultExpandParent?H=Pn(e.expandedKeys||e.defaultExpandedKeys||[],B):H=e.expandedKeys||e.defaultExpandedKeys,H},K=W(e.selectedKeys||e.defaultSelectedKeys||[]),t=W(k());me(function(){return e.selectedKeys},function(){e.selectedKeys!==void 0&&(K.value=e.selectedKeys)},{immediate:!0}),me(function(){return e.expandedKeys},function(){e.expandedKeys!==void 0&&(t.value=e.expandedKeys)},{immediate:!0});var i=function(T,B){var H=B.isLeaf;H||T.shiftKey||T.metaKey||T.ctrlKey||b.value.onNodeExpand(T,B)},v=Ya(i,200,{leading:!0}),C=function(T,B){e.expandedKeys===void 0&&(t.value=T),d("update:expandedKeys",T),d("expand",T,B)},A=function(T,B){var H=e.expandAction;H==="click"&&v(T,B),d("click",T,B)},L=function(T,B){var H=e.expandAction;(H==="dblclick"||H==="doubleclick")&&v(T,B),d("doubleclick",T,B),d("dblclick",T,B)},q=function(T,B){var H=e.multiple,re=B.node,Y=B.nativeEvent,ie=re[y.value.key],U=E(E({},B),{},{selected:!0}),Q=(Y==null?void 0:Y.ctrlKey)||(Y==null?void 0:Y.metaKey),ce=Y==null?void 0:Y.shiftKey,ee;H&&Q?(ee=T,f.value=ie,h.value=ee,U.selectedNodes=Dn(u.value,ee,y.value)):H&&ce?(ee=Array.from(new Set([].concat(Se(h.value||[]),Se(sr({treeData:u.value,expandedKeys:t.value,startKey:ie,endKey:f.value,fieldNames:y.value}))))),U.selectedNodes=Dn(u.value,ee,y.value)):(ee=[ie],f.value=ie,h.value=ee,U.selectedNodes=Dn(u.value,ee,y.value)),d("update:selectedKeys",ee),d("select",ee,U),e.selectedKeys===void 0&&(K.value=ee)},J=function(T,B){d("update:checkedKeys",T),d("check",T,B)},R=en("tree",e),F=R.prefixCls,Z=R.direction;return function(){var P=he("".concat(F.value,"-directory"),z({},"".concat(F.value,"-directory-rtl"),Z.value==="rtl"),o.class),T=e.icon,B=T===void 0?s.icon:T,H=e.blockNode,re=H===void 0?!0:H,Y=Fe(e,vr);return w(Ze,E(E(E({},o),{},{icon:B||yr,ref:b,blockNode:re},Y),{},{prefixCls:F.value,class:P,expandedKeys:t.value,selectedKeys:K.value,onSelect:q,onClick:A,onDblclick:L,onExpand:C,onCheck:J}),s)}}});var On=wn;const hr=we(Ze,{DirectoryTree:En,TreeNode:On,install:function(e){return e.component(Ze.name,Ze),e.component(On.name,On),e.component(En.name,En),e}}),gr={class:"p-16px"},pr={class:"m-16px overscroll-contain overflow-y-auto overflow-x-hidden",style:{"max-height":"calc(100% - 64px)"}},br={class:"text-red"},Dr=ke({__name:"index",props:{single:{type:Boolean,default:!1}},emits:["select"],setup(n,{emit:e}){const a=n,r=lt();r.fetchdeviceTree();const o=W([]),s=(K,t)=>{a.single&&(o.value=[t.node.key]),e("select",t.node)},d=W(""),l=W([]),u=W(!0),f=K=>{l.value=K,u.value=!1},h=W([]),y=(K,t)=>{let i;if(!(t!=null&&t.length))return i;for(let v=0;v<t.length;v++){const C=t[v];C.children&&(C.children.some(A=>A.key===K)?i=C.key:y(K,C.children)&&(i=y(K,C.children)))}return i};let b=[];const x=K=>{const t=b.map(i=>i.title.indexOf(K)>-1?y(i.key,h.value):null).filter((i,v,C)=>i&&C.indexOf(i)===v);l.value=t,d.value=K,u.value=!0},k=Ja(K=>x(K.target.value),250);return Ce(()=>{if(h.value=r.deviceTree,b=r.deviceArr,a.single){for(let K of b)if(K.selectable){o.value=[K.key],l.value=[y(K.key,h.value)],e("select",K);break}}}),(K,t)=>(_e(),Kn(ma,null,[kn("div",gr,[w(Pe(Xa),{placeholder:"",allowClear:"",onInput:Pe(k)},{prefix:xn(()=>[w(Pe(bn),{icon:"ic:outline-search"})]),_:1},8,["onInput"])]),w(Pe(it),{class:"m0"}),kn("div",pr,[w(Pe(hr),{showIcon:"","tree-data":h.value,defaultExpandAll:"","expanded-keys":l.value,"auto-expand-parent":u.value,onExpand:f,selectedKeys:o.value,onSelect:s},{title:xn(({title:i,isLeaf:v,disabled:C,DeviceID:A})=>[i.indexOf(d.value)>-1?(_e(),Kn("span",{key:0,class:Cn({"text-primary":!C&&v&&A})},[Un(Je(i.substr(0,i.indexOf(d.value)))+" ",1),kn("span",br,Je(d.value),1),Un(" "+Je(i.substr(i.indexOf(d.value)+d.value.length)),1)],2)):(_e(),Kn("span",{key:1,class:Cn({"text-primary":!C&&v&&A})},Je(i),3))]),icon:xn(({isLeaf:i,DeviceID:v,disabled:C})=>[i&&v?(_e(),Wn(Pe(bn),{key:0,icon:"mdi:web-camera",class:Cn(["v-text-bottom",{"text-primary":!C}])},null,8,["class"])):(_e(),Wn(Pe(bn),{key:1,icon:"icon-park-solid:tree-diagram",class:"v-text-bottom rotate-90"}))]),_:1},8,["tree-data","expanded-keys","auto-expand-parent","selectedKeys"])])],64))}});export{Yn as R,Dr as _,Nr as a,ut as r};
