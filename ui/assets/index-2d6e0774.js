import{d as J,k as X,f as o,t as _t,A as wt,h as Tt,o as Me,r as Re,w as Le,e as oe,ag as Ot,x as kt,q as qe,s as It,F as De,J as Pt,E as B,S as ot,a3 as lt,V as _,u as v,W as Be,ac as U}from"./vue-12defb16.js";import{b as Nt,z as $t,u as Ae,r as he,c as it,d as L,C as Lt,q as Dt,l as Bt,aG as Mt,e as g,P as ae,aH as Rt,aI as At,aJ as Ft,aK as jt,aL as Ht,aM as zt,aN as Vt,aO as Ut,j as fe,K as ce,A as Fe,aP as Kt,aQ as rt,n as le,w as Ne,v as pe,aR as Gt,aS as qt,o as ie,R as Wt,ah as ue,aT as Xt,aU as Jt,aV as Yt,aW as Ce,as as st,aB as ct,aA as ut,aD as We,aX as Xe,a3 as Zt,aE as Qt,a8 as en,B as ee,Z as W,aC as tn,aY as nn,aF as Je,aZ as an,au as on,at as ln,ay as rn}from"./index-c0a17768.js";import"./dayjs-4778c158.js";import{u as sn}from"./index-b725aad8.js";import{C as de}from"./Card-78023e69.js";import{S as cn}from"./index-d94df19e.js";import{D as un}from"./DarkModeToggle-283f0d40.js";import"./mockjs-890b569b.js";import"./useFlexGapSupport-563fd2e9.js";var dn={success:Rt,info:At,error:Ft,warning:jt},pn={success:Ht,info:zt,error:Vt,warning:Ut},fn=$t("success","info","warning","error"),vn=function(){return{type:ae.oneOf(fn),closable:{type:Boolean,default:void 0},closeText:ae.any,message:ae.any,description:ae.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:ae.any,closeIcon:ae.any,onClose:Function}},mn=J({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:vn(),setup:function(e,n){var a=n.slots,s=n.emit,c=n.attrs,u=n.expose,m=Ae("alert",e),h=m.prefixCls,l=m.direction,b=X(!1),E=X(!1),w=X(),P=function(p){p.preventDefault();var T=w.value;T.style.height="".concat(T.offsetHeight,"px"),T.style.height="".concat(T.offsetHeight,"px"),b.value=!0,s("close",p)},f=function(){var p;b.value=!1,E.value=!0,(p=e.afterClose)===null||p===void 0||p.call(e)};u({animationEnd:f});var y=X({});return function(){var r,p,T=e.banner,V=e.closeIcon,C=V===void 0?(r=a.closeIcon)===null||r===void 0?void 0:r.call(a):V,S=e.closable,O=e.type,N=e.showIcon,Y=he(a,e,"closeText"),A=he(a,e,"description"),Z=he(a,e,"message"),j=he(a,e,"icon");N=T&&N===void 0?!0:N,O=T&&O===void 0?"warning":O||"info";var Q=(A?pn:dn)[O]||null;Y&&(S=!0);var $=h.value,we=it($,(p={},L(p,"".concat($,"-").concat(O),!0),L(p,"".concat($,"-closing"),b.value),L(p,"".concat($,"-with-description"),!!A),L(p,"".concat($,"-no-icon"),!N),L(p,"".concat($,"-banner"),!!T),L(p,"".concat($,"-closable"),S),L(p,"".concat($,"-rtl"),l.value==="rtl"),p)),Te=S?o("button",{type:"button",onClick:P,class:"".concat($,"-close-icon"),tabindex:0},[Y?o("span",{class:"".concat($,"-close-text")},[Y]):C===void 0?o(Lt,null,null):C]):null,Oe=j&&(Dt(j)?Bt(j,{class:"".concat($,"-icon")}):o("span",{class:"".concat($,"-icon")},[j]))||o(Q,{class:"".concat($,"-icon")},null),ke=Mt("".concat($,"-motion"),{appear:!1,css:!0,onAfterLeave:f,onBeforeLeave:function(i){i.style.maxHeight="".concat(i.offsetHeight,"px")},onLeave:function(i){i.style.maxHeight="0px"}});return E.value?null:o(Tt,ke,{default:function(){return[_t(o("div",g(g({role:"alert"},c),{},{style:[c.style,y.value],class:[c.class,we],"data-show":!b.value,ref:w}),[N?Oe:null,o("div",{class:"".concat($,"-content")},[Z?o("div",{class:"".concat($,"-message")},[Z]):null,A?o("div",{class:"".concat($,"-description")},[A]):null]),Te]),[[wt,!b.value]])]}})}}});const yn=Nt(mn);var gn=["noStyle","disabled"],bn={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},hn=J({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup:function(e,n){var a=n.slots,s=n.emit,c=n.attrs,u=n.expose,m=X(),h=function(f){var y=f.keyCode;y===ce.ENTER&&f.preventDefault()},l=function(f){var y=f.keyCode;y===ce.ENTER&&s("click",f)},b=function(f){s("click",f)},E=function(){m.value&&m.value.focus()},w=function(){m.value&&m.value.blur()};return Me(function(){e.autofocus&&E()}),u({focus:E,blur:w}),function(){var P,f=e.noStyle,y=e.disabled,r=fe(e,gn),p={};return f||(p=g({},bn)),y&&(p.pointerEvents="none"),o("div",g(g(g({role:"button",tabindex:0,ref:m},r),c),{},{onClick:b,onKeydown:h,onKeyup:l,style:g(g({},p),c.style||{})}),[(P=a.default)===null||P===void 0?void 0:P.call(a)])}}});const Ye=hn;var Cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const xn=Cn;function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),a.forEach(function(s){En(t,s,n[s])})}return t}function En(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var je=function(e,n){var a=Ze({},e,n.attrs);return o(Fe,Ze({},a,{icon:xn}),null)};je.displayName="EnterOutlined";je.inheritAttrs=!1;const Sn=je;var _n=function(){return{prefixCls:String,value:String,maxlength:Number,autoSize:{type:[Boolean,Object]},onSave:Function,onCancel:Function,onEnd:Function,onChange:Function,originContent:String,direction:String}},wn=J({compatConfig:{MODE:3},name:"Editable",props:_n(),setup:function(e,n){var a=n.emit,s=n.slots,c=Re({current:e.value||"",lastKeyCode:void 0,inComposition:!1,cancelFlag:!1});Le(function(){return e.value},function(r){c.current=r});var u=X();Me(function(){if(u.value){var r,p=(r=u.value)===null||r===void 0?void 0:r.resizableTextArea,T=p==null?void 0:p.textArea;T.focus();var V=T.value.length;T.setSelectionRange(V,V)}});function m(r){u.value=r}function h(r){var p=r.target.value;c.current=p.replace(/[\r\n]/g,""),a("change",c.current)}function l(){c.inComposition=!0}function b(){c.inComposition=!1}function E(r){var p=r.keyCode;p===ce.ENTER&&r.preventDefault(),!c.inComposition&&(c.lastKeyCode=p)}function w(r){var p=r.keyCode,T=r.ctrlKey,V=r.altKey,C=r.metaKey,S=r.shiftKey;c.lastKeyCode===p&&!c.inComposition&&!T&&!V&&!C&&!S&&(p===ce.ENTER?(f(),a("end")):p===ce.ESC&&(c.current=e.originContent,a("cancel")))}function P(){f()}function f(){a("save",c.current.trim())}var y=oe(function(){var r;return r={},L(r,"".concat(e.prefixCls),!0),L(r,"".concat(e.prefixCls,"-edit-content"),!0),L(r,"".concat(e.prefixCls,"-rtl"),e.direction==="rtl"),r});return function(){return o("div",{class:y.value},[o(Kt,{ref:m,maxlength:e.maxlength,value:c.current,onChange:h,onKeydown:E,onKeyup:w,onCompositionstart:l,onCompositionend:b,onBlur:P,rows:1,autoSize:e.autoSize===void 0||e.autoSize},null),s.enterIcon?s.enterIcon({className:"".concat(e.prefixCls,"-edit-content-confirm")}):o(Sn,{class:"".concat(e.prefixCls,"-edit-content-confirm")},null)])}}});const Tn=wn;var On=3,kn=8,R,$e={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function In(t){var e=Array.prototype.slice.apply(t);return e.map(function(n){return"".concat(n,": ").concat(t.getPropertyValue(n),";")}).join("")}function dt(t,e){t.setAttribute("aria-hidden","true");var n=window.getComputedStyle(e),a=In(n);t.setAttribute("style",a),t.style.position="fixed",t.style.left="0",t.style.height="auto",t.style.minHeight="auto",t.style.maxHeight="auto",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0",t.style.top="-999999px",t.style.zIndex="-1000",t.style.textOverflow="clip",t.style.whiteSpace="normal",t.style.webkitLineClamp="none"}function Pn(t){var e=document.createElement("div");dt(e,t),e.appendChild(document.createTextNode("text")),document.body.appendChild(e);var n=e.getBoundingClientRect().height;return document.body.removeChild(e),n}const Nn=function(t,e,n,a,s){R||(R=document.createElement("div"),R.setAttribute("aria-hidden","true"),document.body.appendChild(R));var c=e.rows,u=e.suffix,m=u===void 0?"":u,h=Pn(t),l=Math.round(h*c*100)/100;dt(R,t);var b=Ot({render:function(){return o("div",{style:$e},[o("span",{style:$e},[n,m]),o("span",{style:$e},[a])])}});b.mount(R);function E(){var C=Math.round(R.getBoundingClientRect().height*100)/100;return C-.1<=l}if(E())return b.unmount(),{content:n,text:R.innerHTML,ellipsis:!1};var w=Array.prototype.slice.apply(R.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(function(C){var S=C.nodeType,O=C.data;return S!==kn&&O!==""}),P=Array.prototype.slice.apply(R.childNodes[0].childNodes[1].cloneNode(!0).childNodes);b.unmount();var f=[];R.innerHTML="";var y=document.createElement("span");R.appendChild(y);var r=document.createTextNode(s+m);y.appendChild(r),P.forEach(function(C){R.appendChild(C)});function p(C){y.insertBefore(C,r)}function T(C,S){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.length,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,A=Math.floor((O+N)/2),Z=S.slice(0,A);if(C.textContent=Z,O>=N-1)for(var j=N;j>=O;j-=1){var Q=S.slice(0,j);if(C.textContent=Q,E()||!Q)return j===S.length?{finished:!1,vNode:S}:{finished:!0,vNode:Q}}return E()?T(C,S,A,N,A):T(C,S,O,A,Y)}function V(C){var S=C.nodeType;if(S===On){var O=C.textContent||"",N=document.createTextNode(O);return p(N),T(N,O)}return{finished:!1,vNode:null}}return w.some(function(C){var S=V(C),O=S.finished,N=S.vNode;return N&&f.push(N),O}),{content:f,text:R.innerHTML,ellipsis:!0}};var $n=["prefixCls","class","direction","component"],Ln=function(){return{prefixCls:String,direction:String,component:String}},Dn=J({name:"ATypography",inheritAttrs:!1,props:Ln(),setup:function(e,n){var a=n.slots,s=n.attrs,c=Ae("typography",e),u=c.prefixCls,m=c.direction;return function(){var h,l=g(g({},e),s);l.prefixCls,l.class,l.direction;var b=l.component,E=b===void 0?"article":b,w=fe(l,$n);return o(E,g({class:it(u.value,L({},"".concat(u.value,"-rtl"),m.value==="rtl"),s.class)},w),{default:function(){return[(h=a.default)===null||h===void 0?void 0:h.call(a)]}})}}});const F=Dn;var Bn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,a=[],s=0;s<e.rangeCount;s++)a.push(e.getRangeAt(s));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||a.forEach(function(c){e.addRange(c)}),n&&n.focus()}};const Mn=Bn;var Qe={"text/plain":"Text","text/html":"Url",default:"Text"},Rn="Copy to clipboard: #{key}, Enter";function An(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Fn(t,e){var n,a,s,c,u,m=!1;e||(e={});var h=e.debug||!1;try{a=Mn(),s=document.createRange(),c=document.getSelection(),u=document.createElement("span"),u.textContent=t,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(b){if(b.stopPropagation(),e.format)if(b.preventDefault(),typeof b.clipboardData>"u"){h&&console.warn("unable to use e.clipboardData"),h&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var E=Qe[e.format]||Qe.default;window.clipboardData.setData(E,t)}else b.clipboardData.clearData(),b.clipboardData.setData(e.format,t);e.onCopy&&(b.preventDefault(),e.onCopy(b.clipboardData))}),document.body.appendChild(u),s.selectNodeContents(u),c.addRange(s);var l=document.execCommand("copy");if(!l)throw new Error("copy command was unsuccessful");m=!0}catch(b){h&&console.error("unable to copy using execCommand: ",b),h&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),m=!0}catch(E){h&&console.error("unable to copy using clipboardData: ",E),h&&console.error("falling back to prompt"),n=An("message"in e?e.message:Rn),window.prompt(n,t)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(s):c.removeAllRanges()),u&&document.body.removeChild(u),a()}return m}var jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const Hn=jn;function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),a.forEach(function(s){zn(t,s,n[s])})}return t}function zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var He=function(e,n){var a=et({},e,n.attrs);return o(Fe,et({},a,{icon:Hn}),null)};He.displayName="CopyOutlined";He.inheritAttrs=!1;const Vn=He;var Un={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const Kn=Un;function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),a.forEach(function(s){Gn(t,s,n[s])})}return t}function Gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ze=function(e,n){var a=tt({},e,n.attrs);return o(Fe,tt({},a,{icon:Kn}),null)};ze.displayName="EditOutlined";ze.inheritAttrs=!1;const qn=ze;var Wn=["type","disabled","content","class","style"],Xn=rt("webkitLineClamp"),Jn=rt("textOverflow"),nt="...",ve=function(){return{editable:{type:[Boolean,Object],default:void 0},copyable:{type:[Boolean,Object],default:void 0},prefixCls:String,component:String,type:String,disabled:{type:Boolean,default:void 0},ellipsis:{type:[Boolean,Object],default:void 0},code:{type:Boolean,default:void 0},mark:{type:Boolean,default:void 0},underline:{type:Boolean,default:void 0},delete:{type:Boolean,default:void 0},strong:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},content:String,"onUpdate:content":Function}},Yn=J({compatConfig:{MODE:3},name:"Base",inheritAttrs:!1,props:ve(),setup:function(e,n){var a=n.slots,s=n.attrs,c=n.emit,u=Ae("typography",e),m=u.prefixCls,h=u.direction,l=Re({copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1,expandStr:"",copyStr:"",copiedStr:"",editStr:"",copyId:void 0,rafId:void 0,prevProps:void 0,originContent:""}),b=X(),E=X(),w=oe(function(){var i=e.ellipsis;return i?g({rows:1,expandable:!1},le(i)==="object"?i:null):{}});Me(function(){l.clientRendered=!0}),kt(function(){clearTimeout(l.copyId),Ne.cancel(l.rafId)}),Le([function(){return w.value.rows},function(){return e.content}],function(){qe(function(){Z()})},{flush:"post",deep:!0,immediate:!0}),It(function(){e.content===void 0&&(pe(!e.editable,"Typography","When `editable` is enabled, please use `content` instead of children"),pe(!e.ellipsis,"Typography","When `ellipsis` is enabled, please use `content` instead of children"))});function P(){var i,d;return e.ellipsis||e.editable?e.content:(i=b.value)===null||i===void 0||(d=i.$el)===null||d===void 0?void 0:d.innerText}function f(i){var d=w.value.onExpand;l.expanded=!0,d==null||d(i)}function y(i){i.preventDefault(),l.originContent=e.content,A(!0)}function r(i){p(i),A(!1)}function p(i){var d=C.value.onChange;i!==e.content&&(c("update:content",i),d==null||d(i))}function T(){var i,d;(i=(d=C.value).onCancel)===null||i===void 0||i.call(d),A(!1)}function V(i){i.preventDefault(),i.stopPropagation();var d=e.copyable,x=g({},le(d)==="object"?d:null);x.text===void 0&&(x.text=P()),Fn(x.text||""),l.copied=!0,qe(function(){x.onCopy&&x.onCopy(),l.copyId=setTimeout(function(){l.copied=!1},3e3)})}var C=oe(function(){var i=e.editable;return i?g({},le(i)==="object"?i:null):{editing:!1}}),S=Gt(!1,{value:oe(function(){return C.value.editing})}),O=qt(S,2),N=O[0],Y=O[1];function A(i){var d=C.value.onStart;i&&d&&d(),Y(i)}Le(N,function(i){if(!i){var d;(d=E.value)===null||d===void 0||d.focus()}},{flush:"post"});function Z(){Ne.cancel(l.rafId),l.rafId=Ne(function(){Q()})}var j=oe(function(){var i=w.value,d=i.rows,x=i.expandable,k=i.suffix,M=i.onEllipsis,I=i.tooltip;return k||I||e.editable||e.copyable||x||M?!1:d===1?Jn:Xn}),Q=function(){var d,x,k=l.ellipsisText,M=l.isEllipsis,I=w.value,D=I.rows,H=I.suffix,K=I.onEllipsis;if(!(!D||D<0||!((d=b.value)!==null&&d!==void 0&&d.$el)||l.expanded||e.content===void 0)&&!j.value){var z=Nn((x=b.value)===null||x===void 0?void 0:x.$el,{rows:D,suffix:H},e.content,re(!0),nt),se=z.content,te=z.text,G=z.ellipsis;(k!==te||l.isEllipsis!==G)&&(l.ellipsisText=te,l.ellipsisContent=se,l.isEllipsis=G,M!==G&&K&&K(G))}};function $(i,d){var x=i.mark,k=i.code,M=i.underline,I=i.delete,D=i.strong,H=i.keyboard,K=d;function z(se,te){if(se){var G=function(){return K}();K=o(te,null,{default:function(){return[G]}})}}return z(D,"strong"),z(M,"u"),z(I,"del"),z(k,"code"),z(x,"mark"),z(H,"kbd"),K}function we(i){var d=w.value,x=d.expandable,k=d.symbol;if(!x||!i&&(l.expanded||!l.isEllipsis))return null;var M=(a.ellipsisSymbol?a.ellipsisSymbol():k)||l.expandStr;return o("a",{key:"expand",class:"".concat(m.value,"-expand"),onClick:f,"aria-label":l.expandStr},[M])}function Te(){if(e.editable){var i=e.editable,d=i.tooltip,x=i.triggerType,k=x===void 0?["icon"]:x,M=a.editableIcon?a.editableIcon():o(qn,{role:"button"},null),I=a.editableTooltip?a.editableTooltip():l.editStr,D=typeof I=="string"?I:"";return k.indexOf("icon")!==-1?o(ue,{key:"edit",title:d===!1?"":I},{default:function(){return[o(Ye,{ref:E,class:"".concat(m.value,"-edit"),onClick:y,"aria-label":D},{default:function(){return[M]}})]}}):null}}function Oe(){if(e.copyable){var i=e.copyable.tooltip,d=l.copied?l.copiedStr:l.copyStr,x=a.copyableTooltip?a.copyableTooltip({copied:l.copied}):d,k=typeof x=="string"?x:"",M=l.copied?o(Jt,null,null):o(Vn,null,null),I=a.copyableIcon?a.copyableIcon({copied:!!l.copied}):M;return o(ue,{key:"copy",title:i===!1?"":x},{default:function(){return[o(Ye,{class:["".concat(m.value,"-copy"),L({},"".concat(m.value,"-copy-success"),l.copied)],onClick:V,"aria-label":k},{default:function(){return[I]}})]}})}}function ke(){var i=s.class,d=s.style,x=C.value,k=x.maxlength,M=x.autoSize,I=x.onEnd;return o(Tn,{class:i,style:d,prefixCls:m.value,value:e.content,originContent:l.originContent,maxlength:k,autoSize:M,onSave:r,onChange:p,onCancel:T,onEnd:I,direction:h.value},{enterIcon:a.editableEnterIcon})}function re(i){return[we(i),Te(),Oe()].filter(function(d){return d})}return function(){var i,d=C.value.triggerType,x=d===void 0?["icon"]:d,k=e.ellipsis||e.editable?e.content!==void 0?e.content:(i=a.default)===null||i===void 0?void 0:i.call(a):a.default?a.default():e.content;return N.value?ke():o(Xt,{componentName:"Text",children:function(I){var D,H=g(g({},e),s),K=H.type,z=H.disabled;H.content;var se=H.class,te=H.style,G=fe(H,Wn),ye=w.value,q=ye.rows,Ue=ye.suffix,Ie=ye.tooltip,mt=I.edit,yt=I.copy,gt=I.copied,bt=I.expand;l.editStr=mt,l.copyStr=yt,l.copiedStr=gt,l.expandStr=bt;var ht=ie(G,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard","onUpdate:content"]),ge=j.value,Ct=q===1&&ge,Ke=q&&q>1&&ge,ne=k,xt;if(q&&l.isEllipsis&&!l.expanded&&!ge){var Pe,Ge=G.title,be=Ge||"";!Ge&&(typeof k=="string"||typeof k=="number")&&(be=String(k)),be=(Pe=be)===null||Pe===void 0?void 0:Pe.slice(String(l.ellipsisContent||"").length),ne=o(De,null,[Pt(l.ellipsisContent),o("span",{title:be,"aria-hidden":"true"},[nt]),Ue])}else ne=o(De,null,[k,Ue]);ne=$(e,ne);var Et=Ie&&q&&l.isEllipsis&&!l.expanded&&!ge,St=a.ellipsisTooltip?a.ellipsisTooltip():Ie;return o(Wt,{onResize:Z,disabled:!q},{default:function(){return[o(F,g({ref:b,class:[(D={},L(D,"".concat(m.value,"-").concat(K),K),L(D,"".concat(m.value,"-disabled"),z),L(D,"".concat(m.value,"-ellipsis"),q),L(D,"".concat(m.value,"-single-line"),q===1&&!l.isEllipsis),L(D,"".concat(m.value,"-ellipsis-single-line"),Ct),L(D,"".concat(m.value,"-ellipsis-multiple-line"),Ke),D),se],style:g(g({},te),{},{WebkitLineClamp:Ke?q:void 0}),"aria-label":xt,direction:h.value,onClick:x.indexOf("text")!==-1?y:function(){}},ht),{default:function(){return[Et?o(ue,{title:Ie===!0?k:St},{default:function(){return[o("span",null,[ne])]}}):ne,re()]}})]}})}},null)}}});const me=Yn;var Zn=["ellipsis","rel"],Qn=function(){return ie(g(g({},ve()),{},{ellipsis:{type:Boolean,default:void 0}}),["component"])},xe=function(e,n){var a=n.slots,s=n.attrs,c=g(g({},e),s),u=c.ellipsis,m=c.rel,h=fe(c,Zn);pe(le(u)!=="object","Typography.Link","`ellipsis` only supports boolean value.");var l=g(g({},h),{},{rel:m===void 0&&h.target==="_blank"?"noopener noreferrer":m,ellipsis:!!u,component:"a"});return delete l.navigate,o(me,l,a)};xe.displayName="ATypographyLink";xe.inheritAttrs=!1;xe.props=Qn();const pt=xe;var ea=function(){return ie(ve(),["component"])},Ee=function(e,n){var a=n.slots,s=n.attrs,c=g(g({},e),{},{component:"div"},s);return o(me,c,a)};Ee.displayName="ATypographyParagraph";Ee.inheritAttrs=!1;Ee.props=ea();const Ve=Ee;var ta=function(){return g(g({},ie(ve(),["component"])),{},{ellipsis:{type:[Boolean,Object],default:void 0}})},Se=function(e,n){var a=n.slots,s=n.attrs,c=e.ellipsis;pe(le(c)!=="object"||!c||!("expandable"in c)&&!("rows"in c),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props.");var u=g(g({},e),{},{ellipsis:c&&le(c)==="object"?ie(c,["expandable","rows"]):c,component:"span"},s);return o(me,u,a)};Se.displayName="ATypographyText";Se.inheritAttrs=!1;Se.props=ta();const ft=Se;var na=["level"],aa=Yt(1,2,3,4,5),oa=function(){return g(g({},ie(ve(),["component","strong"])),{},{level:Number})},_e=function(e,n){var a=n.slots,s=n.attrs,c=e.level,u=c===void 0?1:c,m=fe(e,na),h;aa.indexOf(u)!==-1?h="h".concat(u):(pe(!1,"Typography","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value."),h="h1");var l=g(g({},m),{},{component:h},s);return o(me,l,a)};_e.displayName="ATypographyTitle";_e.inheritAttrs=!1;_e.props=oa();const vt=_e;F.Text=ft;F.Title=vt;F.Paragraph=Ve;F.Link=pt;F.Base=me;F.install=function(t){return t.component(F.name,F),t.component(F.Text.displayName,ft),t.component(F.Title.displayName,vt),t.component(F.Paragraph.displayName,Ve),t.component(F.Link.displayName,pt),t};function la(t){return Ce.get({url:"/list",params:t},{errorMessageMode:"message"})}function ia(t){return Ce.get({url:"/add",params:t},{errorMessageMode:"message"})}function ra(t){return Ce.get({url:"/update",params:t},{errorMessageMode:"message"})}function sa(t){return Ce.get({url:"/del",params:t},{errorMessageMode:"message"})}const ca=()=>({type:"object",properties:{layout:{type:"void","x-component":"FormLayout","x-component-props":{layout:"horizontal",labelCol:6,wrapperCol:14},properties:{name:{type:"string",title:"实例名称","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:"请输入实例名称",allowClear:!0},required:!0}}}}}),ua=()=>({type:"object",properties:{layout:{type:"void","x-component":"FormLayout","x-component-props":{layout:"horizontal",labelCol:6,wrapperCol:14},properties:{name:{type:"string",title:"实例名称","x-decorator":"FormItem","x-component":"Input","x-component-props":{placeholder:"请输入实例名称",allowClear:!0},required:!0},resetSecret:{type:"number",title:"是否重置秘钥","x-decorator":"FormItem","x-component":"Checkbox"}}}}}),{FormilyForm:da,form:pa,submit:fa}=st({schema:ca()}),va=({updateList:t,pause:e,resume:n})=>{e(),ct({content:()=>o(da,null,null),modalConfig:{title:"新增实例",maskClosable:!1,onOk:async()=>{const a=await fa();return a?(await ia(a),ut.success("添加成功"),t(),Promise.resolve(!0)):(n(),Promise.reject(!1))},onClose:()=>{pa.reset(),n()}}})},{FormilyForm:ma,form:at,submit:ya}=st({schema:ua()}),ga=({row:t,updateList:e,pause:n,resume:a})=>{n();const{id:s,name:c}=t;at.setValues({name:c}),ct({content:()=>o(ma,null,null),modalConfig:{title:"新增",maskClosable:!1,onOk:async()=>{const u=await ya();return u?(await ra({id:s,...u}),ut.success("编辑成功"),e(),Promise.resolve(!0)):(a(),Promise.reject(!1))},onClose:()=>{at.reset(),a()}}})},ba=J({__name:"list",setup(t){We.renderer.add("LineStatus",{renderDefault(f,y){const{row:r}=y;return[r.Online?o(Xe,{color:"#87d068"},{default:()=>[B("在线")]}):o(Xe,{color:"#ff99a0"},{default:()=>[B("离线")]})]}}),We.renderer.add("secretCopy",{renderDefault(f,y){const{row:r}=y;return[o(Ve,{copyable:!0,ellipsis:!0,content:r.Secret},null)]}});const e={padding:"4px"},n=Re({pageNum:1,pageSize:10,total:0}),a=sn(),s={height:"596px",pagerConfig:{pageSize:10},columns:[{field:"ID",title:"ID",width:"80px"},{field:"Name",title:"名称",showOverflow:"tooltip",width:"120px"},{field:"Secret",title:"秘钥",showOverflow:"tooltip",cellRender:{name:"secretCopy"}},{field:"Online",title:"状态",cellRender:{name:"LineStatus"},width:"80px"},{field:"CreatedAt",title:"创建时间",formatter:({cellValue:f})=>Je.toDateString(f,"yyyy-MM-dd HH:ss:mm")},{field:"UpdatedAt",title:"更新时间",formatter:({cellValue:f})=>Je.toDateString(f,"yyyy-MM-dd HH:ss:mm")},{field:"operate",title:"操作",width:"244px",slots:{default:"operate"},fixed:"right"}]},c={pageChange:({currentPage:f,pageSize:y})=>{n.pageNum=f,n.pageSize=y}},u=()=>{la(n).then(f=>{n.total=f.total,a.tableRef.loadData(f.list)}).catch(f=>{console.error(`instance-getList-error: ${f}`)})};u();const{httpRefreshTime:m}=Zt({VITE_PORT:"3000",VITE_GLOB_APP_TITLE:"Monibuca Admin",VITE_GLOB_APP_SHORT_NAME:"m7s_admin",VITE_USE_MOCK:"true",VITE_PUBLIC_PATH:"/ui",VITE_DROP_CONSOLE:"true",VITE_BUILD_COMPRESS:"none",VITE_BUILD_COMPRESS_DELETE_ORIGIN_FILE:"false",VITE_GLOB_HTTP_REFRESH_TIME:"5000",VITE_USE_IMAGEMIN:"true",VITE_LEGACY:"false",VITE_M7S_SERVER:"",BASE_URL:"/ui",MODE:"production",DEV:!1,PROD:!0,SSR:!1}),{pause:h,resume:l}=Qt(()=>{u()},m),b=f=>{h();const{createConfirm:y,createMessage:r}=on();y({iconType:"warning",title:"删除提醒",content:`确定要删除 <b style="color: var(--primary-color)">${f.Name}</b> 实例吗`,onOk:async()=>{await sa({id:f.id}),r.success(`实例 ${f.name} 删除成功`),u(),l()},onCancel:()=>{l()}})},E=en(),w=(f,y=!1)=>{if(y)E({path:"/overview/detail",query:{m7sId:f}},!0);else{const{href:r}=an.resolve({name:"Overview",query:{m7sId:f}});window.open(r,"_blank")}};function P(){E({path:"/overview/detail"})}return(f,y)=>(ot(),lt(De,null,[o(v(de),{bordered:!1,class:"mb-4px",bodyStyle:e},{default:_(()=>[o(v(yn),{type:"info",banner:"",message:"当前已配置成自动注册，下级m7s可以自动注册到当前实例"})]),_:1}),o(v(de),{bordered:!1,class:"mb-4px",bodyStyle:e},{default:_(()=>[o(v(ee),{onClick:y[0]||(y[0]=r=>v(va)({updateList:u,pause:v(h),resume:v(l)}))},{icon:_(()=>[o(v(W),{icon:"fluent:add-square-20-filled",class:"v-text-bottom"})]),default:_(()=>[B(" 新增实例 ")]),_:1}),o(v(ee),{type:"primary",onClick:y[1]||(y[1]=r=>P())},{icon:_(()=>[o(v(W),{icon:"fluent:rocket-20-filled",class:"v-text-bottom"})]),default:_(()=>[B(" 进入当前实例 ")]),_:1})]),_:1}),o(v(de),{bordered:!1,bodyStyle:e},{default:_(()=>[o(v(tn),{emptyText:"当前m7s实例下没有下级m7s实例",uid:v(a).uid,gridOptions:v(s),"grid-event":v(c)},{operate:_(({row:r})=>[o(v(cn),null,{default:_(()=>[o(v(ue),null,{title:_(()=>[B(Be(r.Online?"当前窗口打开":"只有实例状态在线时才可以访问详情"),1)]),default:_(()=>[o(v(ee),{size:"small",type:"link",onClick:p=>w(r.ID,!0),disabled:!r.Online},{default:_(()=>[B(" 详情 "),o(v(W),{icon:"tabler:exchange",class:"v-text-bottom"})]),_:2},1032,["onClick","disabled"])]),_:2},1024),o(v(ue),null,{title:_(()=>[B(Be(r.Online?"新窗口打开":"只有实例状态在线时才可以访问详情"),1)]),default:_(()=>[o(v(ee),{size:"small",type:"link",onClick:p=>w(r.ID),disabled:!r.Online},{default:_(()=>[B(" 详情 "),o(v(W),{class:"v-text-bottom",icon:"fluent:window-new-16-filled"})]),_:2},1032,["onClick","disabled"])]),_:2},1024),o(v(ee),{size:"small",type:"link",onClick:p=>v(ga)({row:r,updateList:u,pause:v(h),resume:v(l)})},{default:_(()=>[B(" 编辑 ")]),_:2},1032,["onClick"]),o(v(ee),{size:"small",type:"link",danger:"",onClick:p=>b(r)},{default:_(()=>[B(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1024)]),pager:_(()=>[o(v(nn),{layouts:["Sizes","PrevPage","Number","NextPage","Total"],"current-page":n.pageNum,"onUpdate:currentPage":y[2]||(y[2]=r=>n.pageNum=r),"page-size":n.pageSize,"onUpdate:pageSize":y[3]||(y[3]=r=>n.pageSize=r),total:n.total},null,8,["current-page","page-size","total"])]),_:1},8,["uid","gridOptions","grid-event"])]),_:1})],64))}});const ha={class:"h-100vh w-100vw flex-center",style:{background:"var(--layout-background)"}},Ca={class:"m-auto flex h-800px w-1300px"},xa={class:"h-full flex flex-col justify-between text-center"},Ea=["src"],Sa=U("h2",{class:"mt-6px color-text"},"实例管理平台",-1),_a={class:"color-text"},wa={class:"block mt-10px",href:"https://m7s.live/guide/introduction.html",target:"_blank"},Ta={class:"block mt-10px",href:"https://space.bilibili.com/328443019/channel/collectiondetail?sid=514619",target:"_blank"},Oa={class:"block mt-10px",href:"https://www.bilibili.com/video/BV1jg411H7qE/",target:"_blank"},ka={class:"block mt-10px",href:"https://github.com/Monibuca/plugin-gb28181",target:"_blank"},Ia=J({name:"Instance"}),za=J({...Ia,setup(t){const e=ln(),n=oe(()=>{const{mail:a="",nickname:s=""}=e.getUserInfo||{};return{mail:a,nickname:s}});return(a,s)=>(ot(),lt("div",ha,[U("div",Ca,[o(v(de),{hoverable:"",class:"flex-1",bodyStyle:{height:"100%"}},{default:_(()=>[o(ba)]),_:1}),o(v(de),{class:"w-200px",hoverable:"",bodyStyle:{height:"100%"}},{default:_(()=>[U("div",xa,[U("div",null,[U("img",{src:v(rn),class:"w-120px"},null,8,Ea),Sa,U("h4",_a,Be(v(n).nickname||v(n).mail),1),o(v(un))]),U("div",null,[o(v(ee),{type:"link",danger:"",class:"mt-6px",onClick:s[0]||(s[0]=()=>v(e).confirmLoginOut())},{default:_(()=>[B(" 退出系统 "),o(v(W),{icon:"ri:shut-down-line",class:"v-text-bottom ml-4px"})]),_:1}),U("a",wa,[B(" 官方文档 "),o(v(W),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),U("a",Ta,[B(" 视频教程 "),o(v(W),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),U("a",Oa,[B(" RTS分享 "),o(v(W),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})]),U("a",ka,[B(" GB28181插件 "),o(v(W),{icon:"fluent:window-new-16-filled",class:"v-text-bottom"})])])])]),_:1})])]))}});export{za as default};
